function handleClientJSLoad(){isClientJS=!0;var e=document.createEvent("Events");e.initEvent("gapi.loaded",!0,!0),window.dispatchEvent(e)}!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),a=function(){var a=e.preferredLanguage();angular.isString(a)?e.use(a):n.put(t,e.use())};a.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](a):a():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n,a=null,i=!1,o=!1;n={sanitize:function(e,t){return"text"===t&&(e=s(e)),e},escape:function(e,t){return"text"===t&&(e=r(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=c(e,s)),e},escapeParameters:function(e,t){return"params"===t&&(e=c(e,r)),e},sce:function(e,t,n){return"text"===t?e=l(e):"params"===t&&"filter"!==n&&(e=c(e,r)),e},sceParameters:function(e,t){return"params"===t&&(e=c(e,l)),e}},n.escaped=n.escapeParameters,this.addStrategy=function(e,t){return n[e]=t,this},this.removeStrategy=function(e){return delete n[e],this},this.useStrategy=function(e){return i=!0,a=e,this},this.$get=["$injector","$log",function(r,s){var l={},c=function(e,t,a,i){return angular.forEach(i,function(i){if(angular.isFunction(i))e=i(e,t,a);else if(angular.isFunction(n[i]))e=n[i](e,t,a);else{if(!angular.isString(n[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!l[n[i]])try{l[n[i]]=r.get(n[i])}catch(o){throw l[n[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}e=l[n[i]](e,t,a)}}),e},u=function(){i||o||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0)};return r.has("$sanitize")&&(e=r.get("$sanitize")),r.has("$sce")&&(t=r.get("$sce")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,n,i){if(a||u(),n||null===n||(n=a),!n)return e;i||(i="service");var o=angular.isArray(n)?n:[n];return c(e,t,i,o)}}}];var r=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},s=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},l=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return t.trustAsHtml(e)},c=function(e,t,n){if(angular.isDate(e))return e;if(angular.isObject(e)){var a=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,i){angular.isFunction(e)||(a[i]=c(e,t,n))}),n.splice(-1,1),a}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,a){"use strict";var i,o,r,s,l,c,u,d,p,f,m,g,h,v,b,y,$={},w=[],k=e,x=[],C="translate-cloak",D=!1,T=!1,S=".",E=!1,O=!1,P=0,A=!0,M="default",I={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t},"iso639-1":function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n[0].toLowerCase()}},L="2.13.1",N=function(){if(angular.isFunction(a.getLocale))return a.getLocale();var e,n,i=t.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(e=0;e<i.languages.length;e++)if(n=i.languages[e],n&&n.length)return n;for(e=0;e<o.length;e++)if(n=i[o[e]],n&&n.length)return n;return null};N.displayName="angular-translate/service: getFirstBrowserLanguage";var F=function(){var e=N()||"";return I[M]&&(e=I[M](e)),e};F.displayName="angular-translate/service: getLocale";var U=function(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1},V=function(){return this.toString().replace(/^\s+|\s+$/g,"")},j=function(e){if(e){for(var t=[],n=angular.lowercase(e),a=0,i=w.length;i>a;a++)t.push(angular.lowercase(w[a]));if(U(t,n)>-1)return e;if(o){var r;for(var s in o)if(o.hasOwnProperty(s)){var l=!1,c=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(r=o[s],U(t,angular.lowercase(r))>-1))return r}}var u=e.split("_");return u.length>1&&U(t,angular.lowercase(u[0]))>-1?u[0]:void 0}},_=function(e,t){if(!e&&!t)return $;if(e&&!t){if(angular.isString(e))return $[e]}else angular.isObject($[e])||($[e]={}),angular.extend($[e],H(t));return this};this.translations=_,this.cloakClassName=function(e){return e?(C=e,this):C},this.nestedObjectDelimeter=function(e){return e?(S=e,this):S};var H=function(e,t,n,a){var i,o,r,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?H(s,t.concat(i),n,i):(o=t.length?""+t.join(S)+S+i:i,t.length&&i===a&&(r=""+t.join(S),n[r]="@:"+o),n[o]=s));return n};H.displayName="flatObject",this.addInterpolation=function(e){return x.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return f=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(R(e),this):i};var R=function(e){return e&&(i=e),i};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(h=e,this):h},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return z(e),this};var z=function(e){return e?(angular.isString(e)?(s=!0,r=[e]):angular.isArray(e)&&(s=!1,r=e),angular.isString(i)&&U(r,i)<0&&r.push(i),this):s?r[0]:r};this.use=function(e){if(e){if(!$[e]&&!m)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l},this.resolveClientLocale=function(){return F()};var q=function(e){return e?(k=e,this):d?d+k:k};this.storageKey=q,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return m=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return p=e,this},this.usePostCompiling=function(e){return D=!!e,this},this.forceAsyncReload=function(e){return T=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},M=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():F();return i=w.length?j(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(w=e,t&&(o=t),this):w},this.useLoaderCache=function(e){return e===!1?b=void 0:e===!0?b=!0:"undefined"==typeof e?b="$translationCache":e&&(b=e),this},this.directivePriority=function(e){return void 0===e?P:(P=e,this)},this.statefulFilter=function(e){return void 0===e?A:(A=e,this)},this.postProcess=function(e){return y=e?e:void 0,this},this.keepContent=function(e){return O=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,a){var o,d,M,I=t.get(f||"$translateDefaultInterpolation"),N=!1,B={},W={},G=function(e,t,n,s,c){!l&&i&&(l=i);var p=c&&c!==l?j(c)||c:l;if(c&&ut(c),angular.isArray(e)){var f=function(e){for(var i={},o=[],r=function(e){var o=a.defer(),r=function(t){i[e]=t,o.resolve([e,t])};return G(e,t,n,s,c).then(r,r),o.promise},l=0,u=e.length;u>l;l++)o.push(r(e[l]));return a.all(o).then(function(){return i})};return f(e)}var m=a.defer();e&&(e=V.apply(e));var g=function(){var e=i?W[i]:W[p];if(d=0,u&&!e){var t=o.get(k);if(e=W[t],r&&r.length){var n=U(r,t);d=0===n?1:0,U(r,i)<0&&r.push(i)}}return e}();if(g){var h=function(){c||(p=l),rt(e,t,n,s,p).then(m.resolve,m.reject)};h.displayName="promiseResolved",g["finally"](h)}else rt(e,t,n,s,p).then(m.resolve,m.reject);return m.promise},Y=function(e){return h&&(e=[h,e].join(" ")),v&&(e=[e,v].join(" ")),e},K=function(e){l=e,u&&o.put(G.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),I.setLocale(l);var t=function(e,t){B[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(B,t),n.$emit("$translateChangeEnd",{language:e})},Q=function(e){if(!e)throw"No language key specified for loading.";var i=a.defer();n.$emit("$translateLoadingStart",{language:e}),N=!0;var o=b;"string"==typeof o&&(o=t.get(o));var r=angular.extend({},g,{key:e,$http:angular.extend({},{cache:o},g.$http)}),s=function(t){var a={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(a,H(e))}):angular.extend(a,H(t)),N=!1,i.resolve({key:e,table:a}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),i.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(m)(r).then(s,l),i.promise};if(u&&(o=t.get(u),!o.get||!o.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(x.length){var J=function(e){var n=t.get(e);n.setLocale(i||l),B[n.getInterpolationIdentifier()]=n};J.displayName="interpolationFactoryAdder",angular.forEach(x,J)}var X=function(e){var t=a.defer();if(Object.prototype.hasOwnProperty.call($,e))t.resolve($[e]);else if(W[e]){var n=function(e){_(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",W[e].then(n,t.reject)}else t.reject();return t.promise},Z=function(e,t,n,i){var o=a.defer(),r=function(a){if(Object.prototype.hasOwnProperty.call(a,t)){i.setLocale(e);var r=a[t];if("@:"===r.substr(0,2))Z(e,r.substr(2),n,i).then(o.resolve,o.reject);else{var s=i.interpolate(a[t],n,"service");s=ct(t,a[t],s,n,e),o.resolve(s)}i.setLocale(l)}else o.reject()};return r.displayName="fallbackTranslationResolver",X(e).then(r,o.reject),o.promise},et=function(e,t,n,a,i){var o,r=$[e];if(r&&Object.prototype.hasOwnProperty.call(r,t)){if(a.setLocale(e),o=a.interpolate(r[t],n,"filter",i),o=ct(t,r[t],o,n,e,i),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var s=o.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return et(e,s.substr(2),n,a,i)}else if("@:"===o.substr(0,2))return et(e,o.substr(2),n,a,i);a.setLocale(l)}return o},tt=function(e,n,a,i){return p?t.get(p)(e,l,n,a,i):e},nt=function(e,t,n,i,o){var s=a.defer();if(e<r.length){var l=r[e];Z(l,t,n,i).then(function(e){s.resolve(e)},function(){return nt(e+1,t,n,i,o).then(s.resolve,s.reject)})}else if(o)s.resolve(o);else{var c=tt(t,n,o);p&&c?s.resolve(c):s.reject(Y(t))}return s.promise},at=function(e,t,n,a,i){var o;if(e<r.length){var s=r[e];o=et(s,t,n,a,i),o||""===o||(o=at(e+1,t,n,a))}return o},it=function(e,t,n,a){return nt(M>0?M:d,e,t,n,a)},ot=function(e,t,n,a){return at(M>0?M:d,e,t,n,a)},rt=function(e,t,n,i,o){var s=a.defer(),l=o?$[o]:$,c=n?B[n]:I;if(l&&Object.prototype.hasOwnProperty.call(l,e)){var u=l[e];if("@:"===u.substr(0,2))G(u.substr(2),t,n,i,o).then(s.resolve,s.reject);else{var d=c.interpolate(u,t,"service");d=ct(e,u,d,t,o),s.resolve(d)}}else{var f;p&&!N&&(f=tt(e,t,i)),o&&r&&r.length?it(e,t,c,i).then(function(e){s.resolve(e)},function(e){s.reject(Y(e))}):p&&!N&&f?i?s.resolve(i):s.resolve(f):i?s.resolve(i):s.reject(Y(e))}return s.promise},st=function(e,t,n,a,i){var o,s=a?$[a]:$,l=I;if(B&&Object.prototype.hasOwnProperty.call(B,n)&&(l=B[n]),s&&Object.prototype.hasOwnProperty.call(s,e)){var c=s[e];"@:"===c.substr(0,2)?o=st(c.substr(2),t,n,a,i):(o=l.interpolate(c,t,"filter",i),o=ct(e,c,o,t,a,i))}else{var u;p&&!N&&(u=tt(e,t,i)),a&&r&&r.length?(d=0,o=ot(e,t,l,i)):o=p&&!N&&u?u:Y(e)}return o},lt=function(e){c===e&&(c=void 0),W[e]=void 0},ct=function(e,n,a,i,o,r){var s=y;return s&&("string"==typeof s&&(s=t.get(s)),s)?s(e,n,a,i,o,r):a},ut=function(e){$[e]||!m||W[e]||(W[e]=Q(e).then(function(e){return _(e.key,e.table),e}))};G.preferredLanguage=function(e){return e&&R(e),i},G.cloakClassName=function(){return C},G.nestedObjectDelimeter=function(){return S},G.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(z(e),m&&r&&r.length)for(var t=0,n=r.length;n>t;t++)W[r[t]]||(W[r[t]]=Q(r[t]));G.use(G.use())}return s?r[0]:r},G.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=U(r,e);t>-1&&(M=t)}else M=0},G.proposedLanguage=function(){return c},G.storage=function(){return o},G.negotiateLocale=j,G.use=function(e){if(!e)return l;var t=a.defer();n.$emit("$translateChangeStart",{language:e});var i=j(e);return w.length>0&&!i?a.reject(e):(i&&(e=i),c=e,!T&&$[e]||!m||W[e]?W[e]?W[e].then(function(e){return c===e.key&&K(e.key),t.resolve(e.key),e},function(e){return!l&&r&&r.length>0&&r[0]!==e?G.use(r[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),K(e)):(W[e]=Q(e).then(function(n){return _(n.key,n.table),t.resolve(n.key),c===e&&K(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),a.reject(e)}),W[e]["finally"](function(){lt(e)})),t.promise)},G.resolveClientLocale=function(){return F()},G.storageKey=function(){return q()},G.isPostCompilingEnabled=function(){return D},G.isForceAsyncReloadEnabled=function(){return T},G.isKeepContent=function(){return O},G.refresh=function(e){function t(){o.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function i(){o.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!m)throw new Error("Couldn't refresh translation table, no loader registered!");var o=a.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if($[e]){var s=function(n){return _(n.key,n.table),e===l&&K(l),t(),n};s.displayName="refreshPostProcessor",Q(e).then(s,i)}else i();else{var c=[],u={};if(r&&r.length)for(var d=0,p=r.length;p>d;d++)c.push(Q(r[d])),u[r[d]]=!0;l&&!u[l]&&c.push(Q(l));var f=function(e){$={},angular.forEach(e,function(e){_(e.key,e.table)}),l&&K(l),t()};f.displayName="refreshPostProcessor",a.all(c).then(f,i)}return o.promise},G.instant=function(e,t,n,a,o){var s=a&&a!==l?j(a)||a:l;if(null===e||angular.isUndefined(e))return e;if(a&&ut(a),angular.isArray(e)){for(var c={},u=0,d=e.length;d>u;u++)c[e[u]]=G.instant(e[u],t,n,a,o);return c}if(angular.isString(e)&&e.length<1)return e;e&&(e=V.apply(e));var f,m=[];i&&m.push(i),s&&m.push(s),r&&r.length&&(m=m.concat(r));for(var g=0,b=m.length;b>g;g++){var y=m[g];if($[y]&&"undefined"!=typeof $[y][e]&&(f=st(e,t,n,s,o)),"undefined"!=typeof f)break}if(!f&&""!==f)if(h||v)f=Y(e);else{f=I.interpolate(e,t,"filter",o);var w;p&&!N&&(w=tt(e,t,o)),p&&!N&&w&&(f=w)}return f},G.versionInfo=function(){return L},G.loaderCache=function(){return b},G.directivePriority=function(){return P},G.statefulFilter=function(){return A},G.isReady=function(){return E};var dt=a.defer();dt.promise.then(function(){E=!0}),G.onReady=function(e){var t=a.defer();return angular.isFunction(e)&&t.promise.then(e),E?t.resolve():dt.promise.then(t.resolve),t.promise},G.getAvailableLanguageKeys=function(){return w.length>0?w:null},G.getTranslationTable=function(e){return e=e||G.use(),e&&$[e]?angular.copy($[e]):null};var pt=n.$on("$translateReady",function(){dt.resolve(),pt(),pt=null}),ft=n.$on("$translateChangeEnd",function(){dt.resolve(),ft(),ft=null});if(m){if(angular.equals($,{})&&G.use()&&G.use(G.use()),r&&r.length)for(var mt=function(e){return _(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},gt=0,ht=r.length;ht>gt;gt++){var vt=r[gt];(T||!$[vt])&&(W[vt]=Q(vt).then(mt))}}else n.$emit("$translateReady",{language:G.use()});return G}]}function a(e,t){"use strict";var n,a={},i="default";return a.setLocale=function(e){n=e},a.getInterpolationIdentifier=function(){return i},a.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},a.interpolate=function(n,a,i,o){a=a||{},a=t.sanitize(a,"params",o,i);var r;return angular.isNumber(n)?r=""+n:angular.isString(n)?(r=e(n)(a),r=t.sanitize(r,"text",o,i)):r="",r},a}function i(e,t,n,a,i){"use strict";var r=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(s,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,d=s[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+t.startSymbol()+".*"+t.endSymbol()+")(.*)",f="^(.*)"+t.startSymbol()+"(.*)"+t.endSymbol()+"(.*)";return function(s,m,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=o(s);var h={},v=function(e,t,n){if(t.translateValues&&angular.extend(e,a(t.translateValues)(s.$parent)),d)for(var i in n)if(Object.prototype.hasOwnProperty.call(t,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i){var o=angular.lowercase(i.substr(14,1))+i.substr(15);e[o]=n[i]}},b=function(e){if(angular.isFunction(b._unwatchOld)&&(b._unwatchOld(),b._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var n=r.apply(m.text()),a=n.match(p);if(angular.isArray(a)){s.preText=a[1],s.postText=a[3],h.translate=t(a[2])(s.$parent);var i=n.match(f);angular.isArray(i)&&i[2]&&i[2].length&&(b._unwatchOld=s.$watch(i[2],function(e){h.translate=e,C()}))}else h.translate=n?n:void 0}else h.translate=e;C()},y=function(e){g.$observe(e,function(t){h[e]=t,C()})};v(s.interpolateParams,g,l);var $=!0;g.$observe("translate",function(e){"undefined"==typeof e?b(""):""===e&&$||(h.translate=e,C()),$=!1});for(var w in g)g.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&w.length>13&&y(w);if(g.$observe("translateDefault",function(e){s.defaultText=e,C()}),c&&g.$observe("translateValues",function(e){e&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,a(e)(s.$parent))})}),d){var k=function(e){g.$observe(e,function(t){var n=angular.lowercase(e.substr(14,1))+e.substr(15);s.interpolateParams[n]=t})};for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&k(x)}var C=function(){for(var e in h)h.hasOwnProperty(e)&&void 0!==h[e]&&D(e,h[e],s,s.interpolateParams,s.defaultText,s.translateNamespace)},D=function(t,n,a,i,o,r){n?(r&&"."===n.charAt(0)&&(n=r+n),e(n,i,u,o,a.translateLanguage).then(function(e){T(e,a,!0,t)},function(e){T(e,a,!1,t)})):T(n,a,!1,t)},T=function(t,a,i,o){if(i||"undefined"!=typeof a.defaultText&&(t=a.defaultText),"translate"===o){(i||!i&&!e.isKeepContent()&&"undefined"==typeof g.translateKeepContent)&&m.empty().append(a.preText+t+a.postText);var r=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(r&&!s||c)&&n(m.contents())(a)}else{var u=g.$attr[o];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),m.attr(u,t)}};(c||d||g.translateDefault)&&s.$watch("interpolateParams",C,!0),s.$on("translateLanguageChanged",C);var S=i.$on("$translateChangeSuccess",C);m.text().length?g.translate?b(g.translate):b(""):g.translate&&b(g.translate),C(),s.$on("$destroy",S)}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function r(e,t){"use strict";return{restrict:"A",priority:e.directivePriority(),link:function(n,a,i){var o,r,l={},c=function(){angular.forEach(o,function(t,o){t&&(l[o]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),e(t,r,i.translateInterpolation,void 0,n.translateLanguage).then(function(e){a.attr(o,e)},function(e){a.attr(o,e)}))}),angular.forEach(l,function(e,t){o[t]||(a.removeAttr(t),delete l[t])})};s(n,i.translateAttr,function(e){o=e},c),s(n,i.translateValues,function(e){r=e},c),i.translateValues&&n.$watch(i.translateValues,c,!0),n.$on("translateLanguageChanged",c);var u=t.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",u)}}}function s(e,t,n,a){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,function(e){n(e),a()},!0),n(e.$eval(t)))}function l(e,t){"use strict";return{compile:function(n){var a=function(){n.addClass(e.cloakClassName())},i=function(){n.removeClass(e.cloakClassName())};return e.onReady(function(){i()}),a(),function(n,o,r){r.translateCloak&&r.translateCloak.length&&(r.$observe("translateCloak",function(t){e(t).then(i,a)}),t.$on("$translateChangeSuccess",function(){e(r.translateCloak).then(i,a)}))}}}}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=o(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function d(e,t){"use strict";var n=function(n,a,i,o){return angular.isObject(a)||(a=e(a)(this)),t.instant(n,a,i,o)};return t.statefulFilter()&&(n.$stateful=!0),n}function p(e){"use strict";return e("translations")}return e.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],a.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],r.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],d.$inject=["$parse","$translate"],p.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",a),a.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",r),r.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",c),c.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",d),d.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",p),p.displayName="$translationCache","pascalprecht.translate"}),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(e,t,n){function a(e){var a={};return function(i){if("undefined"==typeof a[i]){var o=t.defer(),r=e(i);r.onload=r.onreadystatechange=function(e){r.readyState&&"complete"!==r.readyState&&"loaded"!==r.readyState||n(function(){o.resolve(e)})},r.onerror=function(e){n(function(){o.reject(e)})},a[i]=o.promise}return a[i]}}var i=e[0];this.loadScript=a(function(e){var t=i.createElement("script");return t.src=e,i.body.appendChild(t),t}),this.loadCSS=a(function(e){var t=i.createElement("link");return t.rel="stylesheet",t.type="text/css",t.href=e,i.head.appendChild(t),t})}])}(),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e,t){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var a=function(a){if(!a||!angular.isString(a.prefix)||!angular.isString(a.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var i=[a.prefix,n.key,a.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[i]&&(i=n.fileMap[i]),t(angular.extend({url:i,method:"GET",params:""},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})},i=[],o=n.files.length,r=0;o>r;r++)i.push(a({prefix:n.files[r].prefix,key:n.key,suffix:n.files[r].suffix}));return e.all(i).then(function(e){for(var t=e.length,n={},a=0;t>a;a++)for(var i in e[a])n[i]=e[a][i];return n})}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){function n(e,a){t(angular.extend({url:[e.prefix,e.key.toLowerCase(),e.suffix].join(""),method:"GET",params:""},e.$http)).then(function(e){a.resolve(e.data)},function(){if(e.key.indexOf("_")>=0){var t=e.key.substr(0,e.key.lastIndexOf("_")),i=angular.extend({},e,{key:t});n(i,a)}else a.resolve("{}")})}return function(t){if(!t||!angular.isString(t.prefix)||!angular.isString(t.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var a=e.defer();return n(t,a),a.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(e,t,n){e.useStaticFilesLoader({prefix:t,suffix:n}),e.determinePreferredLanguage().fallbackLanguage("en").useSanitizeValueStrategy(null)}]),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.affix"),o="object"==typeof t&&t;i||a.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.options=e.extend({},n.DEFAULTS,a),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),a=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,r=o.top,s=o.bottom;"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=t-s?"bottom":null!=r&&r>=a?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-s}))}}};var a=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=a,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),a=n.data();a.offset=a.offset||{},a.offsetBottom&&(a.offset.bottom=a.offsetBottom),a.offsetTop&&(a.offset.top=a.offsetTop),t.call(n,a)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',a=function(t){e(t).on("click",n,this.close)};a.VERSION="3.2.0",a.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var a=e(this),i=a.attr("data-target");i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=e(i);t&&t.preventDefault(),o.length||(o=a.hasClass("alert")?a:a.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=a,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,a.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.button"),o="object"==typeof t&&t;i||a.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",o=a.data();t+="Text",null==o.resetText&&a.data("resetText",a[i]()),a[i](null==o[t]?this.options[t]:o[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,a.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=e(n.target);a.hasClass("btn")||(a=a.closest(".btn")),t.call(a,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.carousel"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t),r="string"==typeof t?t:o.slide;i||a.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):r?i[r]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this
},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var a=this.$element.find(".item.active"),i=n||a[t](),o=this.interval,r="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,a.addClass(r),i.addClass(r),a.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var a=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var a,i=e(this),o=e(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(r.interval=!1),t.call(o,r),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.collapse"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t);!i&&o.toggle&&"show"==t&&(t=!t),i||a.data("bs.collapse",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.$parent&&this.$parent.find("> .panel > .in");if(a&&a.length){var i=a.data("bs.collapse");if(i&&i.transitioning)return;t.call(a,"hide"),i||a.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var s=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[n](0).one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(350),void 0):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=a,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a,i=e(this),o=i.attr("data-target")||n.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),r=e(o),s=r.data("bs.collapse"),l=s?"toggle":i.data(),c=i.attr("data-parent"),u=c&&e(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(r,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var a=n(e(this)),i={relatedTarget:this};a.hasClass("open")&&(a.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&e(n);return a&&a.length?a:t.parent()}function a(t){return this.each(function(){var n=e(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new r(this)),"string"==typeof t&&a[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(a){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),r=o.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(a=e.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var a=e(this);if(t.preventDefault(),t.stopPropagation(),!a.is(".disabled, :disabled")){var i=n(a),r=i.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&i.find(o).trigger("focus"),a.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=a,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=t.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(o),!o.isDefaultPrevented()){var r=e(a);this.activate(t.closest("li"),n),this.activate(r,r.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(t,n,a){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a()}var o=n.find("> .active"),r=a&&e.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var a=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=a,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,a=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(a).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(n,a){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(n).is("body")?e(window):e(n),this.options=e.extend({},t.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var a=e(this),i=a.data("bs.scrollspy"),o="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=e(this),i=a.data("target")||a.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=a)return r!=(e=o[o.length-1])&&this.activate(e);if(r&&t<=i[0])return r!=(e=o[0])&&this.activate(e);for(e=i.length;e--;)r!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',a=e(n).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var a=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t,a){return this.each(function(){var i=e(this),o=i.data("bs.modal"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,r)),"string"==typeof t?o[t](a):r.show&&o.show(a)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var a=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&a;if(this.$backdrop=e('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var a=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=e(this),i=a.attr("href"),o=e(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),a.data());a.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),t.call(o,r,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tooltip"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,a){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,a){n[e]!=a&&(t[e]=a)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var a=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(r);l&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,d=i[0].offsetHeight;if(l){var p=r,f=this.$element.parent(),m=this.getPosition(f);r="bottom"==r&&c.top+c.height+d-m.scroll>m.height?"top":"top"==r&&c.top-m.scroll-d<0?"bottom":"right"==r&&c.right+u>m.width?"left":"left"==r&&c.left-u<m.left?"right":r,i.removeClass(p).addClass(r)}var g=this.getCalculatedOffset(r,c,u,d);this.applyPlacement(g,r);var h=function(){a.$element.trigger("shown.bs."+a.type),a.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",h).emulateTransitionEnd(150):h()}},n.prototype.applyPlacement=function(t,n){var a=this.tip(),i=a[0].offsetWidth,o=a[0].offsetHeight,r=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,e.offset.setOffset(a[0],e.extend({using:function(e){a.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=u.left?2*u.left-i+l:2*u.top-o+c,p=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";a.offset(t),this.replaceArrow(d,a[0][f],p)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&a.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,a=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(a.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],a="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:a?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:a?e(window).width():t.outerWidth(),height:a?e(window).height():t.outerHeight()},a?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,a){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-a,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-a/2,left:t.left-n}:{top:t.top+t.height/2-a/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-r.scroll,l=t.top+o-r.scroll+a;s<r.top?i.top=r.top-s:l>r.top+r.height&&(i.top=r.top+r.height-l)}else{var c=t.left-o,u=t.left+o+n;c<r.left?i.left=r.left-c:u>r.width&&(i.left=r.left+r.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=a,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.popover"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var a=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=a,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,a){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function r(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e.removeClass(n,"in",{to:{height:"0"}}).then(s),void 0):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(a.collapse,function(e){e?r():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,n),n&&a.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,a,i){e(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,a,i){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),a.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(e){a.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,t,n,a){var i=a[0],o=a[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){if(!n.disabled){var a=t.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(a?null:e.$eval(n.btnRadio)),o.$render()})}})}}}).directive("btnCheckbox",["$document",function(e){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(t,n,a,i){function o(){return s(a.btnCheckboxTrue,!0)
}function r(){return s(a.btnCheckboxFalse,!1)}function s(e,n){var a=t.$eval(e);return angular.isDefined(a)?a:n}var l=i[0],c=i[1];n.find("input").css({display:"none"}),c.$render=function(){n.toggleClass(l.activeClass,angular.equals(c.$modelValue,o()))},n.bind(l.toggleEvent,function(){a.disabled||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})}),n.on("keypress",function(i){a.disabled||32!==i.which||e[0].activeElement!==n[0]||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,a){function i(t,n,i){v||(angular.extend(t,{direction:i,active:!0}),angular.extend(d.currentSlide||{},{direction:i,active:!1}),a.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&d.slides.length>1&&(t.$element.data(g,t.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(g,t.direction),e.$currentTransition=!0,f?a.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,a.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),d.currentSlide=t,h=n,r())}function o(e){if(angular.isUndefined(p[e].index))return p[e];{var t;p.length}for(t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function r(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;u&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}var c,u,d=this,p=d.slides=e.slides=[],f=angular.version.minor>=4,m="uib-noTransition",g="uib-slideDirection",h=-1;d.currentSlide=null;var v=!1;d.select=e.select=function(t,n){var a=e.indexOfSlide(t);void 0===n&&(n=a>d.getCurrentIndex()?"next":"prev"),t&&t!==d.currentSlide&&!e.$currentTransition&&i(t,a,n)},e.$on("$destroy",function(){v=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:h},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(d.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?(e.pause(),void 0):d.select(o(t),"next")},e.prev=function(){var t=d.getCurrentIndex()-1<0?p.length-1:d.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?(e.pause(),void 0):d.select(o(t),"prev")},e.isActive=function(e){return d.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",s),e.play=function(){u||(u=!0,r())},e.pause=function(){e.noPause||(u=!1,s())},d.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(d.select(p[p.length-1]),1==p.length&&e.play()):t.active=!1},d.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?d.select(p[t-1]):d.select(p[t]):h>t&&h--,0===p.length&&(d.currentSlide=null)},e.$watch("noTransition",function(e){t.data(m,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var a="uib-noTransition",i="uib-slideDirection",o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{beforeAddClass:function(e,r,s){if("active"==r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u+" "+c,s);return e.addClass(c),o?o(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,r,s){if("active"===r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u,s);return o?o(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function a(e){var t=[],a=e.split("");return angular.forEach(r,function(n,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),a[o]="("+n.regex+")",e[o]="$";for(var r=o+1,s=o+i.length;s>r;r++)a[r]="",e[r]="$";e=e.join(""),t.push({index:o,apply:n.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:n(t,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(n,r,s){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(o,"\\$&"),this.parsers[r]||(this.parsers[r]=a(r));var l=this.parsers[r],c=l.regex,u=l.map,d=n.match(c);if(d&&d.length){var p,f;angular.isDate(s)&&!isNaN(s.getTime())?p={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,g=d.length;g>m;m++){var h=u[m-1];h.apply&&h.apply.call(p,d[m])}return i(p.year,p.month,p.date)&&(f=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=i(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,o,r,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),r=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-o};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-r,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,n,a,i,o,r,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(t[n])?6>i?a(t[n])(e.$parent):e.$parent.$eval(t[n]):r[n]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(e){l[a]=e?new Date(e):null,l.refreshView()}):l[a]=r[a]?new Date(r[a]):null}),angular.forEach(["minMode","maxMode"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(n){l[a]=angular.isDefined(n)?n:t[a],e[a]=l[a],("minMode"==a&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[a])||"maxMode"==a&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[a]))&&(e.datepickerMode=l[a])}):(l[a]=r[a]||null,e[a]=l[a])}),e.datepickerMode=e.datepickerMode||r.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,a,i){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function r(e,t){for(var n,a=new Array(t),o=new Date(e),r=0;t>r;)n=new Date(o),i.fixTimeZone(n),a[r++]=n,o.setDate(o.getDate()+1);return a}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),o=new Date(n,a,1),l=i.startingDay-o.getDay(),c=l>0?7-l:-l,u=new Date(o);c>0&&u.setDate(-c+1);for(var d=r(u,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==a,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(d[f].date,i.formatDayHeader),full:e(d[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var m=(11-i.startingDay)%7,g=t.rows.length,h=0;g>h;h++)t.weekNumbers.push(s(t.rows[h][m].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,a=new Array(12),o=i.activeDate.getFullYear(),r=0;12>r;r++)n=new Date(o,r,1),i.fixTimeZone(n),a[r]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(a,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,a){function i(e){return parseInt((e-1)/o,10)*o+1}var o=a.yearRange;a.step={years:o},a.element=t,a._refreshView=function(){for(var t,n=new Array(o),r=0,s=i(a.activeDate.getFullYear());o>r;r++)t=new Date(s+r,0,1),a.fixTimeZone(t),n[r]=angular.extend(a.createDateObject(t,a.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=a.split(n,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e){var t=a.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*a.step.years:"home"===e?t=i(a.activeDate.getFullYear()):"end"===e&&(t=i(a.activeDate.getFullYear())+o-1),a.activeDate.setFullYear(t)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,a,i,o,r,s,l){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,u,d,p){function f(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function m(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=r.parse(e,h,c.date);return isNaN(t)?void 0:t}return void 0}return null}function g(e,t){var n=e||t;if(!d.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=r.parse(n,h);return!isNaN(a)}return!1}return!0}var h,v=angular.isDefined(d.closeOnDateSelection)?c.$parent.$eval(d.closeOnDateSelection):s.closeOnDateSelection,b=angular.isDefined(d.datepickerAppendToBody)?c.$parent.$eval(d.datepickerAppendToBody):s.appendToBody,y=angular.isDefined(d.onOpenFocus)?c.$parent.$eval(d.onOpenFocus):s.onOpenFocus,$=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,w=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:s.datepickerTemplateUrl,k={};c.showButtonBar=angular.isDefined(d.showButtonBar)?c.$parent.$eval(d.showButtonBar):s.showButtonBar,c.getText=function(e){return c[e+"Text"]||s[e+"Text"]},c.isDisabled=function(e){return"today"===e&&(e=new Date),c.watchData.minDate&&c.compare(e,k.minDate)<0||c.watchData.maxDate&&c.compare(e,k.maxDate)>0},c.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var x=!1;if(s.html5Types[d.type]?(h=s.html5Types[d.type],x=!0):(h=d.datepickerPopup||s.datepickerPopup,d.$observe("datepickerPopup",function(e){var t=e||s.datepickerPopup;if(t!==h&&(h=t,p.$modelValue=null,!h))throw new Error("datepickerPopup must have a date format specified.")})),!h)throw new Error("datepickerPopup must have a date format specified.");if(x&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var C=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$});var D=angular.element(C.children()[0]);if(D.attr("template-url",w),x&&"month"===d.type&&(D.attr("datepicker-mode",'"month"'),D.attr("min-mode","month")),d.datepickerOptions){var T=c.$parent.$eval(d.datepickerOptions);T&&T.initDate&&(c.initDate=T.initDate,D.attr("init-date","initDate"),delete T.initDate),angular.forEach(T,function(e,t){D.attr(f(t),e)})}c.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(d[e]){var n=t(d[e]);if(c.$parent.$watch(n,function(t){c.watchData[e]=t,("minDate"===e||"maxDate"===e)&&(k[e]=new Date(t))}),D.attr(f(e),"watchData."+e),"datepickerMode"===e){var a=n.assign;c.$watch("watchData."+e,function(e,t){angular.isFunction(a)&&e!==t&&a(c.$parent,e)})}}}),d.dateDisabled&&D.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&D.attr("show-weeks",d.showWeeks),d.customClass&&D.attr("custom-class","customClass({ date: date, mode: mode })"),x?p.$formatters.push(function(e){return c.date=e,e}):(p.$$parserName="date",p.$validators.date=g,p.$parsers.unshift(m),p.$formatters.push(function(e){return c.date=e,p.$isEmpty(e)?e:o(e,h)})),c.dateSelection=function(e){angular.isDefined(e)&&(c.date=e);var t=c.date?o(c.date,h):null;u.val(t),p.$setViewValue(t),v&&(c.isOpen=!1,u[0].focus())},p.$viewChangeListeners.push(function(){c.date=r.parse(p.$viewValue,h,c.date)});var S=function(e){!c.isOpen||u[0].contains(e.target)||C[0].contains(e.target)||c.$apply(function(){c.isOpen=!1})},E=function(e){27===e.which&&c.isOpen?(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!1}),u[0].focus()):40!==e.which||c.isOpen||(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!0}))};u.bind("keydown",E),c.keydown=function(e){27===e.which&&(c.isOpen=!1,u[0].focus())},c.$watch("isOpen",function(e){e?(c.position=b?i.offset(u):i.position(u),c.position.top=c.position.top+u.prop("offsetHeight"),l(function(){y&&c.$broadcast("datepicker.focus"),n.bind("click",S)},0,!1)):n.unbind("click",S)}),c.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.date)?(e=new Date(c.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}c.dateSelection(e)},c.close=function(){c.isOpen=!1,u[0].focus()};var O=e(C)(c);C.remove(),b?n.find("body").append(O):u.after(O),c.$on("$destroy",function(){c.isOpen===!0&&(a.$$phase||c.$apply(function(){c.isOpen=!1})),O.remove(),u.unbind("keydown",E),n.unbind("click",S)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",a),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",a),e.unbind("keydown",i))};var a=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var a=n.getToggleElement();if(!(e&&a&&a[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),a()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,a,i,o,r,s,l,c){var u,d,p=this,f=e.$new(),m=a.openClass,g=angular.noop,h=t.onToggle?n(t.onToggle):angular.noop,v=!1,b=!1,y=s.find("body");this.init=function(a){p.$element=a,t.isOpen&&(d=n(t.isOpen),g=d.assign,e.$watch(d,function(e){f.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),b=angular.isDefined(t.keyboardNav),v&&p.dropdownMenu&&(y.append(p.dropdownMenu),y.addClass("dropdown"),a.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return t.autoClose||"always"},f.getElement=function(){return p.$element},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:p.selectedOption=angular.isNumber(p.selectedOption)?p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:0;break;case 38:p.selectedOption=angular.isNumber(p.selectedOption)?0===p.selectedOption?0:p.selectedOption-1:t.length-1}t[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(t,n){if(v&&p.dropdownMenu){var a=r.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:a.top+"px",display:t?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(a.left+p.$element.prop("offsetWidth"))+"px"):(s.left=a.left+"px",s.right="auto"),p.dropdownMenu.css(s)}var b=v?y:p.$element;if(o[t?"addClass":"removeClass"](b,m).then(function(){angular.isDefined(t)&&t!==n&&h(e,{open:!!t})}),t)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),l(e.trim())(u,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),i.open(f);else{if(p.dropdownMenuTemplateUrl){u&&u.$destroy();var $=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith($),p.dropdownMenu=$}i.close(f),p.selectedOption=null}angular.isFunction(g)&&g(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var $=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",$)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,a){a.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,a){if(a){var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,a){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=a.dropdownMenu.find("a");switch(e.which){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===t.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=angular.isNumber(a.selectedOption)?0===a.selectedOption?0:a.selectedOption-1:t.length-1}t[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,a){if(a){t.addClass("dropdown-toggle"),a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete e[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(e,t,n){function a(t,a,o){o.modalInClass&&(i?i(a,{addClass:o.modalInClass}).start():e.addClass(a,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var r=n();i?i(a,{removeClass:o.modalInClass}).start().then(r):e.removeClass(a,o.modalInClass).then(r)}))}var i=null;return t.has("$animateCss")&&(i=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(e,t,n,a){var i=null;return a.has("$animateCss")&&(i=a.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(a,o,r){o.addClass(r.windowClass||""),a.size=r.size,a.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.$isRendered=!0;var s=t.defer();r.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;r.modalInClass&&(s=i?i(o,{addClass:r.modalInClass}).start():n.addClass(o,r.modalInClass),a.$on(e.NOW_CLOSING_EVENT,function(e,t){var a=t();i?i(o,{removeClass:r.modalInClass}).start().then(a):n.removeClass(o,r.modalInClass).then(a)})),t.when(s).then(function(){var e=o[0].querySelectorAll("[autofocus]");e.length?e[0].focus():o[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,a,i,o,r,s,l){function c(){for(var e=-1,t=y.keys(),n=0;n<t.length;n++)y.get(t[n]).value.backdrop&&(e=n);return e}function u(e,t){var a=n.find("body").eq(0),i=y.get(e).value;y.remove(e),p(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||b;$.remove(t,e),a.toggleClass(t,$.hasKey(t))}),d(),t&&t.focus?t.focus():a.focus()}function d(){if(g&&-1==c()){var e=h;p(g,h,function(){e=null}),g=void 0,h=void 0}}function p(t,n,a){function i(){i.done||(i.done=!0,m?m(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),a&&a())}var r,s=null,l=function(){return r||(r=o.defer(),s=r.promise),function(){r.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,l),o.when(s).then(i)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var m=null;r.has("$animateCss")&&(m=r.get("$animateCss"));var g,h,v,b="modal-open",y=l.createNew(),$=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,x="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(c,function(e){h&&(h.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=y.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply(function(){w.dismiss(t.key,"escape key press")});break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),w.open=function(e,t){var o=n[0].activeElement,r=t.openedClass||b;y.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),$.put(r,e);
var s=n.find("body").eq(0),l=c();if(l>=0&&!g){h=i.$new(!0),h.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),g=a(u)(h),s.append(g)}var d=angular.element('<div modal-window="modal-window"></div>');d.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:y.length()-1,animate:"animate"}).html(t.content),t.animation&&d.attr("modal-animation","true");var p=a(d)(t.scope);y.top().value.modalDomEl=p,y.top().value.modalOpener=o,s.append(p),s.addClass(r),w.clearFocusListCache()},w.close=function(e,t){var n=y.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=y.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return y.top()},w.modalRendered=function(e){var t=y.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},w.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],k=0},w.loadFocusElementList=function(e){if((void 0===v||!v.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(x))}},w}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,a,i,o,r){function s(e){return e.template?a.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(a.when(t.invoke(e))):angular.isString(e)?n.push(a.when(t.get(e))):n.push(a.when(e))}),n}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(t){var i=a.defer(),c=a.defer(),d=a.defer(),p={result:i.promise,opened:c.promise,rendered:d.promise,close:function(e){return r.close(p,e)},dismiss:function(e){return r.dismiss(p,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var f,m=a.all([s(t)].concat(l(t.resolve)));return f=u=a.all([u]).then(function(){return m},function(){return m}).then(function(e){var a=(t.scope||n).$new();a.$close=p.close,a.$dismiss=p.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var s,l={},u=1;t.controller&&(l.$scope=a,l.$modalInstance=p,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),s=o(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,a),a[t.controllerAs]=s)),r.open(p,{scope:a,deferred:i,renderDeferred:d,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),c.resolve(!0)},function(e){c.reject(e),i.reject(e)}).finally(function(){u===f&&(u=null)}),p},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,s){i=r,this.config=s,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var a=!e.ngDisabled||!n;a&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,a,i,o){function r(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],a=1,i=t,o=angular.isDefined(u)&&t>u;o&&(d?(a=Math.max(e-Math.floor(u/2),1),i=a+u-1,i>t&&(i=t,a=i-u+1)):(a=(Math.ceil(e/u)-1)*u+1,i=Math.min(a+u-1,t)));for(var s=a;i>=s;s++){var l=r(s,s,s===e);n.push(l)}if(o&&!d){if(a>1){var c=r(a-1,"...",!1);n.unshift(c)}if(t>i){var p=r(i+1,"...",!1);n.push(p)}}return n}var l=o[0],c=o[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,a,i){var o=i[0],r=i[1];r&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,o.init(r,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(i,o,r,s,l,c,u,d){return function(i,p,f,m){function g(e){var t=(e||m.trigger||f).split(" "),a=t.map(function(e){return n[e]||e});return{show:t,hide:a}}m=angular.extend({},t,a,m);var h=e(i),v=c.startSymbol(),b=c.endSymbol(),y="<div "+h+'-popup title="'+v+"title"+b+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=o(y);return function(t,n,a){function o(){I.isOpen?f():c()}function c(){(!M||t.$eval(a[p+"Enable"]))&&($(),I.popupDelay?E||(E=r(h,I.popupDelay,!1)):h())}function f(){v(),u.$$phase||u.$digest()}function h(){return E=null,S&&(r.cancel(S),S=null),(m.useContentExp?I.contentExp():I.content)?(b(),I.isOpen=!0,N&&N.assign(I.origScope,I.isOpen),u.$$phase||I.$apply(),D.css({display:"block"}),F(),void 0):angular.noop}function v(){I.isOpen=!1,N&&N.assign(I.origScope,I.isOpen),r.cancel(E),E=null,r.cancel(O),O=null,I.animation?S||(S=r(y,500)):y()}function b(){D&&y(),T=I.$new(),D=e(T,function(e){P?s.find("body").append(e):n.after(e)}),m.useContentExp&&(T.$watch("contentExp()",function(e){!e&&I.isOpen&&v()}),T.$watch(function(){L||(L=!0,T.$$postDigest(function(){L=!1,I.isOpen&&F()}))}))}function y(){S=null,D&&(D.remove(),D=null),T&&(T.$destroy(),T=null)}function $(){w(),k(),x()}function w(){I.popupClass=a[p+"Class"]}function k(){var e=a[p+"Placement"];I.placement=angular.isDefined(e)?e:m.placement}function x(){var e=a[p+"PopupDelay"],t=parseInt(e,10);I.popupDelay=isNaN(t)?m.popupDelay:t}function C(){var e=a[p+"Trigger"];U(),A=g(e),"none"!==A.show&&A.show.forEach(function(e,t){e===A.hide[t]?n[0].addEventListener(e,o):e&&(n[0].addEventListener(e,c),n[0].addEventListener(A.hide[t],f))})}var D,T,S,E,O,P=angular.isDefined(m.appendToBody)?m.appendToBody:!1,A=g(void 0),M=angular.isDefined(a[p+"Enable"]),I=t.$new(!0),L=!1,N=angular.isDefined(a[p+"IsOpen"])?d(a[p+"IsOpen"]):!1,F=function(){D&&(O||(O=r(function(){D.css({top:0,left:0,width:"auto",height:"auto"});var e=l.position(D),t=l.positionElements(n,D,I.placement,P);t.top+="px",t.left+="px",t.width=e.width+"px",t.height=e.height+"px",D.css(t),O=null},0,!1)))};I.origScope=t,I.isOpen=!1,I.contentExp=function(){return t.$eval(a[i])},m.useContentExp||a.$observe(i,function(e){I.content=e,!e&&I.isOpen?v():F()}),a.$observe("disabled",function(e){E&&e&&(r.cancel(E),E=null),e&&I.isOpen&&v()}),a.$observe(p+"Title",function(e){I.title=e,F()}),a.$observe(p+"Placement",function(){I.isOpen&&(k(),F())}),N&&t.$watch(N,function(e){e!==I.isOpen&&o()});var U=function(){A.show.forEach(function(e){n.unbind(e,c)}),A.hide.forEach(function(e){n.unbind(e,f)})};C();var V=t.$eval(a[p+"Animation"]);I.animation=angular.isDefined(V)?!!V:m.animation;var j=t.$eval(a[p+"AppendToBody"]);P=angular.isDefined(j)?j:P,P&&t.$on("$locationChangeSuccess",function(){I.isOpen&&v()}),t.$on("$destroy",function(){r.cancel(S),r.cancel(E),r.cancel(O),U(),y(),I=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,o,r){var s,l,c,u=i.$eval(r.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};i.$watch(t.parseAsResourceUrl(r.tooltipTemplateTransclude),function(t){var r=++d;t?(a(t,!0).then(function(a){if(r===d){var i=u.$new(),l=a,f=n(l)(i,function(t){p(),e.enter(t,o)});s=i,c=f,s.$emit("$includeContentLoaded",t)}},function(){r===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=a.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(){a.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,a,i,o){t&&e.warn("bar is now deprecated. Use uib-bar instead"),o.addBar(n,a)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(a.$viewValue===t?0:t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!a){var o=i==n.length-1?i-1:i+1;t.select(n[o])}n.splice(i,1)};var a;e.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,a,i,o,r){n.$watch("active",function(e){e&&o.select(n)}),n.disabled=!1,i.disable&&n.$parent.$watch(e(i.disable),function(e){n.disabled=!!e}),i.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(i.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=r}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,a,i,o){function r(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===h[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){u(),g.$setViewValue(new Date(m)),d(e)}function u(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=m.getHours(),a=m.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(a)),e.meridian=m.getHours()<12?h[0]:h[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),a=new Date(e);return a.setHours(n.getHours(),n.getMinutes()),a}function f(e){m=p(m,e),c()}var m=new Date,g={$setViewValue:angular.noop},h=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){g=n,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),r=a.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,r);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(i,r),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,r)};var v=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var b=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){b=parseInt(e,10)});var y;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);y=isNaN(t)?void 0:t});var $;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);$=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=p(m,60*v);return e>$||m>e&&y>e},e.noDecrementHours=function(){var e=p(m,60*-v);return y>e||e>m&&e>$},e.noIncrementMinutes=function(){var e=p(m,b);return e>$||m>e&&y>e},e.noDecrementMinutes=function(){var e=p(m,-b);return y>e||e>m&&e>$},e.noToggleMeridian=function(){return m.getHours()<13?p(m,720)>$:p(m,-720)<y},e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=r(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(m.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(t,n){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void 0;var a=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=r(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(m.setHours(e),y>m||m>$?a(!0):c("h")):a(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s(),t=r();angular.isDefined(e)&&angular.isDefined(t)?(m.setMinutes(e),y>m||m>$?a(void 0,!0):c("m")):a(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var t=g.$viewValue;isNaN(t)?(g.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(m=t),y>m||m>$?(g.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):u(),d())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*v)},e.decrementHours=function(){e.noDecrementHours()||f(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(b)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-b)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(m.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,a){var i=a[0],o=a[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,a,i){function o(e){for(var t in e)if(void 0!==s.style[t])return e[t]}i||a.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var r=function(a,i,o){o=o||{};var s=e.defer(),l=r[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),t(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=o(l),r.animationEndEventName=o(c),r}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,a,i,o,r,s,l){var c=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,p,f,m){function g(){F.moveInProgress||(F.moveInProgress=!0,F.$digest()),q&&a.cancel(q),q=a(function(){F.matches.length&&h(),F.moveInProgress=!1,F.$digest()},u)}function h(){F.position=O?s.offset(p):s.position(p),F.position.top+=p.prop("offsetHeight")}var v=m[0],b=m[1],y=d.$eval(f.typeaheadMinLength);y||0===y||(y=1);var $,w,k=d.$eval(f.typeaheadWaitMs)||0,x=d.$eval(f.typeaheadEditable)!==!1,C=t(f.typeaheadLoading).assign||angular.noop,D=t(f.typeaheadOnSelect),T=angular.isDefined(f.typeaheadSelectOnBlur)?d.$eval(f.typeaheadSelectOnBlur):!1,S=t(f.typeaheadNoResults).assign||angular.noop,E=f.typeaheadInputFormatter?t(f.typeaheadInputFormatter):void 0,O=f.typeaheadAppendToBody?d.$eval(f.typeaheadAppendToBody):!1,P=d.$eval(f.typeaheadFocusFirst)!==!1,A=f.typeaheadSelectOnExact?d.$eval(f.typeaheadSelectOnExact):!1,M=t(f.ngModel),I=t(f.ngModel+"($$$p)"),L=function(e,t){return angular.isFunction(M(d))&&b&&b.$options&&b.$options.getterSetter?I(e,{$$$p:t}):M.assign(e,t)},N=l.parse(f.typeahead),F=d.$new(),U=d.$on("$destroy",function(){F.$destroy()});F.$on("$destroy",U);var V="typeahead-"+F.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":V});var j=angular.element("<div typeahead-popup></div>");j.attr({id:V,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&j.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&j.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var _=function(){F.matches=[],F.activeIdx=-1,p.attr("aria-expanded",!1)},H=function(e){return V+"-option-"+e};F.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",H(e))});var R=function(e,t){return F.matches.length>t&&e?e.toUpperCase()===F.matches[t].label.toUpperCase():!1},z=function(e){var t={$viewValue:e};C(d,!0),S(d,!1),n.when(N.source(d,t)).then(function(n){var a=e===v.$viewValue;if(a&&$)if(n&&n.length>0){F.activeIdx=P?0:-1,S(d,!1),F.matches.length=0;for(var i=0;i<n.length;i++)t[N.itemName]=n[i],F.matches.push({id:H(i),label:N.viewMapper(F,t),model:n[i]});F.query=e,h(),p.attr("aria-expanded",!0),A&&1===F.matches.length&&R(e,0)&&F.select(0)}else _(),S(d,!0);a&&C(d,!1)},function(){_(),C(d,!1),S(d,!0)})};O&&(angular.element(o).bind("resize",g),i.find("body").bind("scroll",g));var q;F.moveInProgress=!1,_(),F.query=void 0;var B,W=function(e){B=a(function(){z(e)},k)},G=function(){B&&a.cancel(B)};v.$parsers.unshift(function(e){return $=!0,0===y||e&&e.length>=y?k>0?(G(),W(e)):z(e):(C(d,!1),G(),_()),x?e:e?(v.$setValidity("editable",!1),void 0):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,a={};return x||v.$setValidity("editable",!0),E?(a.$model=e,E(d,a)):(a[N.itemName]=e,t=N.viewMapper(d,a),a[N.itemName]=void 0,n=N.viewMapper(d,a),t!==n?t:e)}),F.select=function(e){var t,n,i={};w=!0,i[N.itemName]=n=F.matches[e].model,t=N.modelMapper(d,i),L(d,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),D(d,{$item:n,$model:t,$label:N.viewMapper(d,i)}),_(),F.$eval(f.typeaheadFocusOnSelect)!==!1&&a(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==F.matches.length&&-1!==c.indexOf(e.which)){if(-1===F.activeIdx&&(9===e.which||13===e.which))return _(),F.$digest(),void 0;e.preventDefault(),40===e.which?(F.activeIdx=(F.activeIdx+1)%F.matches.length,F.$digest()):38===e.which?(F.activeIdx=(F.activeIdx>0?F.activeIdx:F.matches.length)-1,F.$digest()):13===e.which||9===e.which?F.$apply(function(){F.select(F.activeIdx)}):27===e.which&&(e.stopPropagation(),_(),F.$digest())}}),p.bind("blur",function(){T&&F.matches.length&&-1!==F.activeIdx&&!w&&(w=!0,F.$apply(function(){F.select(F.activeIdx)})),$=!1,w=!1});var Y=function(e){p[0]!==e.target&&3!==e.which&&0!==F.matches.length&&(_(),r.$$phase||F.$digest())};i.bind("click",Y),d.$on("$destroy",function(){i.unbind("click",Y),O&&K.remove(),j.remove()});var K=e(j)(F);O?i.find("body").append(K):p.after(K)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(a,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)
}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(e){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:e.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(e){try{e=angular.module("risevision.widget.common.widget-button-toolbar")}catch(t){e=angular.module("risevision.widget.common.widget-button-toolbar",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(e,t){t.addClass("fa"),t.addClass("fa-question-circle"),t.addClass("fa-lg")}}}])}(),function(e){"use strict";e.module("risevision.widget.common.google-drive-picker",["risevision.common.i18n"]).directive("googleDrivePicker",["$window","$document","$log","$templateCache","apiAuth","apiGooglePicker",function(e,t,n,a,i,o){return{restrict:"E",scope:{viewId:"@"},template:a.get("google-drive-picker-template.html"),link:function(a,r,s){function l(e){o.get().then(function(t){e[t.picker.Response.ACTION]===t.picker.Action.PICKED?(n.debug("Files picked",e[t.picker.Response.DOCUMENTS]),a.$emit("picked",e[t.picker.Response.DOCUMENTS])):e[t.picker.Response.ACTION]===t.picker.Action.CANCEL&&(n.debug("File pick cancelled"),a.$emit("cancel"))})}function c(t){var n,a,o=u.createElement("a");u.referrer?"localhost"===u.location.hostname?n=e.location.protocol+"//"+e.location.host:(o.href=u.referrer,n=o.protocol+"//"+o.hostname):n=e.location.protocol+"//"+e.location.host,a=(new t.picker.PickerBuilder).setOrigin(n).addView(d).setOAuthToken(i.getAuthToken()).setCallback(l).build(),a.setVisible(!0)}var u=t[0],d=s.viewId||"docs";r.on("click",function(){i.getAuthToken()?o.get().then(c):i.getAuthToken()||i.authorize(!1).then(function(e){e&&!e.error&&o.get().then(c)})}),i.authorize(!0).then(null,function(e){n.warn(e)})}}}])}(angular),function(e){try{e=angular.module("risevision.widget.common.google-drive-picker")}catch(t){e=angular.module("risevision.widget.common.google-drive-picker",[])}e.run(["$templateCache",function(e){"use strict";e.put("google-drive-picker-template.html",'<div class="google-drive-picker">\n  <button type="button" class="btn btn-default">\n    {{"google-drive-picker.select" | translate }}\n    <img class="icon-right" src="//s3.amazonaws.com/Rise-Images/Icons/drive.svg">\n  </button>\n</div>\n')}])}();var isClientJS=!1;if(function(e){"use strict";e.module("risevision.widget.common.google-drive-picker").factory("oauthAPILoader",["$q","$log","gapiLoader",function(e,t,n){var a,i=e.defer(),o={get:function(){return a||(a=i.promise,n.get().then(function(e){e.load("auth",function(){t.info("auth API is loaded"),i.resolve(e)})})),a}};return o}]).factory("gapiLoader",["$q","$window",function(e,t){var n={get:function(){var n,a=e.defer();return t.isClientJS?a.resolve(t.gapi):(n=function(){a.resolve(t.gapi),t.removeEventListener("gapi.loaded",n,!1)},t.addEventListener("gapi.loaded",n,!1)),a.promise}};return n}]).factory("pickerLoader",["$q","$window","$log","gapiLoader",function(e,t,n,a){var i={get:function(){var t,i=e.defer();return t||(t=i.promise,a.get().then(function(e){e.load("picker",function(){n.info("picker API is loaded"),i.resolve(e)})})),t}};return i}])}(angular),function(e){"use strict";e.module("risevision.widget.common.google-drive-picker").value("CLIENT_ID","614513768474-s4mo41canhfo0pco4pstn8m5v78kf5lv.apps.googleusercontent.com").value("SCOPE",["https://www.googleapis.com/auth/drive.readonly"]).factory("apiAuth",["$q","$http","$log","gapiLoader","oauthAPILoader","CLIENT_ID","SCOPE",function(e,t,n,a,i,o,r){var s=null,l={};return l.authorize=function(t){var a=e.defer(),l={client_id:o,scope:r,immediate:t};return i.get().then(function(e){e.auth.authorize(l,function(e){e&&!e.error?(s=e.access_token,a.resolve(e)):(a.reject("Authentication Error: "+e.error),n.debug("authorize result",e))})}),a.promise},l.getAuthToken=function(){return s},l}])}(angular),function(e){"use strict";e.module("risevision.widget.common.google-drive-picker").factory("apiGooglePicker",["$q","$window","$log","pickerLoader",function(e,t,n,a){var i,o=e.defer(),r={get:function(){return i||(i=o.promise,a.get().then(function(){o.resolve(t.google)})),i}};return r}])}(angular),angular.module("colorpicker.module",[]).factory("Helper",function(){"use strict";return{closestSlider:function(e){var t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return t.bind(e)("I")?e.parentNode:e},getOffset:function(e,t){for(var n=0,a=0,i=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t||"BODY"!==e.tagName?(n+=e.scrollLeft,a+=e.scrollTop):(n+=document.documentElement.scrollLeft||e.scrollLeft,a+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:i.top+window.pageYOffset,left:i.left+window.pageXOffset,scrollX:n,scrollY:a}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){"use strict";return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,n,a){e/=255,t/=255,n/=255;var i,o,r,s;return r=Math.max(e,t,n),s=r-Math.min(e,t,n),i=0===s?null:r===e?(t-n)/s:r===t?(n-e)/s+2:(e-t)/s+4,i=(i+360)%6*60/360,o=0===s?0:s/r,{h:i||1,s:o,b:r,a:a||1}},setColor:function(t){t=t?t.toLowerCase():t;for(var n in e.stringParsers)if(e.stringParsers.hasOwnProperty(n)){var a=e.stringParsers[n],i=a.re.exec(t),o=i&&a.parse(i);if(o)return this.value=this.RGBtoHSB.apply(null,o),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,n,a){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var i,o,r,s,l;return e=e%360/60,l=n*t,s=l*(1-Math.abs(e%2-1)),i=o=r=n-l,e=~~e,i+=[l,s,0,0,s,l][e],o+=[s,l,l,s,0,0][e],r+=[0,0,s,l,l,s][e],{r:Math.round(255*i),g:Math.round(255*o),b:Math.round(255*r),a:a||this.value.a}},toHex:function(e,t,n,a){var i=this.toRGB(e,t,n,a);return"#"+(1<<24|parseInt(i.r,10)<<16|parseInt(i.g,10)<<8|parseInt(i.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){"use strict";var t={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},n={};return{getSlider:function(){return t},getLeftPosition:function(e){return Math.max(0,Math.min(t.maxLeft,t.left+((e.pageX||n.left)-n.left)))},getTopPosition:function(e){return Math.max(0,Math.min(t.maxTop,t.top+((e.pageY||n.top)-n.top)))},setSlider:function(a,i){var o=e.closestSlider(a.target),r=e.getOffset(o,i),s=o.getBoundingClientRect(),l=a.clientX-s.left,c=a.clientY-s.top;t.knob=o.children[0].style,t.left=a.pageX-r.left-window.pageXOffset+r.scrollX,t.top=a.pageY-r.top-window.pageYOffset+r.scrollY,n={left:a.pageX-(l-t.left),top:a.pageY-(c-t.top)}},setSaturation:function(e,n){t={maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,n)},setHue:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},this.setSlider(e,n)},setAlpha:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,n)},setKnob:function(e,n){t.knob.top=e+"px",t.knob.left=n+"px"}}}]).directive("colorpicker",["$document","$compile","Color","Slider","Helper",function(e,t,n,a,i){"use strict";return{require:"?ngModel",restrict:"A",link:function(o,r,s,l){function c(){e.on("mousemove",d),e.on("mouseup",p)}function u(){try{L.css("backgroundColor",A[$]())}catch(e){L.css("backgroundColor",A.toHex())}I.css("backgroundColor",A.toHex(A.value.h,1,1,1)),"rgba"===$&&(y.css.backgroundColor=A.toHex())}function d(e){var t=a.getLeftPosition(e),n=a.getTopPosition(e),i=a.getSlider();a.setKnob(n,t),i.callLeft&&A[i.callLeft].call(A,t/100),i.callTop&&A[i.callTop].call(A,n/100),u();var s=A[$]();return r.val(s),l&&o.$apply(l.$setViewValue(s)),T&&F.val(s),!1}function p(){v("colorpicker-selected"),e.off("mousemove",d),e.off("mouseup",p)}function f(e){A.setColor(r.val()),T&&!e&&F.val(r.val()),N.eq(0).css({left:100*A.value.s+"px",top:100-100*A.value.b+"px"}),N.eq(1).css("top",100*(1-A.value.h)+"px"),N.eq(2).css("top",100*(1-A.value.a)+"px"),u()}function m(){var e,t=i.getOffset(r[0]);return angular.isDefined(s.colorpickerParent)&&(t.left=0,t.top=0),"top"===k?e={top:t.top-147,left:t.left}:"right"===k?e={top:t.top,left:t.left+126}:"bottom"===k?e={top:t.top+r[0].offsetHeight+2,left:t.left}:"left"===k&&(e={top:t.top,left:t.left-150}),{top:e.top+"px",left:e.left+"px"}}function g(){b()}function h(){P.hasClass("colorpicker-visible")||(f(),P.addClass("colorpicker-visible").css(m()),v("colorpicker-shown"),x===!1&&e.on("mousedown",g),s.colorpickerIsOpen&&(o[s.colorpickerIsOpen]=!0,o.$$phase||o.$digest()))}function v(e){l&&o.$emit(e,{name:s.ngModel,value:l.$modelValue})}function b(){P.hasClass("colorpicker-visible")&&(P.removeClass("colorpicker-visible"),v("colorpicker-closed"),e.off("mousedown",g),s.colorpickerIsOpen&&(o[s.colorpickerIsOpen]=!1,o.$$phase||o.$digest()))}var y,$=s.colorpicker?s.colorpicker:"hex",w=angular.isDefined(s.backgroundSetting)?!0:!1,k=angular.isDefined(s.colorpickerPosition)?s.colorpickerPosition:"bottom",x=angular.isDefined(s.colorpickerInline)?s.colorpickerInline:!1,C=angular.isDefined(s.colorpickerFixedPosition)?s.colorpickerFixedPosition:!1,D=angular.isDefined(s.colorpickerParent)?r.parent():angular.element(document.body),T=angular.isDefined(s.colorpickerWithInput)?s.colorpickerWithInput:!1,S=T?'<input type="text" name="colorpicker-input" spellcheck="false">':"",E=x?"":'<button type="button" class="close close-colorpicker">&times;</button>',O=w?'<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha>'+S+"</div></div>":'<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>'+S+E+"</div></div>",P=angular.element(O),A=n,M=P.find("colorpicker-hue"),I=P.find("colorpicker-saturation"),L=P.find("colorpicker-preview"),N=P.find("i");if(t(P)(o),T){var F=P.find("input");F.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(){var e=this.value;r.val(e),l&&l.$modelValue!==e&&(o.$apply(l.$setViewValue(e)),f(!0))})}"rgba"===$&&(P.addClass("alpha"),y=P.find("colorpicker-alpha"),y.on("click",function(e){a.setAlpha(e,C),d(e)}).on("mousedown",function(e){a.setAlpha(e,C),c()}).on("mouseup",function(){v("colorpicker-selected-alpha")})),M.on("click",function(e){a.setHue(e,C),d(e)}).on("mousedown",function(e){a.setHue(e,C),c()}).on("mouseup",function(){v("colorpicker-selected-hue")}),I.on("click",function(e){a.setSaturation(e,C),d(e),angular.isDefined(s.colorpickerCloseOnSelect)&&b()}).on("mousedown",function(e){a.setSaturation(e,C),c()}).on("mouseup",function(){v("colorpicker-selected-saturation")}),C&&P.addClass("colorpicker-fixed-position"),P.addClass("colorpicker-position-"+k),"true"===x&&P.addClass("colorpicker-inline"),D.append(P),l&&(l.$render=function(){r.val(l.$viewValue),f()}),r.on("blur keyup change",function(){f()}),r.on("$destroy",function(){P.remove()
}),x===!1?r.on("click",h):h(),P.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()}),P.find("button").on("click",function(){b()}),s.colorpickerIsOpen&&o.$watch(s.colorpickerIsOpen,function(e){e===!0?h():e===!1&&b()})}}}]),"undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["alignment.html"]='<div class="btn-group alignment">\n  <button type="button" class="btn btn-default btn-sm btn-alignment dropdown-toggle"\n    data-toggle="dropdown" data-wysihtml5-command-value="left">\n    <i class="fa fa-align-left"></i>\n    <span class="caret"></span>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="left" tabindex="-1">\n        <i class="fa fa-align-left"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="center" tabindex="-1">\n        <i class="fa fa-align-center"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="right" tabindex="-1">\n        <i class="fa fa-align-right"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="justify" tabindex="-1">\n        <i class="fa fa-align-justify"></i>\n      </button>\n    </div>\n  </div>\n</div>\n',function(e,t,n,a){"use strict";function i(t,n){function i(){l.append(a["alignment.html"]),c=l.find(".btn-alignment"),r(n.align),l.find(".dropdown-menu button").on("click",function(){var t=e(this).data("wysihtml5-command-value");r(t),l.trigger("alignmentChanged",t)})}function o(){return c.data("wysihtml5-command-value")}function r(e){var t=l.find(".btn-alignment .fa"),n=t.attr("class").match(/fa-align-[a-z]+/g),a="fa-align-"+e;n&&n.length>0&&t.removeClass(n[0]),t.addClass(a),c.data("wysihtml5-command-value",e)}function s(){r(u)}var l=e(t),c=null,u="left";return n=e.extend({},{align:u},n),i(),{getAlignment:o,setAlignment:r,reset:s}}var o="alignment";e.fn.alignment=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new i(this,t))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};if(function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(e,t){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:e.get("_angular/url-field/url-field.html"),link:function(e,n,a,i){function o(e,t){var n,a=e.toLowerCase();switch(t){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,o=n.length;o>i;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}function r(){if("undefined"!==e.fileType&&"undefined"!==e.url&&"image"===e.fileType){var t=new Image;t.onload=function(){e.valid=!0,e.$apply()},t.onerror=function(){e.valid=!1,e.invalidType=e.fileType,e.$apply()},t.src=e.url}}function s(t){var n,a;return n=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===t.indexOf("://")&&(t="http://"+t),a=n.test(t),a&&"undefined"!=typeof e.fileType?(a=o(t,e.fileType),a||(e.invalidType=e.fileType)):e.invalidType="url",a&&r(),a}e.doValidation=!0,e.forcedValid=!1,e.valid=!0,e.invalidType="url",e.allowInitEmpty="undefined"!=typeof a.initEmpty,e.blur=function(){e.$emit("urlFieldBlur")},e.$watch("url",function(t){"undefined"!=typeof t&&null!==t&&(""!==t&&e.allowInitEmpty&&(e.allowInitEmpty=!1),e.doValidation&&!e.allowInitEmpty&&(e.valid=s(e.url)))}),e.$watch("valid",function(e){i&&(t.info("Calling $setValidity() on parent controller"),i.$setValidity("valid",e))}),e.$watch("doValidation",function(t){"undefined"!=typeof e.url&&(t?(e.forcedValid=!1,e.allowInitEmpty||(e.valid=s(e.url))):(e.forcedValid=!0,e.valid=!0))})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.url-field")}catch(t){e=angular.module("risevision.widget.common.url-field",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting",["angularLoad","ui.tinymce","risevision.common.i18n","risevision.widget.common.url-field"]).directive("fontSetting",["$templateCache","$log","$window","googleFontLoader",function(e,t,n,a){return{restrict:"AE",scope:{fontData:"=",previewText:"@",verticalAlign:"@"},template:e.get("_angular/font-setting/font-setting.html"),transclude:!1,link:function(e,t){function i(){e.tinymceOptions={font_formats:"Use Custom Font=custom;"+WIDGET_SETTINGS_UI_CONFIG.families+e.googleFontList,fontsize_formats:"Custom "+(""!==e.fontData.customSize?e.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes,menubar:!1,plugins:"textcolor colorpicker",skin_url:"//s3.amazonaws.com/rise-common/styles/tinymce/rise",statusbar:!1,toolbar:"fontselect fontsizeselect | alignleft aligncenter alignright alignjustify"+(e.verticalAlign?" aligntop alignmiddle alignbottom":"")+" | forecolor backcolor | bold italic underline",setup:function(t){e.verticalAlign&&p(t),t.on("init",function(){o(t),v=!1}),t.on("ExecCommand",function(e){r(t,e)})},init_instance_callback:function(e){var t=e.formatter.apply,n=e.formatter.remove;e.formatter.apply=function(n,a,i){var o={command:n,value:a.value};t(n,a,i),e.fire("ExecCommand",o)},e.formatter.remove=function(t,a,i){var o={command:t,value:a&&a.value?a.value:null};n(t,a,i),e.fire("ExecCommand",o)}}}}function o(t){if(e.fontData){switch("custom"===e.fontData.font.type&&e.fontData.font.url?t.execCommand("FontName",!1,"custom"):t.execCommand("FontName",!1,e.fontData.font.family),t.execCommand("FontSize",!1,e.fontData.size),e.fontData.align){case"left":t.execCommand("JustifyLeft",!1);break;case"center":t.execCommand("JustifyCenter",!1);break;case"right":t.execCommand("JustifyRight",!1);break;case"justify":t.execCommand("JustifyFull",!1)}e.verticalAlign&&t.execCommand("mceToggleVertical",!1,e.fontData.verticalAlign),m.find(".mce-colorbutton[aria-label='Text color'] span").css("background-color",e.fontData.forecolor),m.find(".mce-colorbutton[aria-label='Background color'] span").css("background-color",e.fontData.backcolor),e.fontData.bold&&s(m.find(".mce-btn[aria-label='Bold']")),e.fontData.italic&&s(m.find(".mce-btn[aria-label='Italic']")),e.fontData.underline&&s(m.find(".mce-btn[aria-label='Underline']"))}}function r(t,n){switch(n.command){case"FontName":if(v)return;if("custom"===n.value)return g.modal("show"),void 0;e.fontData.font.family=n.value,e.fontData.font.type=c(n.value);break;case"FontSize":if(v)return;if("Custom"===n.value)return h.modal("show"),void 0;e.fontData.size=n.value;break;case"JustifyLeft":e.fontData.align="left";break;case"JustifyCenter":e.fontData.align="center";break;case"JustifyRight":e.fontData.align="right";break;case"JustifyFull":e.fontData.align="justify";break;case"mceToggleVertical":n.value?(f(n.value),e.fontData.verticalAlign!==n.value&&f(e.fontData.verticalAlign)):f(e.defaultFont.verticalAlign),e.fontData.verticalAlign=n.value?n.value:e.defaultFont.verticalAlign;break;case"forecolor":e.fontData.forecolor=n.value?n.value:e.defaultFont.forecolor;break;case"hilitecolor":e.fontData.backcolor=n.value?n.value:e.defaultFont.backcolor;break;case"mceToggleFormat":"bold"===n.value?(e.fontData.bold=!e.fontData.bold,s(m.find(".mce-btn[aria-label='Bold']"))):"italic"===n.value?(e.fontData.italic=!e.fontData.italic,s(m.find(".mce-btn[aria-label='Italic']"))):"underline"===n.value&&(e.fontData.underline=!e.fontData.underline,s(m.find(".mce-btn[aria-label='Underline']")))}l(e.fontData)}function s(e){e.toggleClass("mce-active")}function l(t){var n=m.find(".text-container"),a=m.find(".text");e.previewText&&t&&(a.css("fontFamily",t.font.family),a.css("fontSize",t.size),a.css("fontWeight",t.bold?"bold":"normal"),a.css("fontStyle",t.italic?"italic":"normal"),a.css("textDecoration",t.underline?"underline":"none"),a.css("color",t.forecolor),a.css("backgroundColor",t.backcolor),n.css("textAlign",t.align))}function c(t){return-1!==WIDGET_SETTINGS_UI_CONFIG.families.indexOf(t)?"standard":-1!==e.googleFontList.indexOf(t)?"google":"custom"}function u(){var t=null;return e.fontData.font.url?(t=decodeURI(e.fontData.font.url.trim()),t.split("/").pop().split(".")[0]):null}function d(t){var n=null,a=$.trim(e.fontData.font.url),i="font-family: "+t+"; src: url('"+a+"');";n=document.styleSheets[0],null!==n&&n.addRule("@font-face",i)}function p(e){e.addButton("aligntop",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-top.svg",tooltip:"Align Top",onclick:function(){e.execCommand("mceToggleVertical",!1,"top")}}),e.addButton("alignmiddle",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-vertical-middle.svg",tooltip:"Align Middle",onclick:function(){e.execCommand("mceToggleVertical",!1,"middle")}}),e.addButton("alignbottom",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-bottom.svg",tooltip:"Align Bottom",onclick:function(){e.execCommand("mceToggleVertical",!1,"bottom")}}),e.addCommand("mceToggleVertical",function(){})}function f(e){switch(e){case"top":s(m.find(".mce-btn[aria-label='Align Top']"));break;case"middle":s(m.find(".mce-btn[aria-label='Align Middle']"));break;case"bottom":s(m.find(".mce-btn[aria-label='Align Bottom']"))}}var m=$(t),g=m.find(".custom-font"),h=m.find(".custom-font-size"),v=!0;e.googleFontList="",e.defaultFont={font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"24px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"},a.getFonts().then(function(t){e.googleFontList=t}),e.customFontSize=null,e.applyCustomFont=function(){var t=u();null!==t&&(d(t),e.fontData.font.family=t,e.fontData.font.type="custom",l(e.fontData)),g.modal("hide")},e.applyCustomFontSize=function(){h.modal("hide"),null!==e.customFontSize&&e.customFontSize>=8&&e.customFontSize+"px"!==e.fontData.size&&(e.fontData.size=e.customFontSize+"px",-1!==WIDGET_SETTINGS_UI_CONFIG.sizes.indexOf(e.fontData.size)||e.fontData.customSize===e.fontData.size?n.tinymce.activeEditor.execCommand("FontSize",!1,e.fontData.size):(e.fontData.customSize=e.customFontSize+"px",e.tinymceOptions.fontsize_formats="Custom "+(""!==e.fontData.customSize?e.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes)),e.customFontSize=null},e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e};var b=e.$watchGroup(["fontData","googleFontList"],function(t){var n=null,a=t[0],o=t[1];a&&o&&(e.defaults(a,e.defaultFont),e.fontData.font.url&&(n=u(),null!==n&&d(n)),l(a),i(),b(),e.previewText&&e.$watch("fontData",l,!0))});e.$watch("tinymceOptions.fontsize_formats",function(t){"undefined"==typeof t||v||e.$broadcast("$tinymce:refresh")})}}}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting").factory("googleFontLoader",["$http","angularLoad",function(e,t){var n="https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY",a="//fonts.googleapis.com/css?family=",i=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],o=",sans-serif;",r={};return r.getFonts=function(){return e.get(n,{cache:!0}).then(function(e){var n="",r="",s=!1;if(e.data&&e.data.items)for(var l=0;l<e.data.items.length;l++)n=e.data.items[l].family,-1===i.indexOf(n)&&(t.loadCSS(a+n).then(function(){}),/\s/.test(n)&&(s=!0),r+=s?n+"='"+n+"'"+o:n+"="+n+o);return r})},r}])}(),function(e){try{e=angular.module("risevision.widget.common.font-setting")}catch(t){e=angular.module("risevision.widget.common.font-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/font-setting/font-setting.html",'<div class="font-setting">\n  <div class="row">\n    <div class="col-md-12">\n      <div ng-class="{\'form-group\': !previewText}">\n        <textarea ui-tinymce="tinymceOptions" ng-model="tinymceModel" ng-if="tinymceOptions"></textarea>\n      </div>\n    </div>\n  </div>\n  <div class="row" ng-if="previewText">\n    <div class="col-md-12">\n      <div class="text-container form-group">\n        <span class="text">{{previewText}}</span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font -->\n  <div class="custom-font modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontForm">\n          <div class="modal-body">\n            <url-field url="fontData.font.url" ng-model="customFont" init-empty></url-field>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFont()" ng-disabled="customFontForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font Size -->\n  <div class="custom-font-size modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font-size" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontSizeForm">\n          <div class="modal-body">\n            <div class="row">\n              <div class="col-md-3">\n                <div class="input-group">\n                  <input type="number" ng-model="customFontSize" class="form-control" />\n                  <span class="input-group-addon">{{\'common.units.pixels\' | translate}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFontSize()" ng-disabled="customFontSizeForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig","uiTinymceService",function(e,t,n,a,i,o,r){return o=o||{},o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(s,l,c,u){function d(e){e?(p(),m&&m.getBody().setAttribute("contenteditable",!1)):(p(),m&&!m.settings.readonly&&m.getDoc()&&m.getBody().setAttribute("contenteditable",!0))}function p(){m||(m=tinymce.get(c.id))}if(a.tinymce){var f,m,g=u[0],h=u[1]||null,v={debounce:!0},b=function(t){var n=t.getContent({format:v.format}).trim();n=i.trustAsHtml(n),g.$setViewValue(n),e.$$phase||s.$digest()},y=r.getUniqueId();c.$set("id",y),f={},angular.extend(f,s.$eval(c.uiTinymce));var $=function(e){var t;return function(a){n.cancel(t),t=n(function(){return function(e){e.isDirty()&&(e.save(),b(e))}(a)},e)}}(400),w={setup:function(t){t.on("init",function(){g.$render(),g.$setPristine(),g.$setUntouched(),h&&h.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){return v.debounce?($(t),void 0):(t.save(),b(t),void 0)}),t.on("blur",function(){l[0].blur(),g.$setTouched(),e.$$phase||s.$digest()}),t.on("remove",function(){l.remove()}),o.setup&&o.setup(t,{updateView:b}),f.setup&&f.setup(t,{updateView:b})},format:f.format||"html",selector:"#"+c.id};angular.extend(v,o,f,w),n(function(){v.baseURL&&(tinymce.baseURL=v.baseURL);var e=tinymce.init(v);e&&"function"==typeof e.then?e.then(function(){d(s.$eval(c.ngDisabled))}):d(s.$eval(c.ngDisabled))}),g.$formatters.unshift(function(e){return e?i.trustAsHtml(e):""}),g.$parsers.unshift(function(e){return e?i.getTrustedHtml(e):""}),g.$render=function(){p();var e=g.$viewValue?i.getTrustedHtml(g.$viewValue):"";m&&m.getDoc()&&(m.setContent(e),m.fire("change"))},c.$observe("disabled",d),s.$on("$tinymce:refresh",function(e,n){var a=c.id;if(angular.isUndefined(n)||n===a){var i=l.parent(),o=l.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,a),i.append(t(o)(s))}}),s.$on("$destroy",function(){p(),m&&(m.remove(),m=null)})}}}}]).service("uiTinymceService",[function(){var e=function(){var e="ui-tinymce",t=0,n=function(){return t++,e+"-"+t};return{getUniqueId:n}};return new e}]),"undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["alignment.html"]='<div class="btn-group alignment">\n  <button type="button" class="btn btn-default btn-sm btn-alignment dropdown-toggle"\n    data-toggle="dropdown" data-wysihtml5-command-value="left">\n    <i class="fa fa-align-left"></i>\n    <span class="caret"></span>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="left" tabindex="-1">\n        <i class="fa fa-align-left"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="center" tabindex="-1">\n        <i class="fa fa-align-center"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="right" tabindex="-1">\n        <i class="fa fa-align-right"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="justify" tabindex="-1">\n        <i class="fa fa-align-justify"></i>\n      </button>\n    </div>\n  </div>\n</div>\n',function(e,t,n,a){"use strict";function i(t,n){function i(){l.append(a["alignment.html"]),c=l.find(".btn-alignment"),r(n.align),l.find(".dropdown-menu button").on("click",function(){var t=e(this).data("wysihtml5-command-value");r(t),l.trigger("alignmentChanged",t)})}function o(){return c.data("wysihtml5-command-value")}function r(e){var t=l.find(".btn-alignment .fa"),n=t.attr("class").match(/fa-align-[a-z]+/g),a="fa-align-"+e;n&&n.length>0&&t.removeClass(n[0]),t.addClass(a),c.data("wysihtml5-command-value",e)}function s(){r(u)}var l=e(t),c=null,u="left";return n=e.extend({},{align:u},n),i(),{getAlignment:o,setAlignment:r,reset:s}}var o="alignment";e.fn.alignment=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new i(this,t))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};!function(){"use strict";angular.module("risevision.widget.common.alignment",[]).directive("alignment",function(){return{restrict:"E",scope:{align:"="},transclude:!1,link:function(e,t){var n=$(t);e.$watch("align",function(e){e&&(n.data("plugin_alignment")?n.data("plugin_alignment").setAlignment(e):n.alignment({align:e}))}),n.on("alignmentChanged",function(t,n){e.$apply(function(){e.align=n})})}}})}(),function(){"use strict";angular.module("risevision.widget.common.column-setting",["risevision.common.i18n","risevision.widget.common.font-setting"]).directive("columnSetting",["$templateCache",function(e){return{restrict:"E",scope:{column:"=",expand:"="},template:e.get("_angular/column-setting/column-setting.html"),transclude:!1,link:function(e){var t={fontStyle:{font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"},headerText:"",width:100,colorCondition:"none",numeric:!1};e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e},e.$watch("column",function(n){e.defaults(n,t)}),e.remove=function(){e.$parent.remove(e.column)}}}}])}(),function(e){try{e=angular.module("risevision.widget.common.column-setting")}catch(t){e=angular.module("risevision.widget.common.column-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/column-setting/column-setting.html",'<div class="panel panel-default">\n  <div class="collapse-panel panel-heading">\n    <a href="" ondragstart="return false;"\n    ng-class="{\'panel-heading\':true, collapsed:!collapse}" ng-click="collapse=!collapse">\n       {{column.name | translate}}\n    </a>\n    <a href="" ondragstart="return false;" class="fa fa-minus-circle fa-lg remove-column-button" ng-click="remove()"></a>\n  </div>\n  <div ng-class="{\'panel-collapse\':true, collapse:true, in:collapse}">\n    <div class="panel-body">\n\n      <!-- Numeric data column -->\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="column.numeric">{{\'column.numeric\' | translate}}\n        </label>\n        <span class="text-danger" style="float:right">\n          {{\'column.note\' | translate}}\n        </span>\n      </div>\n\n      <font-setting font-data="column.fontStyle">\n      </font-setting>\n\n      <div class="row">\n\n        <!-- Header Text -->\n        <div class="col-sm-6 col-xs-12">\n          <div class="form-group">\n            <label for="column-header-text">\n              {{\'column.header-text.label\' | translate}}\n            </label>\n            <input type="text" ng-model="column.headerText" class="form-control">\n          </div>\n        </div>\n\n        <!-- Width -->\n        <div class="col-sm-3 col-xs-12">\n          <div class="form-group">\n            <label for="column-width">\n              {{\'column.width\' | translate}}\n            </label>\n            <div class="input-group">\n              <input type="number" ng-model="column.width" class="form-control">\n              <span class="input-group-addon">{{\'common.units.pixels\' | translate}}</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Color Conditions -->\n        <div class="col-sm-3 col-xs-12">\n          <div class="form-group">\n            <label for="column-color-condition">\n                {{\'column.color-condition.label\' | translate}}\n              </label>\n            <select class="form-control" ng-model="column.colorCondition"\n              ng-disabled="!column.numeric">\n              <option value="none">{{\'column.color-condition.none\' | translate}}</option>\n              <option value="change-up">{{\'column.color-condition.change-up\' | translate}}</option>\n              <option value="change-down">{{\'column.color-condition.change-down\' | translate}}</option>\n              <option value="value-positive">{{\'column.color-condition.value-positive\' | translate}}</option>\n              <option value="value-negative">{{\'column.color-condition.value-negative\' | translate}}</option>\n            </select>\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.column-selector",["risevision.widget.common.column-setting","risevision.common.i18n"]).directive("columnSelector",["$templateCache",function(e){return{restrict:"E",require:"?ngModel",scope:{columns:"=",columnNames:"=",disabled:"=ngDisabled"},template:e.get("_angular/column-selector/column-selector.html"),transclude:!1,link:function(e,t,n,a){function i(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t){e.splice(n,1);break}}function o(){a&&a.$setValidity("required",e.columns.length)}function r(){for(var t=0;t<e.columns.length;t++)for(var n=0;n<e.columnNames.length;n++)e.columns[t].id===e.columnNames[n].id&&(e.columns[t].name=e.columnNames[n].name,e.columnNames[n].show=!0)}var s=e.$watch("columns",function(){e.columns&&e.columnNames&&(r(),o(),s())}),l=e.$watch("columnNames",function(t){e.columns&&t&&t.length>0&&(r(),l())});e.show=function(e){return!e.show},e.addColumn=function(){e.add(e.selectedColumn),e.selectedColumn=null},e.add=function(t){for(var n=0;n<e.columnNames.length;n++)if(t.id===e.columnNames[n].id){e.columnNames[n].show=!0;break}e.columns.push(t),o()},e.remove=function(t){if(t){i(e.columns,t.id);for(var n=0;n<e.columnNames.length;n++)if(t.id===e.columnNames[n].id){e.columnNames[n].show=!1;break}o()}}}}}])}(),function(e){try{e=angular.module("risevision.widget.common.column-selector")}catch(t){e=angular.module("risevision.widget.common.column-selector",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/column-selector/column-selector.html",'<div class="section">\n	<div class="row">\n		<div class="col-md-12">\n			<div class="form-group">\n				<label for="columns" class="control-label">{{\'column.select-title\' | translate}}</label>\n				<select class="column-selector form-control" ng-model="selectedColumn"\n				ng-options="column.name | translate for column in columnNames | filter:show track by column.id"\n				ng-change="addColumn()" ng-disabled="disabled"></select>\n			</div>\n		</div>\n	</div>\n	<div class="row">\n		<div class="col-md-12">\n			<div class="panel-group">\n				<column-setting column="column" ng-repeat="column in columns"></column-setting>\n			</div>\n	</div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.scroll-setting",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("scrollSetting",["$templateCache",function(e){return{restrict:"E",scope:{scroll:"=",hideDirection:"@"},template:e.get("_angular/scroll-setting/scroll-setting.html"),transclude:!1,link:function(e){e.defaultSetting={by:"none",direction:"up",speed:"medium",pause:5,pud:10},e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e},e.$watch("scroll",function(t){e.defaults(t,e.defaultSetting)})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.scroll-setting")}catch(t){e=angular.module("risevision.widget.common.scroll-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/scroll-setting/scroll-setting.html",'<div class="row">\n  <div class="col-md-2">\n    <div class="form-group">\n      <label class="control-label">{{"scroll.heading" | translate}}</label>\n      <select id="scroll-by" ng-model="scroll.by" class="form-control">\n        <option value="none">{{\'scroll.by.none\' | translate}}</option>\n        <option value="continuous">{{\'scroll.by.continuous\' | translate}}</option>\n        <option value="page">{{\'scroll.by.page\' | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="!hideDirection && scroll.by == \'continuous\'">\n    <div class="form-group">\n      <label class="control-label">{{"transition.direction.label" | translate}}</label>\n      <select id="scroll-direction" name="scroll-direction" ng-model="scroll.direction" class="form-control">\n        <option value="up">{{"transition.direction.up" | translate}}</option>\n        <option value="left">{{"transition.direction.left" | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.speed.label\' | translate}}</label>\n      <select id="scroll-speed" ng-model="scroll.speed" class="form-control">\n        <option value="slow">{{\'scroll.speed.slow\' | translate}}</option>\n        <option value="medium">{{\'scroll.speed.medium\' | translate}}</option>\n        <option value="fast">{{\'scroll.speed.fast\' | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\' && scroll.direction != \'left\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.pause.label\' | translate}}</label>\n      <div class="input-group">\n        <input id="scroll-pause" type="number" ng-model="scroll.pause" class="form-control" />\n        <span class="input-group-addon">{{\'common.units.seconds\' | translate}}</span>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\' && scroll.direction != \'left\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.pud.label\' | translate}}</label>\n      <span popover="{{\'scroll.pud.tooltip\' | translate}}" popover-trigger="click"\n        popover-placement="right" rv-tooltip></span>\n      <div class="input-group">\n        <input id="scroll-pud" type="number" ng-model="scroll.pud" class="form-control" />\n        <span class="input-group-addon">{{\'common.units.seconds\' | translate}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n')
}])}();var config={apiKey:"AIzaSyAdX5yRzScPWbRm0FnNcoYxbiLeQo8owwc"};"undefined"!=typeof angular&&(angular.module("risevision.widget.googleSpreadsheet.config",[]).value("API_KEY","AIzaSyAdX5yRzScPWbRm0FnNcoYxbiLeQo8owwc"),angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json")),angular.module("risevision.widget.googleSpreadsheet.settings",["risevision.common.i18n","risevision.widget.common","risevision.widget.common.tooltip","risevision.widget.common.widget-button-toolbar","risevision.widget.common.column-selector","risevision.widget.common.font-setting","risevision.widget.common.scroll-setting","risevision.widget.common.google-drive-picker","risevision.widget.googleSpreadsheet.config","colorpicker.module"]),angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(e,t,n,a){e.settings={params:{},additionalParams:{}},e.alerts=[],e.getAdditionalParam=function(t,n){var a=e.settings.additionalParams[t];return angular.isUndefined(a)?n:a},e.setAdditionalParam=function(t,n){e.settings.additionalParams[t]=n},e.loadAdditionalParams=function(){n.getAdditionalParams().then(function(t){e.settings.additionalParams=t,e.$broadcast("loadAdditionalParams",t)},function(e){alert(e)})},e.setAdditionalParams=function(t,n){e.settings.additionalParams[t]=n},e.saveSettings=function(){e.alerts=[],e.$broadcast("collectAdditionalParams"),t.saveSettings(e.settings).then(function(){},function(t){e.alerts=t.alerts})},e.closeSettings=function(){a.closeSettings().then(function(){},function(t){e.alerts=t.alerts})},e.settings.params=n.getParams(),e.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(e,t){e.$watchCollection("alerts",function(e,n){e.length>0&&0===n.length&&$("body").animate({scrollTop:t.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(e,t,n){var a={getStorageUrlData:function(e){function a(e){return-1!==e.indexOf(t)?"file":-1!==e.indexOf(n)?"folder":null}function i(e){var t=e.split("risemedialibrary-");return t[1].slice(0,t[1].indexOf("/"))}var o,r,s,l,c={};if("file"===a(e))o=e.split(t)[1],o=decodeURIComponent(o.slice(o.indexOf("/")+1)),r=o.split("/"),c.companyId=i(e),c.fileName=r.pop(),c.folder=r.length>0?r.join("/"):"",""!==c.folder&&(c.folder+="/");else if("folder"===a(e)){s=e.split("?");for(var u=0;u<s.length;u++)if(l=s[u].split("="),"prefix"===l[0]&&"undefined"!=typeof l[1]&&""!==l[1]){c.companyId=i(e),c.folder=decodeURIComponent(l[1]),c.fileName="";break}}return c}};return a}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(e){return e.gadgets}]),angular.module("risevision.widget.common").factory("googleFontLoader",["$http","angularLoad",function(e,t){function n(){for(var e="",n="",a="",o=[],r=!1,s=",sans-serif;",l="//fonts.googleapis.com/css?family=",c=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],u=0;u<i.length;u++)e=i[u],-1===c.indexOf(e)&&(a=l+e,t.loadCSS(a),o.push(a),/\s/.test(e)&&(r=!0),n+=r?e+"='"+e+"'"+s:e+"="+e+s);return{fonts:n,urls:o}}var a={},i=[];return a.getGoogleFonts=function(){return 0===i.length?e.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY&sort=alpha",{cache:!0}).then(function(e){var t=null;if(e.data&&e.data.items){for(var a=0,o=e.data.items.length;o>a;a++)t=e.data.items[a],t.subsets&&1===t.subsets.length&&"khmer"===t.subsets[0].toLowerCase()||i.push(t.family);return n()}}):n()},a.getFontsUsed=function(e){var t=[];return angular.forEach(i,function(n){-1!==e.indexOf(n)&&t.push(n)}),t},a}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(e,t){var n=t.defer();e.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(e.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(e){var t={isImage:function(t){var n=e.defer(),a=new Image;return a.onload=function(){n.resolve(!0)},a.onerror=function(){n.resolve(!1)},a.src=t,n.promise}};return t}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(e,t,n,a){function i(e){var t=angular.copy(e);return delete t.params.id,delete t.params.companyId,delete t.params.rsW,delete t.params.rsH,t}this.saveSettings=function(o,r){var s=e.defer(),l=[],c="";o=i(o),r&&(l=r(o)),l.length>0&&(t.debug("Validation failed.",l),s.reject({alerts:l})),o.params.hasOwnProperty("layoutURL")&&(c+=o.params.layoutURL+"?",delete o.params.layoutURL),c+=a.encodeParams(o.params);var u=a.encodeAdditionalParams(o.additionalParams);return n.rpc.call("","rscmd_saveSettings",function(e){t.debug("encoded settings",JSON.stringify(e)),t.debug("Settings saved. ",o),s.resolve(e)},{params:c,additionalParams:u}),s.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(e,t,n,a,i,o){this.getAdditionalParams=function(){var i=e.defer(),r=o.additionalParams||{};return t.rpc.call("","rscmd_getAdditionalParams",function(e){e=e?a.parseAdditionalParams(e):{},n.debug("getAdditionalParams returns ",e),i.resolve($.extend(!0,r,e))}),i.promise},this.getParams=function(){var e=o.params||{};return angular.extend(e,a.parseParams(i.location.search))}}]).service("settingsParser",[function(){function e(e){return 0===e.indexOf("up_")?e.slice(3):null}this.parseAdditionalParams=function(e){return e?JSON.parse(e):{}},this.encodeAdditionalParams=function(e){return JSON.stringify(e)},this.encodeParams=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var a;a="object"==typeof e[n]?JSON.stringify(e[n]):e[n],t.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return t.join("&")},this.parseParams=function(t){"?"===t[0]&&(t=t.slice(1));for(var n={},a=t.split("&"),i=0;i<a.length;i++){var o=a[i].split("="),r=e(decodeURIComponent(o[0]));if(r)try{n[r]=JSON.parse(decodeURIComponent(o[1]))}catch(s){n[r]=decodeURIComponent(o[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(e,t,n){this.closeSettings=function(){var t=e.defer();return n.rpc.call("","rscmd_closeSettings",function(){t.resolve(!0)}),t.promise}}]).value("defaultSettings",{}),function(e){"use strict";e.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(e,t){var n,a=e.defer(),i={get:function(){return n||(n=a.promise,t.google.visualization?a.resolve(t.google.visualization):t.google.setOnLoadCallback(function(){a.resolve(t.google.visualization)})),n}};return i}])}(angular),angular.module("risevision.widget.googleSpreadsheet.settings").controller("spreadsheetSettingsController",["$scope","googleSheet","$window",function(e,t,n){function a(){e.sheets=[],e.currentSheet=null,e.settings.additionalParams.spreadsheet.sheetName=""}function i(n){e.columns=[],e.settings.additionalParams.format.columns=[],n&&t.resetColumns()}function o(n){t.getWorkSheets(n).then(function(t){e.public=!0,e.sheets=t.map(function(e){return{label:e.properties.title,value:e.properties.title}}),e.currentSheet=e.settings.additionalParams.spreadsheet.sheetName?e.sheets.filter(function(t){return t.value===e.settings.additionalParams.spreadsheet.sheetName})[0]:e.sheets[0]}).then(null,function(){e.public=!1,a(),i(!0)})}function r(n){var a="";e.settings.additionalParams.spreadsheet.sheetName&&e.validApiKey&&("range"===e.settings.additionalParams.spreadsheet.cells&&e.settings.additionalParams.spreadsheet.range.startCell&&e.settings.additionalParams.spreadsheet.range.endCell&&(a=e.settings.additionalParams.spreadsheet.range.startCell+":"+e.settings.additionalParams.spreadsheet.range.endCell),t.getColumnsData(e.settings.additionalParams.spreadsheet.fileId,e.settings.additionalParams.spreadsheet.apiKey,e.settings.additionalParams.spreadsheet.sheetName,a).then(function(t){e.validData=!0,t&&(n||(e.settings.additionalParams.format.columns=[]),e.columns=t)}).then(null,function(){e.validData=!1,i()}))}e.showPreview=!1,e.sheets=[],e.currentSheet=null,e.columns=[],e.validApiKey=!0,e.public=!0,e.validData=!0,e.$watch("currentSheet",function(t){t&&(e.settings.additionalParams.spreadsheet.sheetName=t.value)}),e.$watch("settings.additionalParams.spreadsheet.sheetName",function(e,t){"undefined"==typeof t&&e&&""!==e?r(!0):"undefined"!=typeof e&&""!==e&&r()}),e.$watch("settings.additionalParams.spreadsheet.cells",function(e,t){"undefined"!=typeof e&&"undefined"!=typeof t&&r()}),e.startCellBlur=function(){r()},e.endCellBlur=function(){r()},e.$watch("settings.additionalParams.spreadsheet.fileId",function(t){"undefined"!=typeof t&&t||e.settingsForm.$setValidity("fileId",!1)}),e.fileIdBlur=function(){e.settings.additionalParams.spreadsheet.fileId&&"key"===e.settings.additionalParams.spreadsheet.selection&&(e.settings.additionalParams.spreadsheet.url="https://docs.google.com/spreadsheets/d/"+e.settings.additionalParams.spreadsheet.fileId+"/edit#gid=0")},e.$watch("settings.additionalParams.spreadsheet.url",function(t,n){"undefined"!=typeof t&&t!==n&&""!==t&&(e.showPreview=!0,e.settingsForm.$setValidity("fileId",!0),o(e.settings.additionalParams.spreadsheet.fileId))}),e.$watch("public",function(t){"undefined"!=typeof t&&e.settings.additionalParams.spreadsheet&&e.settings.additionalParams.spreadsheet.fileId&&""!==e.settings.additionalParams.spreadsheet.fileId&&e.settingsForm.$setValidity("fileId",t)}),e.$on("picked",function(t,n){e.settings.additionalParams.spreadsheet.selection="drive",e.settings.additionalParams.spreadsheet.docName=n[0].name,e.settings.additionalParams.spreadsheet.fileId=n[0].id,e.settings.additionalParams.spreadsheet.url=encodeURI(n[0].url)}),e.setSelection=function(){e.showPreview=!0,e.settings.additionalParams.spreadsheet.selection="key"},e.previewFile=function(){n.open(e.settings.additionalParams.spreadsheet.url,"_blank")},e.retryFile=function(){e.settings.additionalParams.spreadsheet.fileId&&""!==e.settings.additionalParams.spreadsheet.fileId&&(e.public=!0,o(e.settings.additionalParams.spreadsheet.fileId))},e.clearSelection=function(){e.public=!0,"drive"===e.settings.additionalParams.spreadsheet.selection&&(e.settings.additionalParams.spreadsheet.docName=""),e.settings.additionalParams.spreadsheet.url="",e.settings.additionalParams.spreadsheet.fileId="",a(),i(!0)},e.$watch("settings.additionalParams.spreadsheet.apiKey",function(t){"undefined"!=typeof t&&t||(e.settingsForm.$setValidity("apiKey",!0),e.validApiKey=!0,e.settings.additionalParams.spreadsheet&&(e.settings.additionalParams.spreadsheet.refresh=60))}),e.$watch("validApiKey",function(e,t){e!==t&&e&&r()}),e.apiKeyBlur=function(){e.settings.additionalParams.spreadsheet.apiKey&&(e.settingsForm.$setValidity("apiKey",!0),t.getWorkSheets(e.settings.additionalParams.spreadsheet.fileId,e.settings.additionalParams.spreadsheet.apiKey).then(function(){e.validApiKey=!0,e.settingsForm.$setValidity("apiKey",!0)}).then(null,function(){e.validApiKey=!1,e.settingsForm.$setValidity("apiKey",!1)}))}}]).value("defaultSettings",{params:{},additionalParams:{format:{body:{fontStyle:{font:{family:"tahoma,arial,helvetica,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"}},columns:[],evenRowColor:"rgba(0,0,0,0)",header:{fontStyle:{font:{family:"tahoma,arial,helvetica,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"}},oddRowColor:"rgba(0,0,0,0)",rowHeight:50,separator:{color:"rgba(238,238,238, 1)",showColumn:!0,showRow:!0}},scroll:{},spreadsheet:{selection:"drive",docName:"",url:"",fileId:"",cells:"sheet",range:{startCell:"",endCell:""},sheetName:"",hasHeader:!1,refresh:60,apiKey:""}}}),angular.module("risevision.widget.googleSpreadsheet.settings").constant("SHEETS_API","https://sheets.googleapis.com/v4/spreadsheets/").factory("googleSheet",["$http","$q","$log","SHEETS_API","API_KEY",function(e,t,n,a,i){var o={},r=null,s=!0,l=function(e){for(var t="a".charCodeAt(0),n="z".charCodeAt(0),a=n-t+1,i="";e>=0;)i=String.fromCharCode(e%a+t)+i,e=Math.floor(e/a)-1;return i},c=function(e,t){var n,a=0;return e&&e.length>0?(t&&(a=t.slice(0,t.indexOf(":")).toLowerCase().charCodeAt(0)-97),e.map(function(e,t){return n={},n.id=t,n.name=l(a).toUpperCase(),a+=1,n})):[]};return o.getWorkSheets=function(t,n){var o=a+t+"?key="+(n?n:i);return e.get(o).then(function(e){return e.data.sheets})},o.getColumnsData=function(n,o,l,u){var d=a+n+"/values/"+encodeURIComponent(l)+(u?"!"+u:"")+"?key="+(o?o:i)+"&majorDimension=COLUMNS",p=t.defer();return r===d&&s?(p.resolve(null),p.promise):(r=d,e.get(d).then(function(e){return s=!0,e.data.values}).then(function(e){return c(e,u)}).then(null,function(e){return r=null,s=!1,p.reject(e.data.error),p.promise}))},o.resetColumns=function(){r=null,s=!0},o}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJoYW5kbGVDbGllbnRKU0xvYWQiLCJpc0NsaWVudEpTIiwiZXZ0IiwiZG9jdW1lbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJ0aGlzIiwicnVuVHJhbnNsYXRlIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJhbmd1bGFyIiwiaXNTdHJpbmciLCJ1c2UiLCJwdXQiLCJkaXNwbGF5TmFtZSIsImdldCIsIiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlciIsIiRzYW5pdGl6ZSIsIiRzY2UiLCJzdHJhdGVnaWVzIiwiY3VycmVudFN0cmF0ZWd5IiwiaGFzQ29uZmlndXJlZFN0cmF0ZWd5IiwiaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmciLCJzYW5pdGl6ZSIsInZhbHVlIiwibW9kZSIsImh0bWxTYW5pdGl6ZVZhbHVlIiwiZXNjYXBlIiwiaHRtbEVzY2FwZVZhbHVlIiwic2FuaXRpemVQYXJhbWV0ZXJzIiwibWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnMiLCJlc2NhcGVQYXJhbWV0ZXJzIiwic2NlIiwiY29udGV4dCIsImh0bWxUcnVzdFZhbHVlIiwic2NlUGFyYW1ldGVycyIsImVzY2FwZWQiLCJhZGRTdHJhdGVneSIsInN0cmF0ZWd5TmFtZSIsInN0cmF0ZWd5RnVuY3Rpb24iLCJyZW1vdmVTdHJhdGVneSIsInVzZVN0cmF0ZWd5Iiwic3RyYXRlZ3kiLCIkZ2V0IiwiJGluamVjdG9yIiwiJGxvZyIsImNhY2hlZFN0cmF0ZWd5TWFwIiwiYXBwbHlTdHJhdGVnaWVzIiwic2VsZWN0ZWRTdHJhdGVnaWVzIiwiZm9yRWFjaCIsInNlbGVjdGVkU3RyYXRlZ3kiLCJpc0Z1bmN0aW9uIiwiRXJyb3IiLCJlIiwic2hvd05vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZyIsIndhcm4iLCJoYXMiLCJzZWxmIiwiaXNBcnJheSIsImVsZW1lbnQiLCJ0ZXh0IiwiaHRtbCIsInRydXN0QXNIdG1sIiwiaXRlcmF0ZWUiLCJzdGFjayIsImlzRGF0ZSIsImlzT2JqZWN0IiwicmVzdWx0IiwiaW5kZXhPZiIsInB1c2giLCJwcm9wZXJ0eVZhbHVlIiwicHJvcGVydHlLZXkiLCJzcGxpY2UiLCJpc051bWJlciIsIiRTVE9SQUdFX0tFWSIsIiR3aW5kb3dQcm92aWRlciIsInBhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlciIsIiRwcmVmZXJyZWRMYW5ndWFnZSIsIiRsYW5ndWFnZUtleUFsaWFzZXMiLCIkZmFsbGJhY2tMYW5ndWFnZSIsIiRmYWxsYmFja1dhc1N0cmluZyIsIiR1c2VzIiwiJG5leHRMYW5nIiwiJHN0b3JhZ2VGYWN0b3J5IiwiJHN0b3JhZ2VQcmVmaXgiLCIkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkiLCIkaW50ZXJwb2xhdGlvbkZhY3RvcnkiLCIkbG9hZGVyRmFjdG9yeSIsIiRsb2FkZXJPcHRpb25zIiwiJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCIsIiRub3RGb3VuZEluZGljYXRvclJpZ2h0IiwibG9hZGVyQ2FjaGUiLCJwb3N0UHJvY2Vzc0ZuIiwiJHRyYW5zbGF0aW9uVGFibGUiLCIkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzIiwiJHN0b3JhZ2VLZXkiLCIkaW50ZXJwb2xhdG9yRmFjdG9yaWVzIiwiJGNsb2FrQ2xhc3NOYW1lIiwiJHBvc3RDb21waWxpbmdFbmFibGVkIiwiJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkIiwiJG5lc3RlZE9iamVjdERlbGltZXRlciIsIiRpc1JlYWR5IiwiJGtlZXBDb250ZW50IiwiZGlyZWN0aXZlUHJpb3JpdHkiLCJzdGF0ZWZ1bEZpbHRlciIsInVuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyIiwibGFuZ3VhZ2VUYWdSZXNvbHZlciIsImRlZmF1bHQiLCJ0YWciLCJzcGxpdCIsImpvaW4iLCJqYXZhIiwidGVtcCIsInBhcnRzIiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsImJjcDQ3IiwiaXNvNjM5LTEiLCJ2ZXJzaW9uIiwiZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UiLCJnZXRMb2NhbGUiLCJpIiwibGFuZ3VhZ2UiLCJuYXYiLCJuYXZpZ2F0b3IiLCJicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMiLCJsYW5ndWFnZXMiLCJsb2NhbGUiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidG9TdHJpbmciLCJyZXBsYWNlIiwibmVnb3RpYXRlTG9jYWxlIiwiYXZhaWwiLCJsb3dlcmNhc2UiLCJuIiwiYWxpYXMiLCJsYW5nS2V5QWxpYXMiLCJoYXNPd25Qcm9wZXJ0eSIsImhhc1dpbGRjYXJkS2V5IiwiaGFzRXhhY3RLZXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJjYWxsIiwic2xpY2UiLCJ0cmFuc2xhdGlvbnMiLCJsYW5nS2V5IiwidHJhbnNsYXRpb25UYWJsZSIsImV4dGVuZCIsImZsYXRPYmplY3QiLCJjbG9ha0NsYXNzTmFtZSIsIm5hbWUiLCJuZXN0ZWRPYmplY3REZWxpbWV0ZXIiLCJkZWxpbWl0ZXIiLCJkYXRhIiwicGF0aCIsInByZXZLZXkiLCJrZXlXaXRoUGF0aCIsImtleVdpdGhTaG9ydFBhdGgiLCJ2YWwiLCJjb25jYXQiLCJhZGRJbnRlcnBvbGF0aW9uIiwidXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24iLCJ1c2VJbnRlcnBvbGF0aW9uIiwidXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5Iiwic2V0dXBQcmVmZXJyZWRMYW5ndWFnZSIsInRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3IiLCJpbmRpY2F0b3IiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCIsInRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCIsImZhbGxiYWNrTGFuZ3VhZ2UiLCJmYWxsYmFja1N0YWNrIiwicmVzb2x2ZUNsaWVudExvY2FsZSIsInVzZVVybExvYWRlciIsInVybCIsIm9wdGlvbnMiLCJ1c2VMb2FkZXIiLCJ1c2VTdGF0aWNGaWxlc0xvYWRlciIsImxvYWRlckZhY3RvcnkiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJ1c2VTdG9yYWdlIiwidXNlQ29va2llU3RvcmFnZSIsInN0b3JhZ2VGYWN0b3J5Iiwic3RvcmFnZVByZWZpeCIsInByZWZpeCIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2ciLCJ1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIiwidXNlUG9zdENvbXBpbGluZyIsImZvcmNlQXN5bmNSZWxvYWQiLCJ1bmlmb3JtTGFuZ3VhZ2VUYWciLCJzdGFuZGFyZCIsImRldGVybWluZVByZWZlcnJlZExhbmd1YWdlIiwiZm4iLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImxhbmd1YWdlS2V5cyIsImFsaWFzZXMiLCJ1c2VMb2FkZXJDYWNoZSIsImNhY2hlIiwidW5kZWZpbmVkIiwicHJpb3JpdHkiLCJzdGF0ZSIsInBvc3RQcm9jZXNzIiwia2VlcENvbnRlbnQiLCIkcm9vdFNjb3BlIiwiJHEiLCJTdG9yYWdlIiwiZmFsbGJhY2tJbmRleCIsInN0YXJ0RmFsbGJhY2tJdGVyYXRpb24iLCJkZWZhdWx0SW50ZXJwb2xhdG9yIiwicGVuZGluZ0xvYWRlciIsImludGVycG9sYXRvckhhc2hNYXAiLCJsYW5nUHJvbWlzZXMiLCJ0cmFuc2xhdGlvbklkIiwiaW50ZXJwb2xhdGVQYXJhbXMiLCJpbnRlcnBvbGF0aW9uSWQiLCJkZWZhdWx0VHJhbnNsYXRpb25UZXh0IiwiZm9yY2VMYW5ndWFnZSIsInVzZXMiLCJsb2FkVHJhbnNsYXRpb25zSWZNaXNzaW5nIiwidHJhbnNsYXRlQWxsIiwidHJhbnNsYXRpb25JZHMiLCJyZXN1bHRzIiwicHJvbWlzZXMiLCJ0cmFuc2xhdGUiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVnYXJkbGVzcyIsInJlc29sdmUiLCJ0aGVuIiwicHJvbWlzZSIsImMiLCJhbGwiLCJhcHBseSIsInByb21pc2VUb1dhaXRGb3IiLCJpbmRleCIsInByb21pc2VSZXNvbHZlZCIsImRldGVybWluZVRyYW5zbGF0aW9uIiwicmVqZWN0IiwiYXBwbHlOb3RGb3VuZEluZGljYXRvcnMiLCJ1c2VMYW5ndWFnZSIsIiRlbWl0Iiwic2V0TG9jYWxlIiwiZWFjaEludGVycG9sYXRvciIsImludGVycG9sYXRvciIsImlkIiwibG9hZEFzeW5jIiwibG9hZGVyT3B0aW9ucyIsIiRodHRwIiwib25Mb2FkZXJTdWNjZXNzIiwidGFibGUiLCJvbkxvYWRlckVycm9yIiwiZWFjaEludGVycG9sYXRpb25GYWN0b3J5IiwiaW50ZXJwb2xhdG9yRmFjdG9yeSIsImdldEludGVycG9sYXRpb25JZGVudGlmaWVyIiwiZ2V0VHJhbnNsYXRpb25UYWJsZSIsIm9uUmVzb2x2ZSIsImdldEZhbGxiYWNrVHJhbnNsYXRpb24iLCJJbnRlcnBvbGF0b3IiLCJ0cmFuc2xhdGlvbiIsInN1YnN0ciIsImludGVycG9sYXRlZFZhbHVlIiwiaW50ZXJwb2xhdGUiLCJhcHBseVBvc3RQcm9jZXNzaW5nIiwiZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQiLCJzYW5pdGl6ZVN0cmF0ZWd5IiwiJCR1bndyYXBUcnVzdGVkVmFsdWUiLCJyZXN1bHQyIiwidHJhbnNsYXRlQnlIYW5kbGVyIiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UiLCJmYWxsYmFja0xhbmd1YWdlSW5kZXgiLCJtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24iLCJyZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQiLCJmYWxsYmFja1RyYW5zbGF0aW9uIiwiZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQiLCJyZXNvbHZlZFRyYW5zbGF0aW9uIiwiX3RyYW5zbGF0aW9uSWQiLCJkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQiLCJjbGVhck5leHRMYW5nQW5kUHJvbWlzZSIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJpc0ZvcmNlQXN5bmNSZWxvYWRFbmFibGVkIiwiaXNLZWVwQ29udGVudCIsInJlZnJlc2giLCJvbmVUcmFuc2xhdGlvbnNMb2FkZWQiLCJ0YWJsZXMiLCJsb2FkaW5nS2V5cyIsImFsbFRyYW5zbGF0aW9uc0xvYWRlZCIsInRhYmxlRGF0YSIsImluc3RhbnQiLCJpc1VuZGVmaW5lZCIsInBvc3NpYmxlTGFuZ0tleXMiLCJqIiwiZCIsInBvc3NpYmxlTGFuZ0tleSIsInZlcnNpb25JbmZvIiwiaXNSZWFkeSIsIiRvblJlYWR5RGVmZXJyZWQiLCJvblJlYWR5IiwiZ2V0QXZhaWxhYmxlTGFuZ3VhZ2VLZXlzIiwiY29weSIsImdsb2JhbE9uUmVhZHlMaXN0ZW5lciIsIiRvbiIsImdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIiLCJlcXVhbHMiLCJwcm9jZXNzQXN5bmNSZXN1bHQiLCJmYWxsYmFja0xhbmd1YWdlSWQiLCIkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24iLCIkaW50ZXJwb2xhdGUiLCIkdHJhbnNsYXRlU2FuaXRpemF0aW9uIiwiJGxvY2FsZSIsIiR0cmFuc2xhdGVJbnRlcnBvbGF0b3IiLCIkaWRlbnRpZmllciIsImludGVycG9sYXRpb25QYXJhbXMiLCJpbnRlcnBvbGF0ZWRUZXh0IiwidHJhbnNsYXRlRGlyZWN0aXZlIiwiJGNvbXBpbGUiLCIkcGFyc2UiLCJyZXN0cmljdCIsInNjb3BlIiwiY29tcGlsZSIsInRFbGVtZW50IiwidEF0dHIiLCJ0cmFuc2xhdGVWYWx1ZXNFeGlzdCIsInRyYW5zbGF0ZVZhbHVlcyIsInRyYW5zbGF0ZUludGVycG9sYXRpb24iLCJ0cmFuc2xhdGVWYWx1ZUV4aXN0Iiwib3V0ZXJIVE1MIiwibWF0Y2giLCJpbnRlcnBvbGF0ZVJlZ0V4cCIsInN0YXJ0U3ltYm9sIiwiZW5kU3ltYm9sIiwid2F0Y2hlclJlZ0V4cCIsImlFbGVtZW50IiwiaUF0dHIiLCJwcmVUZXh0IiwicG9zdFRleHQiLCJ0cmFuc2xhdGVOYW1lc3BhY2UiLCJnZXRUcmFuc2xhdGVOYW1lc3BhY2UiLCJpbml0SW50ZXJwb2xhdGlvblBhcmFtcyIsIiRwYXJlbnQiLCJhdHRyIiwiYXR0cmlidXRlTmFtZSIsIm9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24iLCJfdW53YXRjaE9sZCIsImlzRGVmaW5lZCIsImlFbGVtZW50VGV4dCIsImludGVycG9sYXRlTWF0Y2hlcyIsIndhdGNoZXJNYXRjaGVzIiwiJHdhdGNoIiwibmV3VmFsdWUiLCJ1cGRhdGVUcmFuc2xhdGlvbnMiLCJvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24iLCJ0cmFuc2xhdGVBdHRyIiwiJG9ic2VydmUiLCJmaXJzdEF0dHJpYnV0ZUNoYW5nZWRFdmVudCIsImRlZmF1bHRUZXh0Iiwib2JzZXJ2ZVZhbHVlQXR0cmlidXRlIiwiYXR0ck5hbWUiLCJ1cGRhdGVUcmFuc2xhdGlvbiIsImNoYXJBdCIsInRyYW5zbGF0ZUxhbmd1YWdlIiwiYXBwbHlUcmFuc2xhdGlvbiIsInN1Y2Nlc3NmdWwiLCJ0cmFuc2xhdGVLZWVwQ29udGVudCIsImVtcHR5IiwiYXBwZW5kIiwiZ2xvYmFsbHlFbmFibGVkIiwibG9jYWxseURlZmluZWQiLCJ0cmFuc2xhdGVDb21waWxlIiwibG9jYWxseUVuYWJsZWQiLCJjb250ZW50cyIsIiRhdHRyIiwidHJhbnNsYXRlRGVmYXVsdCIsInVuYmluZCIsInRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUiLCJsaW5rIiwicHJldmlvdXNBdHRyaWJ1dGVzIiwiZmxhZyIsInJlbW92ZUF0dHIiLCJ3YXRjaEF0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsInZhbHVlQ2FsbGJhY2siLCJjaGFuZ2VDYWxsYmFjayIsIiRldmFsIiwidHJhbnNsYXRlQ2xvYWtEaXJlY3RpdmUiLCJhcHBseUNsb2FrIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbG9hayIsInJlbW92ZUNsYXNzIiwidHJhbnNsYXRlQ2xvYWsiLCJ0cmFuc2xhdGVOYW1lc3BhY2VEaXJlY3RpdmUiLCJwcmUiLCJpQXR0cnMiLCJ0cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZSIsIm5ld1RyYW5zbGF0ZUxhbmd1YWdlIiwiJGJyb2FkY2FzdCIsInRyYW5zbGF0ZUZpbHRlckZhY3RvcnkiLCJ0cmFuc2xhdGVGaWx0ZXIiLCJpbnRlcnBvbGF0aW9uIiwiJHN0YXRlZnVsIiwiJHRyYW5zbGF0aW9uQ2FjaGUiLCIkY2FjaGVGYWN0b3J5IiwiJGluamVjdCIsInJ1biIsInByb3ZpZGVyIiwiY29uc3RhbnQiLCJkaXJlY3RpdmUiLCJmaWx0ZXIiLCJzZXJ2aWNlIiwiJGRvY3VtZW50IiwiJHRpbWVvdXQiLCJsb2FkZXIiLCJjcmVhdGVFbGVtZW50Iiwib25sb2FkIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsIm9uZXJyb3IiLCJsb2FkU2NyaXB0Iiwic3JjIiwic2NyaXB0IiwiYm9keSIsImFwcGVuZENoaWxkIiwibG9hZENTUyIsImhyZWYiLCJzdHlsZSIsInJlbCIsInR5cGUiLCJoZWFkIiwiJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyIiwiZmlsZXMiLCJzdWZmaXgiLCJsb2FkIiwiZmlsZSIsImZpbGVVcmwiLCJmaWxlTWFwIiwibWV0aG9kIiwicGFyYW1zIiwibWVyZ2VkRGF0YSIsImxvYWRUcmFuc2xhdGlvbkZpbGUiLCJyZXNwb25zZSIsImxhc3RJbmRleE9mIiwib3B0cyIsImNvbmZpZyIsIiR0cmFuc2xhdGVQcm92aWRlciIsIkxPQ0FMRVNfUFJFRklYIiwiTE9DQUxFU19TVUZJWCIsIiQiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJBZmZpeCIsIkRFRkFVTFRTIiwiJHRhcmdldCIsInRhcmdldCIsIm9uIiwicHJveHkiLCJjaGVja1Bvc2l0aW9uIiwiY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AiLCIkZWxlbWVudCIsImFmZml4ZWQiLCJ1bnBpbiIsInBpbm5lZE9mZnNldCIsIlZFUlNJT04iLCJSRVNFVCIsIm9mZnNldCIsImdldFBpbm5lZE9mZnNldCIsInNjcm9sbFRvcCIsInBvc2l0aW9uIiwidG9wIiwic2V0VGltZW91dCIsImlzIiwic2Nyb2xsSGVpZ2h0IiwiaGVpZ2h0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0Qm90dG9tIiwiYm90dG9tIiwiYWZmaXgiLCJjc3MiLCJhZmZpeFR5cGUiLCJFdmVudCIsInRyaWdnZXIiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJvbGQiLCJDb25zdHJ1Y3RvciIsIm5vQ29uZmxpY3QiLCIkc3B5IiwialF1ZXJ5IiwiQWxlcnQiLCJkaXNtaXNzIiwiZWwiLCJjbG9zZSIsInJlbW92ZUVsZW1lbnQiLCJkZXRhY2giLCJyZW1vdmUiLCJzZWxlY3RvciIsInByZXZlbnREZWZhdWx0IiwiaGFzQ2xhc3MiLCJwYXJlbnQiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsIm9uZSIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiYWxlcnQiLCJCdXR0b24iLCJ0b2dnbGUiLCJzZXRTdGF0ZSIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwiJGVsIiwicmVzZXRUZXh0IiwiY2hhbmdlZCIsImNsb3Nlc3QiLCIkaW5wdXQiLCJmaW5kIiwicHJvcCIsInRvZ2dsZUNsYXNzIiwiYnV0dG9uIiwiJGJ0biIsIkNhcm91c2VsIiwiYWN0aW9uIiwic2xpZGUiLCJ0byIsImludGVydmFsIiwicGF1c2UiLCJjeWNsZSIsImtleWRvd24iLCIkaW5kaWNhdG9ycyIsInBhdXNlZCIsInNsaWRpbmciLCIkYWN0aXZlIiwiJGl0ZW1zIiwid3JhcCIsIndoaWNoIiwicHJldiIsIm5leHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJpdGVtIiwiY2hpbGRyZW4iLCJwb3MiLCJ0aGF0IiwiYWN0aXZlSW5kZXgiLCJlbmQiLCIkbmV4dCIsImlzQ3ljbGluZyIsImRpcmVjdGlvbiIsImZhbGxiYWNrIiwicmVsYXRlZFRhcmdldCIsInNsaWRlRXZlbnQiLCIkbmV4dEluZGljYXRvciIsInNsaWRFdmVudCIsIm9mZnNldFdpZHRoIiwiY2Fyb3VzZWwiLCJzbGlkZUluZGV4IiwiJGNhcm91c2VsIiwiQ29sbGFwc2UiLCJ0cmFuc2l0aW9uaW5nIiwiZGltZW5zaW9uIiwiaGFzV2lkdGgiLCJzaG93Iiwic3RhcnRFdmVudCIsImFjdGl2ZXMiLCJoYXNEYXRhIiwiY29tcGxldGUiLCJzY3JvbGxTaXplIiwiY2FtZWxDYXNlIiwiaGlkZSIsIm9mZnNldEhlaWdodCIsImNvbGxhcHNlIiwibm90IiwiY2xlYXJNZW51cyIsImJhY2tkcm9wIiwiZ2V0UGFyZW50IiwidGVzdCIsIkRyb3Bkb3duIiwiaXNBY3RpdmUiLCJkb2N1bWVudEVsZW1lbnQiLCJpbnNlcnRBZnRlciIsImtleUNvZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJkZXNjIiwiZXEiLCJkcm9wZG93biIsIlRhYiIsIiR1bCIsInByZXZpb3VzIiwiYWN0aXZhdGUiLCJjb250YWluZXIiLCJjYWxsYmFjayIsInRhYiIsInRyYW5zaXRpb25FbmQiLCJ0cmFuc0VuZEV2ZW50TmFtZXMiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwiZHVyYXRpb24iLCJjYWxsZWQiLCJldmVudCIsInNwZWNpYWwiLCJic1RyYW5zaXRpb25FbmQiLCJiaW5kVHlwZSIsImRlbGVnYXRlVHlwZSIsImhhbmRsZSIsImhhbmRsZU9iaiIsImhhbmRsZXIiLCJhcmd1bWVudHMiLCJTY3JvbGxTcHkiLCJwcm9jZXNzIiwiJGJvZHkiLCIkc2Nyb2xsRWxlbWVudCIsIm9mZnNldHMiLCJ0YXJnZXRzIiwiYWN0aXZlVGFyZ2V0IiwiZ2V0U2Nyb2xsSGVpZ2h0IiwiTWF0aCIsIm1heCIsIm9mZnNldE1ldGhvZCIsIm9mZnNldEJhc2UiLCJpc1dpbmRvdyIsIm1hcCIsIiRocmVmIiwic29ydCIsImEiLCJiIiwibWF4U2Nyb2xsIiwicGFyZW50c1VudGlsIiwiYWN0aXZlIiwicGFyZW50cyIsInNjcm9sbHNweSIsIl9yZWxhdGVkVGFyZ2V0IiwiTW9kYWwiLCIkYmFja2Ryb3AiLCJpc1Nob3duIiwic2Nyb2xsYmFyV2lkdGgiLCJyZW1vdGUiLCJrZXlib2FyZCIsImNoZWNrU2Nyb2xsYmFyIiwic2V0U2Nyb2xsYmFyIiwiYXBwZW5kVG8iLCJlbmZvcmNlRm9jdXMiLCJyZXNldFNjcm9sbGJhciIsIm9mZiIsImhpZGVNb2RhbCIsInJlbW92ZUJhY2tkcm9wIiwiYW5pbWF0ZSIsImRvQW5pbWF0ZSIsImN1cnJlbnRUYXJnZXQiLCJmb2N1cyIsImNhbGxiYWNrUmVtb3ZlIiwiY2xpZW50V2lkdGgiLCJpbm5lcldpZHRoIiwibWVhc3VyZVNjcm9sbGJhciIsImJvZHlQYWQiLCJwYXJzZUludCIsInNjcm9sbERpdiIsImNsYXNzTmFtZSIsInJlbW92ZUNoaWxkIiwibW9kYWwiLCJzaG93RXZlbnQiLCJUb29sdGlwIiwiZW5hYmxlZCIsInRpbWVvdXQiLCJob3ZlclN0YXRlIiwiaW5pdCIsImFuaW1hdGlvbiIsInBsYWNlbWVudCIsInRlbXBsYXRlIiwidGl0bGUiLCJkZWxheSIsInZpZXdwb3J0IiwicGFkZGluZyIsImdldE9wdGlvbnMiLCIkdmlld3BvcnQiLCJ0cmlnZ2VycyIsImV2ZW50SW4iLCJldmVudE91dCIsImVudGVyIiwibGVhdmUiLCJfb3B0aW9ucyIsImZpeFRpdGxlIiwiZ2V0RGVmYXVsdHMiLCJnZXREZWxlZ2F0ZU9wdGlvbnMiLCJkZWZhdWx0cyIsIm9iaiIsImNvbnN0cnVjdG9yIiwiY2xlYXJUaW1lb3V0IiwiaGFzQ29udGVudCIsImluRG9tIiwiY29udGFpbnMiLCIkdGlwIiwidGlwIiwidGlwSWQiLCJnZXRVSUQiLCJzZXRDb250ZW50IiwiYXV0b1Rva2VuIiwiYXV0b1BsYWNlIiwibGVmdCIsImRpc3BsYXkiLCJnZXRQb3NpdGlvbiIsImFjdHVhbFdpZHRoIiwiYWN0dWFsSGVpZ2h0Iiwib3JnUGxhY2VtZW50IiwicGFyZW50RGltIiwic2Nyb2xsIiwicmlnaHQiLCJ3aWR0aCIsImNhbGN1bGF0ZWRPZmZzZXQiLCJnZXRDYWxjdWxhdGVkT2Zmc2V0IiwiYXBwbHlQbGFjZW1lbnQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwiaXNOYU4iLCJzZXRPZmZzZXQiLCJ1c2luZyIsInByb3BzIiwicm91bmQiLCJkZWx0YSIsImdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YSIsImFycm93RGVsdGEiLCJhcnJvd1Bvc2l0aW9uIiwiYXJyb3dPZmZzZXRQb3NpdGlvbiIsInJlcGxhY2VBcnJvdyIsImFycm93IiwiZ2V0VGl0bGUiLCIkZSIsImlzQm9keSIsInRhZ05hbWUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvdXRlcldpZHRoIiwib3V0ZXJIZWlnaHQiLCJ2aWV3cG9ydFBhZGRpbmciLCJ2aWV3cG9ydERpbWVuc2lvbnMiLCJ0b3BFZGdlT2Zmc2V0IiwiYm90dG9tRWRnZU9mZnNldCIsImxlZnRFZGdlT2Zmc2V0IiwicmlnaHRFZGdlT2Zmc2V0IiwibyIsInJhbmRvbSIsImdldEVsZW1lbnRCeUlkIiwiJGFycm93IiwidmFsaWRhdGUiLCJwYXJlbnROb2RlIiwiZW5hYmxlIiwiZGlzYWJsZSIsInRvZ2dsZUVuYWJsZWQiLCJkZXN0cm95IiwicmVtb3ZlRGF0YSIsInRvb2x0aXAiLCJQb3BvdmVyIiwiY29udGVudCIsImdldENvbnRlbnQiLCJwb3BvdmVyIiwiJGFuaW1hdGUiLCJhdHRycyIsImV4cGFuZCIsImV4cGFuZERvbmUiLCJjb2xsYXBzZURvbmUiLCJzaG91bGRDb2xsYXBzZSIsImNsb3NlT3RoZXJzIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRhdHRycyIsImFjY29yZGlvbkNvbmZpZyIsImdyb3VwcyIsIm9wZW5Hcm91cCIsImdyb3VwIiwiaXNPcGVuIiwiYWRkR3JvdXAiLCJncm91cFNjb3BlIiwicmVtb3ZlR3JvdXAiLCJjb250cm9sbGVyQXMiLCJ0cmFuc2NsdWRlIiwidGVtcGxhdGVVcmwiLCJyZXF1aXJlIiwiaGVhZGluZyIsImlzRGlzYWJsZWQiLCJzZXRIZWFkaW5nIiwiYWNjb3JkaW9uQ3RybCIsIm9wZW5DbGFzcyIsInBhbmVsQ2xhc3MiLCJ0b2dnbGVPcGVuIiwiJGV2ZW50IiwiYWNjb3JkaW9uR3JvdXBDdHJsIiwibm9vcCIsImFjY29yZGlvblRyYW5zY2x1ZGUiLCJjbG9zZWFibGUiLCJhbGVydEN0cmwiLCJkaXNtaXNzT25UaW1lb3V0IiwiJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkIiwiYmluZEh0bWxVbnNhZmUiLCJhY3RpdmVDbGFzcyIsInRvZ2dsZUV2ZW50IiwiYnV0dG9uQ29uZmlnIiwiY3RybHMiLCJidXR0b25zQ3RybCIsIm5nTW9kZWxDdHJsIiwiJHJlbmRlciIsIiRtb2RlbFZhbHVlIiwiYnRuUmFkaW8iLCJiaW5kIiwiZGlzYWJsZWQiLCJ1bmNoZWNrYWJsZSIsIiRhcHBseSIsIiRzZXRWaWV3VmFsdWUiLCJnZXRUcnVlVmFsdWUiLCJnZXRDaGVja2JveFZhbHVlIiwiYnRuQ2hlY2tib3hUcnVlIiwiZ2V0RmFsc2VWYWx1ZSIsImJ0bkNoZWNrYm94RmFsc2UiLCJhdHRyaWJ1dGVWYWx1ZSIsImRlZmF1bHRWYWx1ZSIsImFjdGl2ZUVsZW1lbnQiLCIkaW50ZXJ2YWwiLCJnb05leHQiLCJkZXN0cm95ZWQiLCJjdXJyZW50U2xpZGUiLCJub1RyYW5zaXRpb24iLCIkY3VycmVudFRyYW5zaXRpb24iLCJzbGlkZXMiLCJTTElERV9ESVJFQ1RJT04iLCJORVdfQU5JTUFURSIsInBoYXNlIiwiY3VycmVudEluZGV4IiwicmVzdGFydFRpbWVyIiwiZ2V0U2xpZGVCeUluZGV4IiwicmVzZXRUaW1lciIsImN1cnJlbnRJbnRlcnZhbCIsInRpbWVyRm4iLCJjYW5jZWwiLCJpc1BsYXlpbmciLCJtaW5vciIsIk5PX1RSQU5TSVRJT04iLCJzZWxlY3QiLCJuZXh0U2xpZGUiLCJuZXh0SW5kZXgiLCJpbmRleE9mU2xpZGUiLCJnZXRDdXJyZW50SW5kZXgiLCJuZXdJbmRleCIsIm5vV3JhcCIsInBsYXkiLCJub1BhdXNlIiwiYWRkU2xpZGUiLCJyZW1vdmVTbGlkZSIsImFjdHVhbCIsImNhcm91c2VsQ3RybCIsIiRhbmltYXRlQ3NzIiwiYmVmb3JlQWRkQ2xhc3MiLCJkb25lIiwic3RvcHBlZCIsImRpcmVjdGlvbkNsYXNzIiwicmVtb3ZlQ2xhc3NGbiIsInN0YXJ0IiwiYmVmb3JlUmVtb3ZlQ2xhc3MiLCJvcmRlckJ5RmlsdGVyIiwiY3JlYXRlUGFyc2VyIiwiZm9ybWF0IiwicmVnZXgiLCJmb3JtYXRDb2RlVG9SZWdleCIsImNvZGUiLCJSZWdFeHAiLCJpc1ZhbGlkIiwieWVhciIsIm1vbnRoIiwiZGF0ZSIsIlNQRUNJQUxfQ0hBUkFDVEVSU19SRUdFWFAiLCJwYXJzZXJzIiwieXl5eSIsInl5IiwieSIsIk1NTU0iLCJEQVRFVElNRV9GT1JNQVRTIiwiTU9OVEgiLCJNTU0iLCJTSE9SVE1PTlRIIiwiTU0iLCJNIiwiZGQiLCJFRUVFIiwiREFZIiwiRUVFIiwiU0hPUlREQVkiLCJISCIsImhvdXJzIiwiaGgiLCJIIiwiaCIsIm1tIiwibWludXRlcyIsIm0iLCJzc3MiLCJtaWxsaXNlY29uZHMiLCJzcyIsInNlY29uZHMiLCJzIiwiQU1QTVMiLCJwYXJzZSIsImlucHV0IiwiYmFzZURhdGUiLCJwYXJzZXIiLCJmaWVsZHMiLCJkdCIsImdldFRpbWUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJtYXBwZXIiLCJEYXRlIiwiJHdpbmRvdyIsImdldFN0eWxlIiwiY3NzcHJvcCIsImN1cnJlbnRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJpc1N0YXRpY1Bvc2l0aW9uZWQiLCJwYXJlbnRPZmZzZXRFbCIsImRvY0RvbUVsIiwib2Zmc2V0UGFyZW50IiwiZWxCQ1IiLCJvZmZzZXRQYXJlbnRCQ1IiLCJvZmZzZXRQYXJlbnRFbCIsImNsaWVudFRvcCIsImNsaWVudExlZnQiLCJzY3JvbGxMZWZ0IiwiYm91bmRpbmdDbGllbnRSZWN0IiwicGFnZVlPZmZzZXQiLCJwYWdlWE9mZnNldCIsInBvc2l0aW9uRWxlbWVudHMiLCJob3N0RWwiLCJ0YXJnZXRFbCIsInBvc2l0aW9uU3RyIiwiYXBwZW5kVG9Cb2R5IiwiaG9zdEVsUG9zIiwidGFyZ2V0RWxXaWR0aCIsInRhcmdldEVsSGVpZ2h0IiwidGFyZ2V0RWxQb3MiLCJwb3NpdGlvblN0clBhcnRzIiwicG9zMCIsInBvczEiLCJzaGlmdFdpZHRoIiwiY2VudGVyIiwic2hpZnRIZWlnaHQiLCJmb3JtYXREYXkiLCJmb3JtYXRNb250aCIsImZvcm1hdFllYXIiLCJmb3JtYXREYXlIZWFkZXIiLCJmb3JtYXREYXlUaXRsZSIsImZvcm1hdE1vbnRoVGl0bGUiLCJkYXRlcGlja2VyTW9kZSIsIm1pbk1vZGUiLCJtYXhNb2RlIiwic2hvd1dlZWtzIiwic3RhcnRpbmdEYXkiLCJ5ZWFyUmFuZ2UiLCJtaW5EYXRlIiwibWF4RGF0ZSIsInNob3J0Y3V0UHJvcGFnYXRpb24iLCJkYXRlRmlsdGVyIiwiZGF0ZXBpY2tlckNvbmZpZyIsIiRkYXRlcGlja2VyU3VwcHJlc3NFcnJvciIsIm1vZGVzIiwicmVmcmVzaFZpZXciLCJ1bmlxdWVJZCIsIiRpZCIsImZsb29yIiwiaW5pdERhdGUiLCJhY3RpdmVEYXRlIiwiJGlzRW1wdHkiLCIkaW52YWxpZCIsImRhdGVPYmplY3QiLCJjb21wYXJlIiwiYWN0aXZlRGF0ZUlkIiwidWlkIiwibmdNb2RlbEN0cmxfIiwicmVuZGVyIiwiJHZpZXdWYWx1ZSIsImVycm9yIiwiX3JlZnJlc2hWaWV3IiwiJHNldFZhbGlkaXR5IiwiY3JlYXRlRGF0ZU9iamVjdCIsIm1vZGVsIiwibGFiZWwiLCJzZWxlY3RlZCIsImN1cnJlbnQiLCJjdXN0b21DbGFzcyIsImRhdGVEaXNhYmxlZCIsImFyciIsInNpemUiLCJhcnJheXMiLCJmaXhUaW1lWm9uZSIsInNldEhvdXJzIiwic2V0RnVsbFllYXIiLCJtb3ZlIiwic3RlcCIsInllYXJzIiwibW9udGhzIiwidG9nZ2xlTW9kZSIsImtleXMiLDEzLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLCJmb2N1c0VsZW1lbnQiLCJzaGlmdEtleSIsImFsdEtleSIsImN0cmxLZXkiLCJoYW5kbGVLZXlEb3duIiwiZGF0ZXBpY2tlckN0cmwiLCJjdHJsIiwiZ2V0RGF5c0luTW9udGgiLCJEQVlTX0lOX01PTlRIIiwiZ2V0RGF0ZXMiLCJzdGFydERhdGUiLCJkYXRlcyIsIkFycmF5Iiwic2V0RGF0ZSIsImdldElTTzg2MDFXZWVrTnVtYmVyIiwiY2hlY2tEYXRlIiwiZ2V0RGF5IiwidGltZSIsInNldE1vbnRoIiwiZmlyc3REYXlPZk1vbnRoIiwiZGlmZmVyZW5jZSIsIm51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoIiwiZmlyc3REYXRlIiwiZGF5cyIsInNlY29uZGFyeSIsImxhYmVscyIsImFiYnIiLCJmdWxsIiwicm93cyIsIndlZWtOdW1iZXJzIiwidGh1cnNkYXlJbmRleCIsIm51bVdlZWtzIiwiY3VyV2VlayIsImRhdGUxIiwiZGF0ZTIiLCJtaW4iLCJnZXRTdGFydGluZ1llYXIiLCJyYW5nZSIsImRhdGVwaWNrZXJQb3B1cCIsImRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsIiwiZGF0ZXBpY2tlclRlbXBsYXRlVXJsIiwiaHRtbDVUeXBlcyIsImRhdGV0aW1lLWxvY2FsIiwiY3VycmVudFRleHQiLCJjbGVhclRleHQiLCJjbG9zZVRleHQiLCJjbG9zZU9uRGF0ZVNlbGVjdGlvbiIsInNob3dCdXR0b25CYXIiLCJvbk9wZW5Gb2N1cyIsIiRwb3NpdGlvbiIsImRhdGVQYXJzZXIiLCJkYXRlcGlja2VyUG9wdXBDb25maWciLCJuZ01vZGVsIiwiY2FtZWx0b0Rhc2giLCJzdHJpbmciLCIkMSIsInBhcnNlRGF0ZSIsInZpZXdWYWx1ZSIsImRhdGVGb3JtYXQiLCJ2YWxpZGF0b3IiLCJtb2RlbFZhbHVlIiwibmdSZXF1aXJlZCIsImRhdGVwaWNrZXJBcHBlbmRUb0JvZHkiLCJnZXRUZXh0Iiwid2F0Y2hEYXRhIiwiaXNIdG1sNURhdGVJbnB1dCIsIm5ld0RhdGVGb3JtYXQiLCJwb3B1cEVsIiwibmctbW9kZWwiLCJuZy1jaGFuZ2UiLCJ0ZW1wbGF0ZS11cmwiLCJkYXRlcGlja2VyRWwiLCJkYXRlcGlja2VyT3B0aW9ucyIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImFzc2lnbiIsIm9sZHZhbHVlIiwiJGZvcm1hdHRlcnMiLCIkJHBhcnNlck5hbWUiLCIkdmFsaWRhdG9ycyIsIiRwYXJzZXJzIiwidW5zaGlmdCIsImRhdGVTZWxlY3Rpb24iLCIkdmlld0NoYW5nZUxpc3RlbmVycyIsImRvY3VtZW50Q2xpY2tCaW5kIiwiaW5wdXRLZXlkb3duQmluZCIsInRvZGF5IiwiJHBvcHVwIiwiYWZ0ZXIiLCIkJHBoYXNlIiwib3BlblNjb3BlIiwib3BlbiIsImRyb3Bkb3duU2NvcGUiLCJjbG9zZURyb3Bkb3duIiwia2V5YmluZEZpbHRlciIsImdldEF1dG9DbG9zZSIsInRvZ2dsZUVsZW1lbnQiLCJnZXRUb2dnbGVFbGVtZW50IiwiZHJvcGRvd25FbGVtZW50IiwiZ2V0RHJvcGRvd25FbGVtZW50IiwiZm9jdXNUb2dnbGVFbGVtZW50IiwiaXNLZXluYXZFbmFibGVkIiwiZm9jdXNEcm9wZG93bkVudHJ5IiwiZHJvcGRvd25Db25maWciLCJkcm9wZG93blNlcnZpY2UiLCIkdGVtcGxhdGVSZXF1ZXN0IiwidGVtcGxhdGVTY29wZSIsImdldElzT3BlbiIsIiRuZXciLCJzZXRJc09wZW4iLCJ0b2dnbGVJbnZva2VyIiwib25Ub2dnbGUiLCJrZXluYXZFbmFibGVkIiwiZHJvcGRvd25BcHBlbmRUb0JvZHkiLCJrZXlib2FyZE5hdiIsImRyb3Bkb3duTWVudSIsImF1dG9DbG9zZSIsImdldEVsZW1lbnQiLCJlbGVtcyIsInNlbGVjdGVkT3B0aW9uIiwid2FzT3BlbiIsInJpZ2h0YWxpZ24iLCJvcGVuQ29udGFpbmVyIiwiZHJvcGRvd25NZW51VGVtcGxhdGVVcmwiLCJ0cGxDb250ZW50IiwibmV3RWwiLCJyZXBsYWNlV2l0aCIsIiRkZXN0cm95Iiwib2ZmRGVzdHJveSIsImRyb3Bkb3duQ3RybCIsInRwbFVybCIsInRvZ2dsZURyb3Bkb3duIiwiYXJpYS1oYXNwb3B1cCIsImFyaWEtZXhwYW5kZWQiLCJjcmVhdGVOZXciLCJhZGQiLCJpZHgiLCJyZW1vdmVUb3AiLCJlbnRyaWVzIiwiaGFzS2V5IiwidmFsdWVzIiwiJG1vZGFsU3RhY2siLCJsaW5rRm4iLCJtb2RhbEluQ2xhc3MiLCJOT1dfQ0xPU0lOR19FVkVOVCIsInNldElzQXN5bmMiLCJ0QXR0cnMiLCJiYWNrZHJvcENsYXNzIiwid2luZG93Q2xhc3MiLCJnZXRUb3AiLCIkaXNSZW5kZXJlZCIsIm1vZGFsUmVuZGVyRGVmZXJPYmoiLCJhbmltYXRpb25Qcm9taXNlIiwid2hlbiIsImlucHV0c1dpdGhBdXRvZm9jdXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibW9kYWxSZW5kZXJlZCIsIm1vZGFsQW5pbWF0aW9uIiwibW9kYWxBbmltYXRpb25DbGFzcyIsIiR0cmFuc2NsdWRlIiwiY2xvbmUiLCIkJG11bHRpTWFwIiwiJCRzdGFja2VkTWFwIiwiYmFja2Ryb3BJbmRleCIsInRvcEJhY2tkcm9wSW5kZXgiLCJvcGVuZWQiLCJvcGVuZWRXaW5kb3dzIiwicmVtb3ZlTW9kYWxXaW5kb3ciLCJtb2RhbEluc3RhbmNlIiwiZWxlbWVudFRvUmVjZWl2ZUZvY3VzIiwibW9kYWxXaW5kb3ciLCJyZW1vdmVBZnRlckFuaW1hdGUiLCJtb2RhbERvbUVsIiwibW9kYWxTY29wZSIsIm1vZGFsQm9keUNsYXNzIiwib3BlbmVkQ2xhc3MiLCJPUEVORURfTU9EQUxfQ0xBU1MiLCJvcGVuZWRDbGFzc2VzIiwiY2hlY2tSZW1vdmVCYWNrZHJvcCIsImJhY2tkcm9wRG9tRWwiLCJiYWNrZHJvcFNjb3BlUmVmIiwiYmFja2Ryb3BTY29wZSIsImRvbUVsIiwiYWZ0ZXJBbmltYXRpbmciLCJhc3luY0RlZmVycmVkIiwiYXN5bmNQcm9taXNlIiwiYnJvYWRjYXN0Q2xvc2luZyIsInJlc3VsdE9yUmVhc29uIiwiY2xvc2luZyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJmb2N1c2FibGVFbGVtZW50TGlzdCIsImZvY3VzSW5kZXgiLCJ0YWJhYmJsZVNlbGVjdG9yIiwibmV3QmFja2Ryb3BJbmRleCIsImxvYWRGb2N1c0VsZW1lbnRMaXN0IiwiZm9jdXNDaGFuZ2VkIiwiaXNGb2N1c0luRmlyc3RJdGVtIiwiZm9jdXNMYXN0Rm9jdXNhYmxlRWxlbWVudCIsImlzRm9jdXNJbkxhc3RJdGVtIiwiZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQiLCJtb2RhbE9wZW5lciIsInJlbmRlckRlZmVycmVkIiwiY3VyckJhY2tkcm9wSW5kZXgiLCJhbmd1bGFyQmFja2dyb3VuZERvbUVsIiwiYW5ndWxhckRvbUVsIiwid2luZG93VGVtcGxhdGVVcmwiLCJ3aW5kb3ctY2xhc3MiLCJjbGVhckZvY3VzTGlzdENhY2hlIiwiJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCIsInJlYXNvbiIsImRpc21pc3NBbGwiLCJ0b3BNb2RhbCIsInNyY0VsZW1lbnQiLCJsZW5ndGgwIiwibW9kYWxEb21FMSIsIiRtb2RhbFByb3ZpZGVyIiwiJGNvbnRyb2xsZXIiLCJnZXRUZW1wbGF0ZVByb21pc2UiLCJnZXRSZXNvbHZlUHJvbWlzZXMiLCJyZXNvbHZlcyIsInByb21pc2VzQXJyIiwiaW52b2tlIiwiJG1vZGFsIiwicHJvbWlzZUNoYWluIiwiZ2V0UHJvbWlzZUNoYWluIiwibW9kYWxPcHRpb25zIiwibW9kYWxSZXN1bHREZWZlcnJlZCIsIm1vZGFsT3BlbmVkRGVmZXJyZWQiLCJtb2RhbFJlbmRlckRlZmVycmVkIiwicmVuZGVyZWQiLCJzYW1lUHJvbWlzZSIsInRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UiLCJ0cGxBbmRWYXJzIiwiJGNsb3NlIiwiJGRpc21pc3MiLCJjdHJsSW5zdGFuY2UiLCJjdHJsTG9jYWxzIiwicmVzb2x2ZUl0ZXIiLCIkbW9kYWxJbnN0YW5jZSIsImJpbmRUb0NvbnRyb2xsZXIiLCJmaW5hbGx5Iiwic2V0TnVtUGFnZXMiLCJudW1QYWdlcyIsIml0ZW1zUGVyUGFnZSIsInRvdGFsUGFnZXMiLCJjYWxjdWxhdGVUb3RhbFBhZ2VzIiwicGFnZSIsInNlbGVjdFBhZ2UiLCJjZWlsIiwidG90YWxJdGVtcyIsImNsaWNrQWxsb3dlZCIsIm5nRGlzYWJsZWQiLCJibHVyIiwibm9QcmV2aW91cyIsIm5vTmV4dCIsImJvdW5kYXJ5TGlua3MiLCJkaXJlY3Rpb25MaW5rcyIsImZpcnN0VGV4dCIsInByZXZpb3VzVGV4dCIsIm5leHRUZXh0IiwibGFzdFRleHQiLCJyb3RhdGUiLCJwYWdpbmF0aW9uQ29uZmlnIiwibWFrZVBhZ2UiLCJudW1iZXIiLCJnZXRQYWdlcyIsImN1cnJlbnRQYWdlIiwicGFnZXMiLCJzdGFydFBhZ2UiLCJlbmRQYWdlIiwiaXNNYXhTaXplZCIsIm1heFNpemUiLCJwcmV2aW91c1BhZ2VTZXQiLCJuZXh0UGFnZVNldCIsInBhZ2luYXRpb25DdHJsIiwib3JpZ2luYWxSZW5kZXIiLCJhbGlnbiIsInBhZ2VyQ29uZmlnIiwic25ha2VfY2FzZSIsInJlZ2V4cCIsInNlcGFyYXRvciIsImxldHRlciIsImRlZmF1bHRPcHRpb25zIiwicG9wdXBEZWxheSIsInVzZUNvbnRlbnRFeHAiLCJ0cmlnZ2VyTWFwIiwibW91c2VlbnRlciIsImNsaWNrIiwibm9uZSIsImdsb2JhbE9wdGlvbnMiLCJzZXRUcmlnZ2VycyIsImRlZmF1bHRUcmlnZ2VyU2hvdyIsImdldFRyaWdnZXJzIiwiZGlyZWN0aXZlTmFtZSIsInN0YXJ0U3ltIiwiZW5kU3ltIiwidG9vbHRpcExpbmtlciIsInRvZ2dsZVRvb2x0aXBCaW5kIiwidHRTY29wZSIsImhpZGVUb29sdGlwQmluZCIsInNob3dUb29sdGlwQmluZCIsImhhc0VuYWJsZUV4cCIsInByZXBhcmVUb29sdGlwIiwicG9wdXBUaW1lb3V0IiwiJGRpZ2VzdCIsInRyYW5zaXRpb25UaW1lb3V0IiwiY29udGVudEV4cCIsImNyZWF0ZVRvb2x0aXAiLCJpc09wZW5FeHAiLCJvcmlnU2NvcGUiLCJwb3NpdGlvblRvb2x0aXAiLCJwb3NpdGlvblRpbWVvdXQiLCJyZW1vdmVUb29sdGlwIiwidG9vbHRpcExpbmtlZFNjb3BlIiwicmVwb3NpdGlvblNjaGVkdWxlZCIsIiQkcG9zdERpZ2VzdCIsInByZXBQb3B1cENsYXNzIiwicHJlcFBsYWNlbWVudCIsInByZXBQb3B1cERlbGF5IiwicG9wdXBDbGFzcyIsInByZXBUcmlnZ2VycyIsInVucmVnaXN0ZXJUcmlnZ2VycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0dEJveCIsInR0Q3NzIiwiYXBwZW5kVG9Cb2R5VmFsIiwiZWxlbSIsImN1cnJlbnRTY29wZSIsInByZXZpb3VzRWxlbWVudCIsImN1cnJlbnRFbGVtZW50IiwidG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZVNjb3BlIiwiY2hhbmdlQ291bnRlciIsImNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQiLCJwYXJzZUFzUmVzb3VyY2VVcmwiLCJ0b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlIiwidGhpc0NoYW5nZUlkIiwibmV3U2NvcGUiLCJ0b29sdGlwQW5pbWF0aW9uQ2xhc3MiLCIkdG9vbHRpcCIsIm9yaWdpblNjb3BlIiwidG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQiLCJwcm9ncmVzc0NvbmZpZyIsImJhcnMiLCJhZGRCYXIiLCJiYXIiLCJyZWNhbGN1bGF0ZVBlcmNlbnRhZ2UiLCJwZXJjZW50IiwidG9GaXhlZCIsInRvdGFsUGVyY2VudGFnZSIsInJlZHVjZSIsInRvdGFsIiwicmVtb3ZlQmFyIiwiJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nIiwicHJvZ3Jlc3NDdHJsIiwic3RhdGVPbiIsInN0YXRlT2ZmIiwidGl0bGVzIiwicmF0aW5nQ29uZmlnIiwidG1wVGl0bGVzIiwicmF0aW5nU3RhdGVzIiwiYnVpbGRUZW1wbGF0ZU9iamVjdHMiLCJzdGF0ZXMiLCJyYXRlIiwicmVhZG9ubHkiLCJvbkhvdmVyIiwicmVzZXQiLCJvbkxlYXZlIiwib25LZXlkb3duIiwicmF0aW5nQ3RybCIsInRhYnMiLCJzZWxlY3RlZFRhYiIsIm9uRGVzZWxlY3QiLCJzZWxlY3RDYWxsZWQiLCJvblNlbGVjdCIsImFkZFRhYiIsInJlbW92ZVRhYiIsIm5ld0FjdGl2ZUluZGV4IiwidmVydGljYWwiLCJqdXN0aWZpZWQiLCJlbG0iLCJ0YWJzZXRDdHJsIiwiJHRyYW5zY2x1ZGVGbiIsImlzVGFiSGVhZGluZyIsIm5vZGUiLCJoYXNBdHRyaWJ1dGUiLCJ0YWJDb250ZW50VHJhbnNjbHVkZSIsImhlYWRpbmdFbGVtZW50IiwiaG91clN0ZXAiLCJtaW51dGVTdGVwIiwic2hvd01lcmlkaWFuIiwibWVyaWRpYW5zIiwicmVhZG9ubHlJbnB1dCIsIm1vdXNld2hlZWwiLCJhcnJvd2tleXMiLCJzaG93U3Bpbm5lcnMiLCJ0aW1lcGlja2VyQ29uZmlnIiwiZ2V0SG91cnNGcm9tVGVtcGxhdGUiLCJ2YWxpZCIsIm1lcmlkaWFuIiwiZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSIsInBhZCIsImtleWJvYXJkQ2hhbmdlIiwibWFrZVZhbGlkIiwidXBkYXRlVGVtcGxhdGUiLCJpbnZhbGlkSG91cnMiLCJpbnZhbGlkTWludXRlcyIsImFkZE1pbnV0ZXMiLCJuZXdEYXRlIiwiYWRkTWludXRlc1RvU2VsZWN0ZWQiLCJpbnB1dHMiLCJob3Vyc0lucHV0RWwiLCJtaW51dGVzSW5wdXRFbCIsInNldHVwTW91c2V3aGVlbEV2ZW50cyIsInNldHVwQXJyb3drZXlFdmVudHMiLCJzZXR1cElucHV0RXZlbnRzIiwibm9JbmNyZW1lbnRIb3VycyIsImluY3JlbWVudGVkU2VsZWN0ZWQiLCJub0RlY3JlbWVudEhvdXJzIiwiZGVjcmVtZW50ZWRTZWxlY3RlZCIsIm5vSW5jcmVtZW50TWludXRlcyIsIm5vRGVjcmVtZW50TWludXRlcyIsIm5vVG9nZ2xlTWVyaWRpYW4iLCIkZXJyb3IiLCJpc1Njcm9sbGluZ1VwIiwib3JpZ2luYWxFdmVudCIsIndoZWVsRGVsdGEiLCJkZWx0YVkiLCJkZXRhaWwiLCJpbmNyZW1lbnRIb3VycyIsImRlY3JlbWVudEhvdXJzIiwiaW5jcmVtZW50TWludXRlcyIsImRlY3JlbWVudE1pbnV0ZXMiLCJ1cGRhdGVIb3VycyIsInVwZGF0ZU1pbnV0ZXMiLCJpbnZhbGlkYXRlIiwic2V0TWludXRlcyIsInRvZ2dsZU1lcmlkaWFuIiwidGltZXBpY2tlckN0cmwiLCIkdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCIsImZpbmRFbmRFdmVudE5hbWUiLCJlbmRFdmVudE5hbWVzIiwidHJhbnNFbGVtZW50IiwiJHRyYW5zaXRpb24iLCJlbmRFdmVudE5hbWUiLCJ0cmFuc2l0aW9uRW5kSGFuZGxlciIsInRyYW5zaXRpb25FbmRFdmVudE5hbWVzIiwiYW5pbWF0aW9uRW5kRXZlbnROYW1lcyIsInRyYW5zaXRpb25FbmRFdmVudE5hbWUiLCJhbmltYXRpb25FbmRFdmVudE5hbWUiLCJUWVBFQUhFQURfUkVHRVhQIiwiaXRlbU5hbWUiLCJzb3VyY2UiLCJ2aWV3TWFwcGVyIiwibW9kZWxNYXBwZXIiLCJ0eXBlYWhlYWRQYXJzZXIiLCJIT1RfS0VZUyIsImV2ZW50RGVib3VuY2VUaW1lIiwib3JpZ2luYWxTY29wZSIsImZpcmVSZWNhbGN1bGF0aW5nIiwibW92ZUluUHJvZ3Jlc3MiLCJ0aW1lb3V0RXZlbnRQcm9taXNlIiwibWF0Y2hlcyIsInJlY2FsY3VsYXRlUG9zaXRpb24iLCJtb2RlbEN0cmwiLCJuZ01vZGVsT3B0aW9ucyIsIm1pbkxlbmd0aCIsInR5cGVhaGVhZE1pbkxlbmd0aCIsImhhc0ZvY3VzIiwid2FpdFRpbWUiLCJ0eXBlYWhlYWRXYWl0TXMiLCJpc0VkaXRhYmxlIiwidHlwZWFoZWFkRWRpdGFibGUiLCJpc0xvYWRpbmdTZXR0ZXIiLCJ0eXBlYWhlYWRMb2FkaW5nIiwib25TZWxlY3RDYWxsYmFjayIsInR5cGVhaGVhZE9uU2VsZWN0IiwiaXNTZWxlY3RPbkJsdXIiLCJ0eXBlYWhlYWRTZWxlY3RPbkJsdXIiLCJpc05vUmVzdWx0c1NldHRlciIsInR5cGVhaGVhZE5vUmVzdWx0cyIsImlucHV0Rm9ybWF0dGVyIiwidHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIiLCJ0eXBlYWhlYWRBcHBlbmRUb0JvZHkiLCJmb2N1c0ZpcnN0IiwidHlwZWFoZWFkRm9jdXNGaXJzdCIsInNlbGVjdE9uRXhhY3QiLCJ0eXBlYWhlYWRTZWxlY3RPbkV4YWN0IiwicGFyc2VkTW9kZWwiLCJpbnZva2VNb2RlbFNldHRlciIsIiRzZXRNb2RlbFZhbHVlIiwiJG9wdGlvbnMiLCJnZXR0ZXJTZXR0ZXIiLCIkJCRwIiwicGFyc2VyUmVzdWx0IiwidHlwZWFoZWFkIiwicG9wdXBJZCIsImFyaWEtYXV0b2NvbXBsZXRlIiwiYXJpYS1vd25zIiwicG9wVXBFbCIsIm1vdmUtaW4tcHJvZ3Jlc3MiLCJxdWVyeSIsInR5cGVhaGVhZFRlbXBsYXRlVXJsIiwidHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCIsInJlc2V0TWF0Y2hlcyIsImFjdGl2ZUlkeCIsImdldE1hdGNoSWQiLCJpbnB1dElzRXhhY3RNYXRjaCIsImlucHV0VmFsdWUiLCJnZXRNYXRjaGVzQXN5bmMiLCJsb2NhbHMiLCJvbkN1cnJlbnRSZXF1ZXN0IiwidGltZW91dFByb21pc2UiLCJzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0IiwiY2FuY2VsUHJldmlvdXNUaW1lb3V0IiwiY2FuZGlkYXRlVmlld1ZhbHVlIiwiZW1wdHlWaWV3VmFsdWUiLCIkbW9kZWwiLCIkaXRlbSIsIiRsYWJlbCIsInR5cGVhaGVhZEZvY3VzT25TZWxlY3QiLCJkaXNtaXNzQ2xpY2tIYW5kbGVyIiwicG9wdXBUZW1wbGF0ZVVybCIsIm1hdGNoSWR4Iiwic2VsZWN0QWN0aXZlIiwic2VsZWN0TWF0Y2giLCJjbG9uZWRFbGVtZW50IiwiZXNjYXBlUmVnZXhwIiwicXVlcnlUb0VzY2FwZSIsImNvbnRhaW5zSHRtbCIsIm1hdGNoSXRlbSIsImlzU2FuaXRpemVQcmVzZW50IiwiJHRlbXBsYXRlQ2FjaGUiLCIkJGNzcCIsInByZXBlbmQiLCJzYXZlIiwiZGlzYWJsZVNhdmUiLCJlcnIiLCJhcGlBdXRoIiwiYXBpR29vZ2xlUGlja2VyIiwidmlld0lkIiwib25QaWNrZXJBY3Rpb24iLCJnb29nbGUiLCJwaWNrZXIiLCJSZXNwb25zZSIsIkFDVElPTiIsIkFjdGlvbiIsIlBJQ0tFRCIsImRlYnVnIiwiRE9DVU1FTlRTIiwiQ0FOQ0VMIiwiY3JlYXRlUGlja2VyIiwib3JpZ2luIiwicmVmZXJyZXIiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwicHJvdG9jb2wiLCJob3N0IiwiUGlja2VyQnVpbGRlciIsInNldE9yaWdpbiIsImFkZFZpZXciLCJzZXRPQXV0aFRva2VuIiwiZ2V0QXV0aFRva2VuIiwic2V0Q2FsbGJhY2siLCJidWlsZCIsInNldFZpc2libGUiLCJhdXRob3JpemUiLCJhdXRoUmVzdWx0IiwiZ2FwaUxvYWRlciIsImdBcGkiLCJpbmZvIiwiZ2FwaUxvYWRlZCIsImdhcGkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib2F1dGhBUElMb2FkZXIiLCJDTElFTlRfSUQiLCJTQ09QRSIsIm9hdXRoVG9rZW4iLCJhdHRlbXB0SW1tZWRpYXRlIiwiYXV0aG9yaXplRGVmZXJyZWQiLCJjbGllbnRfaWQiLCJpbW1lZGlhdGUiLCJhdXRoIiwiYWNjZXNzX3Rva2VuIiwicGlja2VyTG9hZGVyIiwiY2xvc2VzdFNsaWRlciIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwiZ2V0T2Zmc2V0IiwiZml4ZWRQb3NpdGlvbiIsInNjcm9sbFgiLCJzY3JvbGxZIiwicmVjdCIsIm9mZnNldExlZnQiLCJzdHJpbmdQYXJzZXJzIiwicmUiLCJleGVjUmVzdWx0IiwiSGVscGVyIiwicmdiIiwidG9SR0IiLCJyIiwiZyIsInJnYmEiLCJoZXgiLCJ0b0hleCIsIlJHQnRvSFNCIiwiUyIsIlYiLCJDIiwic2V0Q29sb3IiLCJleGVjIiwic2V0SHVlIiwic2V0U2F0dXJhdGlvbiIsInNldExpZ2h0bmVzcyIsInNldEFscGhhIiwiUiIsIkciLCJCIiwiWCIsImFicyIsInNsaWRlciIsIm1heExlZnQiLCJtYXhUb3AiLCJjYWxsTGVmdCIsImNhbGxUb3AiLCJrbm9iIiwicG9pbnRlciIsImdldFNsaWRlciIsImdldExlZnRQb3NpdGlvbiIsInBhZ2VYIiwiZ2V0VG9wUG9zaXRpb24iLCJwYWdlWSIsInNldFNsaWRlciIsInRhcmdldE9mZnNldCIsIm9mZnNldFgiLCJjbGllbnRYIiwib2Zmc2V0WSIsImNsaWVudFkiLCJzZXRLbm9iIiwiQ29sb3IiLCJTbGlkZXIiLCJiaW5kTW91c2VFdmVudHMiLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwicHJldmlld0NvbG9yIiwiY29sb3JwaWNrZXJQcmV2aWV3IiwicGlja2VyQ29sb3IiLCJ0aGlzRm9ybWF0Iiwic2xpZGVyU2F0dXJhdGlvbiIsInNsaWRlckFscGhhIiwiYmFja2dyb3VuZENvbG9yIiwibmV3Q29sb3IiLCJ3aXRoSW5wdXQiLCJwaWNrZXJDb2xvcklucHV0IiwiZW1pdEV2ZW50IiwidXBkYXRlIiwib21pdElubmVySW5wdXQiLCJwaWNrZXJDb2xvclBvaW50ZXJzIiwiZ2V0Q29sb3JwaWNrZXJUZW1wbGF0ZVBvc2l0aW9uIiwicG9zaXRpb25WYWx1ZSIsInBvc2l0aW9uT2Zmc2V0IiwiY29sb3JwaWNrZXJQYXJlbnQiLCJkb2N1bWVudE1vdXNlZG93bkhhbmRsZXIiLCJoaWRlQ29sb3JwaWNrZXJUZW1wbGF0ZSIsInNob3dDb2xvcnBpY2tlclRlbXBsYXRlIiwiY29sb3JwaWNrZXJUZW1wbGF0ZSIsImlubGluZSIsImNvbG9ycGlja2VySXNPcGVuIiwiY29sb3JwaWNrZXIiLCJpc0JhY2tncm91bmRTZXR0aW5nIiwiYmFja2dyb3VuZFNldHRpbmciLCJjb2xvcnBpY2tlclBvc2l0aW9uIiwiY29sb3JwaWNrZXJJbmxpbmUiLCJjb2xvcnBpY2tlckZpeGVkUG9zaXRpb24iLCJjb2xvcnBpY2tlcldpdGhJbnB1dCIsImlucHV0VGVtcGxhdGUiLCJjbG9zZUJ1dHRvbiIsInNsaWRlckh1ZSIsImNvbG9ycGlja2VyQ2xvc2VPblNlbGVjdCIsInNob3VsZEJlT3BlbiIsIlRFTVBMQVRFUyIsIl9pbml0IiwiJGJ0bkFsaWdubWVudCIsInNldEFsaWdubWVudCIsImFsaWdubWVudCIsImdldEFsaWdubWVudCIsIiRwcmltYXJ5SWNvbiIsImN1cnJlbnRDbGFzcyIsIm5ld0NsYXNzIiwiZGVmYXVsdEFsaWdubWVudCIsIl9wbHVnaW5OYW1lIiwiV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyIsImZhbWlsaWVzIiwic2l6ZXMiLCJoaWRlTGFiZWwiLCJmaWxlVHlwZSIsImhhc1ZhbGlkRXh0ZW5zaW9uIiwiZXh0ZW5zaW9ucyIsInRlc3RVcmwiLCJ0ZXN0SW1hZ2UiLCJpbWFnZSIsIkltYWdlIiwiaW52YWxpZFR5cGUiLCJ1cmxSZWdFeHAiLCJkb1ZhbGlkYXRpb24iLCJmb3JjZWRWYWxpZCIsImFsbG93SW5pdEVtcHR5IiwiaW5pdEVtcHR5IiwiZ29vZ2xlRm9udExvYWRlciIsImZvbnREYXRhIiwicHJldmlld1RleHQiLCJ2ZXJ0aWNhbEFsaWduIiwiaW5pdFRpbnlNQ0UiLCJ0aW55bWNlT3B0aW9ucyIsImZvbnRfZm9ybWF0cyIsImdvb2dsZUZvbnRMaXN0IiwiZm9udHNpemVfZm9ybWF0cyIsImN1c3RvbVNpemUiLCJtZW51YmFyIiwicGx1Z2lucyIsInNraW5fdXJsIiwic3RhdHVzYmFyIiwidG9vbGJhciIsInNldHVwIiwiZWRpdG9yIiwiYWRkVmVydGljYWxBbGlnbkJ1dHRvbnMiLCJpbml0VG9vbGJhciIsIl9pc0xvYWRpbmciLCJhcmdzIiwiaW5pdENvbW1hbmRzIiwiaW5pdF9pbnN0YW5jZV9jYWxsYmFjayIsIm9sZEFwcGx5IiwiZm9ybWF0dGVyIiwib2xkUmVtb3ZlIiwidmFycyIsImNvbW1hbmQiLCJmaXJlIiwiZm9udCIsImV4ZWNDb21tYW5kIiwiZmFtaWx5IiwiZm9yZWNvbG9yIiwiYmFja2NvbG9yIiwiYm9sZCIsInRvZ2dsZUJ1dHRvbiIsIml0YWxpYyIsInVuZGVybGluZSIsIiRjdXN0b21Gb250IiwiZ2V0Rm9udFR5cGUiLCIkY3VzdG9tRm9udFNpemUiLCJ0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMiLCJkZWZhdWx0Rm9udCIsInVwZGF0ZVByZXZpZXciLCIkdGV4dENvbnRhaW5lciIsIiR0ZXh0IiwiZ2V0Q3VzdG9tRm9udEZhbWlseSIsImRlY29kZVVSSSIsInBvcCIsImxvYWRDdXN0b21Gb250Iiwic2hlZXQiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhZGRSdWxlIiwiYWRkQnV0dG9uIiwib25jbGljayIsImFkZENvbW1hbmQiLCJnZXRGb250cyIsImZvbnRzIiwiY3VzdG9tRm9udFNpemUiLCJhcHBseUN1c3RvbUZvbnQiLCJhcHBseUN1c3RvbUZvbnRTaXplIiwidGlueW1jZSIsImFjdGl2ZUVkaXRvciIsIndhdGNoIiwiJHdhdGNoR3JvdXAiLCJuZXdWYWx1ZXMiLCJhbmd1bGFyTG9hZCIsImZvbnRzQXBpIiwiZm9udEJhc2VVcmwiLCJleGNsdWRlIiwic3BhY2VzIiwiaXRlbXMiLCJ1aVRpbnltY2VDb25maWciLCJ1aVRpbnltY2VTZXJ2aWNlIiwiYmFzZVVybCIsImJhc2VVUkwiLCJ0b2dnbGVEaXNhYmxlIiwiZW5zdXJlSW5zdGFuY2UiLCJ0aW55SW5zdGFuY2UiLCJnZXRCb2R5Iiwic2V0dGluZ3MiLCJnZXREb2MiLCJleHByZXNzaW9uIiwiZm9ybSIsImRlYm91bmNlIiwidXBkYXRlVmlldyIsImdldFVuaXF1ZUlkIiwiJHNldCIsInVpVGlueW1jZSIsImRlYm91bmNlZFVwZGF0ZSIsImRlYm91bmNlZFVwZGF0ZURlbGF5IiwiZGVib3VuY2VkVXBkYXRlVGltZXIiLCJlZCIsImlzRGlydHkiLCJzZXR1cE9wdGlvbnMiLCIkc2V0UHJpc3RpbmUiLCIkc2V0VW50b3VjaGVkIiwiJHNldFRvdWNoZWQiLCJtYXliZUluaXRQcm9taXNlIiwiZ2V0VHJ1c3RlZEh0bWwiLCJlaWQiLCJwYXJlbnRFbGVtZW50IiwiVUlUaW55bWNlU2VydmljZSIsIklEX0FUVFIiLCJjb2x1bW4iLCJkZWZhdWx0U2V0dGluZ3MiLCJmb250U3R5bGUiLCJoZWFkZXJUZXh0IiwiY29sb3JDb25kaXRpb24iLCJudW1lcmljIiwiY29sdW1ucyIsImNvbHVtbk5hbWVzIiwicmVtb3ZlQ29sdW1uIiwiY29sdW1uc0xpc3QiLCJzZXRWYWxpZGl0eSIsInVwZGF0ZUNvbHVtbnMiLCJjb2x1bW5zV2F0Y2hlciIsImNvbHVtbk5hbWVzV2F0Y2hlciIsInYiLCJhZGRDb2x1bW4iLCJzZWxlY3RlZENvbHVtbiIsImhpZGVEaXJlY3Rpb24iLCJkZWZhdWx0U2V0dGluZyIsImJ5Iiwic3BlZWQiLCJwdWQiLCJhcGlLZXkiLCJzZXR0aW5nc1NhdmVyIiwic2V0dGluZ3NHZXR0ZXIiLCJzZXR0aW5nc0Nsb3NlciIsImFkZGl0aW9uYWxQYXJhbXMiLCJhbGVydHMiLCJnZXRBZGRpdGlvbmFsUGFyYW0iLCJkZWZhdWx0VmFsIiwic2V0QWRkaXRpb25hbFBhcmFtIiwibG9hZEFkZGl0aW9uYWxQYXJhbXMiLCJnZXRBZGRpdGlvbmFsUGFyYW1zIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsInNhdmVTZXR0aW5ncyIsImNsb3NlU2V0dGluZ3MiLCJnZXRQYXJhbXMiLCIkZWxtIiwiJHdhdGNoQ29sbGVjdGlvbiIsIm5ld0FsZXJ0cyIsIm9sZEFsZXJ0cyIsIlNUT1JBR0VfRklMRV9VUkxfQkFTRSIsIlNUT1JBR0VfRk9MREVSX1VSTF9CQVNFIiwiZ2V0U3RvcmFnZVVybERhdGEiLCJnZXRTdG9yYWdlVHlwZSIsInN0b3JhZ2VVcmwiLCJnZXRDb21wYW55SWQiLCJwIiwic3RyIiwicGFpciIsImRlY29kZVVSSUNvbXBvbmVudCIsImNvbXBhbnlJZCIsImZpbGVOYW1lIiwiZm9sZGVyIiwiZ2FkZ2V0cyIsImxvYWRGb250cyIsInVybHMiLCJhbGxGb250cyIsImdldEdvb2dsZUZvbnRzIiwicmVzcCIsInN1YnNldHMiLCJnZXRGb250c1VzZWQiLCJmYW1pbHlMaXN0IiwiZm9udHNVc2VkIiwiaTE4biIsImZhbGxiYWNrTG5nIiwicmVzR2V0UGF0aCIsImlzSW1hZ2UiLCJnYWRnZXRzQXBpIiwic2V0dGluZ3NQYXJzZXIiLCJwcm9jZXNzU2V0dGluZ3MiLCJuZXdTZXR0aW5ncyIsInJzVyIsInJzSCIsImxheW91dFVSTCIsImVuY29kZVBhcmFtcyIsImFkZGl0aW9uYWxQYXJhbXNTdHIiLCJlbmNvZGVBZGRpdGlvbmFsUGFyYW1zIiwicnBjIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zIiwicGFyc2VBZGRpdGlvbmFsUGFyYW1zIiwiZGVmYXVsdFBhcmFtcyIsInBhcnNlUGFyYW1zIiwic2VhcmNoIiwic3RyaXBQcmVmaXgiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXNTdHIiLCJ2aXN1YWxpemF0aW9uIiwic2V0T25Mb2FkQ2FsbGJhY2siLCJnb29nbGVTaGVldCIsInJlc2V0V29ya1NoZWV0cyIsInNoZWV0cyIsImN1cnJlbnRTaGVldCIsInNwcmVhZHNoZWV0Iiwic2hlZXROYW1lIiwicmVzZXRDb2x1bW5zIiwicmVzZXRTZXJ2aWNlIiwiZ2V0V29ya1NoZWV0cyIsImZpbGVJZCIsInB1YmxpYyIsInByb3BlcnRpZXMiLCJnZXRDb2x1bW5zRGF0YSIsInByZXNlcnZlRm9ybWF0cyIsInZhbGlkQXBpS2V5IiwiY2VsbHMiLCJzdGFydENlbGwiLCJlbmRDZWxsIiwidmFsaWREYXRhIiwic2hvd1ByZXZpZXciLCJuZXdWYWwiLCJvbGRWYWwiLCJzdGFydENlbGxCbHVyIiwiZW5kQ2VsbEJsdXIiLCJzZXR0aW5nc0Zvcm0iLCJmaWxlSWRCbHVyIiwic2VsZWN0aW9uIiwibmV3VXJsIiwib2xkVXJsIiwiZG9jTmFtZSIsImVuY29kZVVSSSIsInNldFNlbGVjdGlvbiIsInByZXZpZXdGaWxlIiwicmV0cnlGaWxlIiwiY2xlYXJTZWxlY3Rpb24iLCJhcGlLZXlCbHVyIiwiZXZlblJvd0NvbG9yIiwiaGVhZGVyIiwib2RkUm93Q29sb3IiLCJyb3dIZWlnaHQiLCJjb2xvciIsInNob3dDb2x1bW4iLCJzaG93Um93IiwiaGFzSGVhZGVyIiwiU0hFRVRTX0FQSSIsIkFQSV9LRVkiLCJjb2x1bW5zUmVxdWVzdCIsImNvbHVtbnNSZXF1ZXN0U3VjY2VzcyIsImdldENvbHVtbk5hbWUiLCJvcmRBIiwiY2hhckNvZGVBdCIsIm9yZFoiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjb25maWd1cmVDb2x1bW5zIiwibmFtZUluZGV4IiwiYXBpIl0sIm1hcHBpbmdzIjoiQUF3d1hBLFFBQVNBLHNCQUNQQyxZQUFhLENBRWIsSUFBSUMsR0FBTUMsU0FBU0MsWUFBWSxTQUMvQkYsR0FBSUcsVUFBVSxlQUFlLEdBQU0sR0FFbkNDLE9BQU9DLGNBQWNMLElBendYdEIsU0FBVU0sRUFBTUMsR0FDTyxrQkFBWEMsU0FBeUJBLE9BQU9DLElBRXpDRCxVQUFXLFdBQ1QsTUFBUUQsT0FFa0IsZ0JBQVpHLFNBSWhCQyxPQUFPRCxRQUFVSCxJQUVqQkEsS0FFRkssS0FBTSxXQW9CUixRQUFTQyxHQUFhQyxHQUVwQixZQUVBLElBQUlDLEdBQU1ELEVBQVdFLGFBQ25CQyxFQUFVSCxFQUFXRyxVQUVuQkMsRUFBb0MsV0FDdEMsR0FBSUMsR0FBWUwsRUFBV00sbUJBQ3ZCQyxTQUFRQyxTQUFTSCxHQUNuQkwsRUFBV1MsSUFBSUosR0FJZkYsRUFBUU8sSUFBSVQsRUFBS0QsRUFBV1MsT0FJaENMLEdBQWtDTyxZQUFjLG9DQUU1Q1IsRUFDR0EsRUFBUVMsSUFBSVgsR0FHZkQsRUFBV1MsSUFBSU4sRUFBUVMsSUFBSVgsSUFBTSxTQUFTRyxHQUYxQ0EsSUFJT0csUUFBUUMsU0FBU1IsRUFBV00sc0JBQ3JDTixFQUFXUyxJQUFJVCxFQUFXTSxxQkFnQjlCLFFBQVNPLEtBRVAsWUFFQSxJQUFJQyxHQUNBQyxFQUlBQyxFQUhBQyxFQUFrQixLQUNsQkMsR0FBd0IsRUFDeEJDLEdBQXNDLENBaUMxQ0gs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OUM3c0QsRUFBV3BCLEVBQUdxQixPQUVoQixPQUFLNnNELEtBQW1CVSxHQUFPVCxHQUU3Qi9zRCxFQUFTRyxRQUFTLE1BQ1hILEVBQVNLLFVBRWhCeXNELEVBQWlCVSxFQUVWanNELEVBQU0zTyxJQUFLNDZELEdBQ2ZwdEQsS0FBTSxTQUFVc04sR0FFZixNQURBcS9DLElBQXdCLEVBQ2pCci9DLEVBQVNoUyxLQUFLeStCLFNBRXRCLzVCLEtBQU0sU0FBVSs1QixHQUNmLE1BQU9tekIsR0FBa0JuekIsRUFBUXZHLEtBRWxDeHpCLEtBQU0sS0FBTSxTQUFVc04sR0FLckIsTUFKQW8vQyxHQUFpQixLQUNqQkMsR0FBd0IsRUFFeEIvc0QsRUFBU2EsT0FBUTZNLEVBQVNoUyxLQUFLNnpCLE9BQ3hCdnZCLEVBQVNLLFlBTXhCNU8sRUFBUTY0RCxhQUFlLFdBQ3JCd0MsRUFBaUIsS0FDakJDLEdBQXdCLEdBR25CdDdEIiwiZmlsZSI6ImpzL3NldHRpbmdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogYW5ndWxhci10cmFuc2xhdGUgLSB2Mi4xMy4xIC0gMjAxNi0xMi0wNlxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIGFuZ3VsYXItdHJhbnNsYXRlIHRlYW0sIFBhc2NhbCBQcmVjaHQ7IExpY2Vuc2VkIE1JVFxuICovXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSB1bmxlc3MgYW1kTW9kdWxlSWQgaXMgc2V0XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKGZhY3RvcnkoKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbWFpbiBtb2R1bGUgd2hpY2ggaG9sZHMgZXZlcnl0aGluZyB0b2dldGhlci5cbiAqL1xucnVuVHJhbnNsYXRlLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnXTtcbiR0cmFuc2xhdGUuJGluamVjdCA9IFsnJFNUT1JBR0VfS0VZJywgJyR3aW5kb3dQcm92aWRlcicsICckdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXInLCAncGFzY2FscHJlY2h0VHJhbnNsYXRlT3ZlcnJpZGVyJ107XG4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24uJGluamVjdCA9IFsnJGludGVycG9sYXRlJywgJyR0cmFuc2xhdGVTYW5pdGl6YXRpb24nXTtcbnRyYW5zbGF0ZURpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJywgJyRpbnRlcnBvbGF0ZScsICckY29tcGlsZScsICckcGFyc2UnLCAnJHJvb3RTY29wZSddO1xudHJhbnNsYXRlQXR0ckRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJywgJyRyb290U2NvcGUnXTtcbnRyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnLCAnJHJvb3RTY29wZSddO1xudHJhbnNsYXRlRmlsdGVyRmFjdG9yeS4kaW5qZWN0ID0gWyckcGFyc2UnLCAnJHRyYW5zbGF0ZSddO1xuJHRyYW5zbGF0aW9uQ2FjaGUuJGluamVjdCA9IFsnJGNhY2hlRmFjdG9yeSddO1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnLCBbJ25nJ10pXG4gIC5ydW4ocnVuVHJhbnNsYXRlKTtcblxuZnVuY3Rpb24gcnVuVHJhbnNsYXRlKCR0cmFuc2xhdGUpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGtleSA9ICR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLFxuICAgIHN0b3JhZ2UgPSAkdHJhbnNsYXRlLnN0b3JhZ2UoKTtcblxuICB2YXIgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcmVmZXJyZWQgPSAkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCk7XG4gICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcocHJlZmVycmVkKSkge1xuICAgICAgJHRyYW5zbGF0ZS51c2UocHJlZmVycmVkKTtcbiAgICAgIC8vICR0cmFuc2xhdGUudXNlKCkgd2lsbCBhbHNvIHJlbWVtYmVyIHRoZSBsYW5ndWFnZS5cbiAgICAgIC8vIFNvLCB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgc3RvcmFnZS5wdXQoKSBoZXJlLlxuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yYWdlLnB1dChrZXksICR0cmFuc2xhdGUudXNlKCkpO1xuICAgIH1cbiAgfTtcblxuICBmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUuZGlzcGxheU5hbWUgPSAnZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlJztcblxuICBpZiAoc3RvcmFnZSkge1xuICAgIGlmICghc3RvcmFnZS5nZXQoa2V5KSkge1xuICAgICAgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0cmFuc2xhdGUudXNlKHN0b3JhZ2UuZ2V0KGtleSkpWydjYXRjaCddKGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpKSkge1xuICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKSk7XG4gIH1cbn1cblxucnVuVHJhbnNsYXRlLmRpc3BsYXlOYW1lID0gJ3J1blRyYW5zbGF0ZSc7XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb25maWd1cmF0aW9ucyBmb3IgJHRyYW5zbGF0ZVNhbml0aXphdGlvblxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLnByb3ZpZGVyKCckdHJhbnNsYXRlU2FuaXRpemF0aW9uJywgJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyKTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyICgpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyICRzYW5pdGl6ZSxcbiAgICAgICRzY2UsXG4gICAgICBjdXJyZW50U3RyYXRlZ3kgPSBudWxsLCAvLyBUT0RPIGNoYW5nZSB0byBlaXRoZXIgJ3Nhbml0aXplJywgJ2VzY2FwZScgb3IgWydzYW5pdGl6ZScsICdlc2NhcGVQYXJhbWV0ZXJzJ10gaW4gMy4wLlxuICAgICAgaGFzQ29uZmlndXJlZFN0cmF0ZWd5ID0gZmFsc2UsXG4gICAgICBoYXNTaG93bk5vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZyA9IGZhbHNlLFxuICAgICAgc3RyYXRlZ2llcztcblxuICAvKipcbiAgICogRGVmaW5pdGlvbiBvZiBhIHNhbml0aXphdGlvbiBzdHJhdGVneSBmdW5jdGlvblxuICAgKiBAY2FsbGJhY2sgU3RyYXRlZ3lGdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHZhbHVlIC0gdmFsdWUgdG8gYmUgc2FuaXRpemVkIChlaXRoZXIgYSBzdHJpbmcgb3IgYW4gaW50ZXJwb2xhdGVkIHZhbHVlIG1hcClcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBlaXRoZXIgJ3RleHQnIGZvciBhIHN0cmluZyAodHJhbnNsYXRpb24pIG9yICdwYXJhbXMnIGZvciB0aGUgaW50ZXJwb2xhdGVkIHBhcmFtc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd8b2JqZWN0fVxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lIHN0cmF0ZWdpZXNcbiAgICogQHByb3BlcnR5T2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEZvbGxvd2luZyBzdHJhdGVnaWVzIGFyZSBidWlsdC1pbjpcbiAgICogPGRsPlxuICAgKiAgIDxkdD5zYW5pdGl6ZTwvZHQ+XG4gICAqICAgPGRkPlNhbml0aXplcyBIVE1MIGluIHRoZSB0cmFuc2xhdGlvbiB0ZXh0IHVzaW5nICRzYW5pdGl6ZTwvZGQ+XG4gICAqICAgPGR0PmVzY2FwZTwvZHQ+XG4gICAqICAgPGRkPkVzY2FwZXMgSFRNTCBpbiB0aGUgdHJhbnNsYXRpb248L2RkPlxuICAgKiAgIDxkdD5zYW5pdGl6ZVBhcmFtZXRlcnM8L2R0PlxuICAgKiAgIDxkZD5TYW5pdGl6ZXMgSFRNTCBpbiB0aGUgdmFsdWVzIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHBhcmFtZXRlcnMgdXNpbmcgJHNhbml0aXplPC9kZD5cbiAgICogICA8ZHQ+ZXNjYXBlUGFyYW1ldGVyczwvZHQ+XG4gICAqICAgPGRkPkVzY2FwZXMgSFRNTCBpbiB0aGUgdmFsdWVzIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHBhcmFtZXRlcnM8L2RkPlxuICAgKiAgIDxkdD5lc2NhcGVkPC9kdD5cbiAgICogICA8ZGQ+U3VwcG9ydCBsZWdhY3kgc3RyYXRlZ3kgbmFtZSAnZXNjYXBlZCcgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5ICh3aWxsIGJlIHJlbW92ZWQgaW4gMy4wKTwvZGQ+XG4gICAqIDwvZGw+XG4gICAqXG4gICAqL1xuXG4gIHN0cmF0ZWdpZXMgPSB7XG4gICAgc2FuaXRpemU6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZS8qLCBjb250ZXh0Ki8pIHtcbiAgICAgIGlmIChtb2RlID09PSAndGV4dCcpIHtcbiAgICAgICAgdmFsdWUgPSBodG1sU2FuaXRpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBlc2NhcGU6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZS8qLCBjb250ZXh0Ki8pIHtcbiAgICAgIGlmIChtb2RlID09PSAndGV4dCcpIHtcbiAgICAgICAgdmFsdWUgPSBodG1sRXNjYXBlVmFsdWUodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2FuaXRpemVQYXJhbWV0ZXJzOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUvKiwgY29udGV4dCovKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3BhcmFtcycpIHtcbiAgICAgICAgdmFsdWUgPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyh2YWx1ZSwgaHRtbFNhbml0aXplVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZXNjYXBlUGFyYW1ldGVyczogZnVuY3Rpb24gKHZhbHVlLCBtb2RlLyosIGNvbnRleHQqLykge1xuICAgICAgaWYgKG1vZGUgPT09ICdwYXJhbXMnKSB7XG4gICAgICAgIHZhbHVlID0gbWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnModmFsdWUsIGh0bWxFc2NhcGVWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBzY2U6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZSwgY29udGV4dCkge1xuICAgICAgaWYgKG1vZGUgPT09ICd0ZXh0Jykge1xuICAgICAgICB2YWx1ZSA9IGh0bWxUcnVzdFZhbHVlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ3BhcmFtcycpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgIT09ICdmaWx0ZXInKSB7XG4gICAgICAgICAgLy8gZG8gaHRtbCBlc2NhcGUgaW4gZmlsdGVyIGNvbnRleHQgIzExMDFcbiAgICAgICAgICB2YWx1ZSA9IG1hcEludGVycG9sYXRpb25QYXJhbWV0ZXJzKHZhbHVlLCBodG1sRXNjYXBlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBzY2VQYXJhbWV0ZXJzOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUvKiwgY29udGV4dCovKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3BhcmFtcycpIHtcbiAgICAgICAgdmFsdWUgPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyh2YWx1ZSwgaHRtbFRydXN0VmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfTtcbiAgLy8gU3VwcG9ydCBsZWdhY3kgc3RyYXRlZ3kgbmFtZSAnZXNjYXBlZCcgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAvLyBUT0RPIHNob3VsZCBiZSByZW1vdmVkIGluIDMuMFxuICBzdHJhdGVnaWVzLmVzY2FwZWQgPSBzdHJhdGVnaWVzLmVzY2FwZVBhcmFtZXRlcnM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlciNhZGRTdHJhdGVneVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEFkZHMgYSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgdG8gdGhlIGxpc3Qgb2Yga25vd24gc3RyYXRlZ2llcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmF0ZWd5TmFtZSAtIHVuaXF1ZSBrZXkgZm9yIGEgc3RyYXRlZ3lcbiAgICogQHBhcmFtIHtTdHJhdGVneUZ1bmN0aW9ufSBzdHJhdGVneUZ1bmN0aW9uIC0gc3RyYXRlZ3kgZnVuY3Rpb25cbiAgICogQHJldHVybnMge29iamVjdH0gdGhpc1xuICAgKi9cbiAgdGhpcy5hZGRTdHJhdGVneSA9IGZ1bmN0aW9uIChzdHJhdGVneU5hbWUsIHN0cmF0ZWd5RnVuY3Rpb24pIHtcbiAgICBzdHJhdGVnaWVzW3N0cmF0ZWd5TmFtZV0gPSBzdHJhdGVneUZ1bmN0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIjcmVtb3ZlU3RyYXRlZ3lcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZW1vdmVzIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IGZyb20gdGhlIGxpc3Qgb2Yga25vd24gc3RyYXRlZ2llcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmF0ZWd5TmFtZSAtIHVuaXF1ZSBrZXkgZm9yIGEgc3RyYXRlZ3lcbiAgICogQHJldHVybnMge29iamVjdH0gdGhpc1xuICAgKi9cbiAgdGhpcy5yZW1vdmVTdHJhdGVneSA9IGZ1bmN0aW9uIChzdHJhdGVneU5hbWUpIHtcbiAgICBkZWxldGUgc3RyYXRlZ2llc1tzdHJhdGVneU5hbWVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIjdXNlU3RyYXRlZ3lcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZWxlY3RzIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5LiBXaGVuIGFuIGFycmF5IGlzIHByb3ZpZGVkIHRoZSBzdHJhdGVnaWVzIHdpbGwgYmUgZXhlY3V0ZWQgaW4gb3JkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFN0cmF0ZWd5RnVuY3Rpb258YXJyYXl9IHN0cmF0ZWd5IFRoZSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgLyBzdHJhdGVnaWVzIHdoaWNoIHNob3VsZCBiZSB1c2VkLiBFaXRoZXIgYSBuYW1lIG9mIGFuIGV4aXN0aW5nIHN0cmF0ZWd5LCBhIGN1c3RvbSBzdHJhdGVneSBmdW5jdGlvbiwgb3IgYW4gYXJyYXkgY29uc2lzdGluZyBvZiBtdWx0aXBsZSBuYW1lcyBhbmQgLyBvciBjdXN0b20gZnVuY3Rpb25zLlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSB0aGlzXG4gICAqL1xuICB0aGlzLnVzZVN0cmF0ZWd5ID0gZnVuY3Rpb24gKHN0cmF0ZWd5KSB7XG4gICAgaGFzQ29uZmlndXJlZFN0cmF0ZWd5ID0gdHJ1ZTtcbiAgICBjdXJyZW50U3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG9iamVjdFxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25cbiAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgKiBAcmVxdWlyZXMgJGxvZ1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2FuaXRpemVzIGludGVycG9sYXRpb24gcGFyYW1ldGVycyBhbmQgdHJhbnNsYXRlZCB0ZXh0cy5cbiAgICpcbiAgICovXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyRsb2cnLCBmdW5jdGlvbiAoJGluamVjdG9yLCAkbG9nKSB7XG5cbiAgICB2YXIgY2FjaGVkU3RyYXRlZ3lNYXAgPSB7fTtcblxuICAgIHZhciBhcHBseVN0cmF0ZWdpZXMgPSBmdW5jdGlvbiAodmFsdWUsIG1vZGUsIGNvbnRleHQsIHNlbGVjdGVkU3RyYXRlZ2llcykge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkU3RyYXRlZ2llcywgZnVuY3Rpb24gKHNlbGVjdGVkU3RyYXRlZ3kpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZWxlY3RlZFN0cmF0ZWd5KSkge1xuICAgICAgICAgIHZhbHVlID0gc2VsZWN0ZWRTdHJhdGVneSh2YWx1ZSwgbW9kZSwgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHN0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV0pKSB7XG4gICAgICAgICAgdmFsdWUgPSBzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKHZhbHVlLCBtb2RlLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHN0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV0pKSB7XG4gICAgICAgICAgaWYgKCFjYWNoZWRTdHJhdGVneU1hcFtzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldXSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0gPSAkaW5qZWN0b3IuZ2V0KHN0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjYWNoZWRTdHJhdGVneU1hcFtzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldXSA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uOiBVbmtub3duIHNhbml0aXphdGlvbiBzdHJhdGVneTogXFwnJyArIHNlbGVjdGVkU3RyYXRlZ3kgKyAnXFwnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0odmFsdWUsIG1vZGUsIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uOiBVbmtub3duIHNhbml0aXphdGlvbiBzdHJhdGVneTogXFwnJyArIHNlbGVjdGVkU3RyYXRlZ3kgKyAnXFwnJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBUT0RPOiBzaG91bGQgYmUgcmVtb3ZlZCBpbiAzLjBcbiAgICB2YXIgc2hvd05vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaGFzQ29uZmlndXJlZFN0cmF0ZWd5ICYmICFoYXNTaG93bk5vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZykge1xuICAgICAgICAkbG9nLndhcm4oJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogTm8gc2FuaXRpemF0aW9uIHN0cmF0ZWd5IGhhcyBiZWVuIGNvbmZpZ3VyZWQuIFRoaXMgY2FuIGhhdmUgc2VyaW91cyBzZWN1cml0eSBpbXBsaWNhdGlvbnMuIFNlZSBodHRwOi8vYW5ndWxhci10cmFuc2xhdGUuZ2l0aHViLmlvL2RvY3MvIy9ndWlkZS8xOV9zZWN1cml0eSBmb3IgZGV0YWlscy4nKTtcbiAgICAgICAgaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJHNhbml0aXplJykpIHtcbiAgICAgICRzYW5pdGl6ZSA9ICRpbmplY3Rvci5nZXQoJyRzYW5pdGl6ZScpO1xuICAgIH1cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJHNjZScpKSB7XG4gICAgICAkc2NlID0gJGluamVjdG9yLmdldCgnJHNjZScpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uI3VzZVN0cmF0ZWd5XG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTZWxlY3RzIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5LiBXaGVuIGFuIGFycmF5IGlzIHByb3ZpZGVkIHRoZSBzdHJhdGVnaWVzIHdpbGwgYmUgZXhlY3V0ZWQgaW4gb3JkZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8U3RyYXRlZ3lGdW5jdGlvbnxhcnJheX0gc3RyYXRlZ3kgVGhlIHNhbml0aXphdGlvbiBzdHJhdGVneSAvIHN0cmF0ZWdpZXMgd2hpY2ggc2hvdWxkIGJlIHVzZWQuIEVpdGhlciBhIG5hbWUgb2YgYW4gZXhpc3Rpbmcgc3RyYXRlZ3ksIGEgY3VzdG9tIHN0cmF0ZWd5IGZ1bmN0aW9uLCBvciBhbiBhcnJheSBjb25zaXN0aW5nIG9mIG11bHRpcGxlIG5hbWVzIGFuZCAvIG9yIGN1c3RvbSBmdW5jdGlvbnMuXG4gICAgICAgKi9cbiAgICAgIHVzZVN0cmF0ZWd5OiAoZnVuY3Rpb24gKHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdHJhdGVneSkge1xuICAgICAgICAgIHNlbGYudXNlU3RyYXRlZ3koc3RyYXRlZ3kpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb24jc2FuaXRpemVcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNhbml0aXplcyBhIHZhbHVlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gdmFsdWUgVGhlIHZhbHVlIHdoaWNoIHNob3VsZCBiZSBzYW5pdGl6ZWQuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSBUaGUgY3VycmVudCBzYW5pdGl6YXRpb24gbW9kZSwgZWl0aGVyICdwYXJhbXMnIG9yICd0ZXh0Jy5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfFN0cmF0ZWd5RnVuY3Rpb258YXJyYXl9IFtzdHJhdGVneV0gT3B0aW9uYWwgY3VzdG9tIHN0cmF0ZWd5IHdoaWNoIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBzdHJhdGVneS5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY29udGV4dF0gVGhlIGNvbnRleHQgb2YgdGhpcyBjYWxsOiBmaWx0ZXIsIHNlcnZpY2UuIERlZmF1bHQgaXMgc2VydmljZVxuICAgICAgICogQHJldHVybnMge3N0cmluZ3xvYmplY3R9IHNhbml0aXplZCB2YWx1ZVxuICAgICAgICovXG4gICAgICBzYW5pdGl6ZTogZnVuY3Rpb24gKHZhbHVlLCBtb2RlLCBzdHJhdGVneSwgY29udGV4dCkge1xuICAgICAgICBpZiAoIWN1cnJlbnRTdHJhdGVneSkge1xuICAgICAgICAgIHNob3dOb1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3RyYXRlZ3kgJiYgc3RyYXRlZ3kgIT09IG51bGwpIHtcbiAgICAgICAgICBzdHJhdGVneSA9IGN1cnJlbnRTdHJhdGVneTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3RyYXRlZ3kpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICBjb250ZXh0ID0gJ3NlcnZpY2UnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkU3RyYXRlZ2llcyA9IGFuZ3VsYXIuaXNBcnJheShzdHJhdGVneSkgPyBzdHJhdGVneSA6IFtzdHJhdGVneV07XG4gICAgICAgIHJldHVybiBhcHBseVN0cmF0ZWdpZXModmFsdWUsIG1vZGUsIGNvbnRleHQsIHNlbGVjdGVkU3RyYXRlZ2llcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG5cbiAgdmFyIGh0bWxFc2NhcGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2PjwvZGl2PicpO1xuICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7IC8vIG5vdCBjaGFpbmFibGUsIHNlZSAjMTA0NFxuICAgIHJldHVybiBlbGVtZW50Lmh0bWwoKTtcbiAgfTtcblxuICB2YXIgaHRtbFNhbml0aXplVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoISRzYW5pdGl6ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IEVycm9yIGNhbm5vdCBmaW5kICRzYW5pdGl6ZSBzZXJ2aWNlLiBFaXRoZXIgaW5jbHVkZSB0aGUgbmdTYW5pdGl6ZSBtb2R1bGUgKGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZ1Nhbml0aXplKSBvciB1c2UgYSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgd2hpY2ggZG9lcyBub3QgZGVwZW5kIG9uICRzYW5pdGl6ZSwgc3VjaCBhcyBcXCdlc2NhcGVcXCcuJyk7XG4gICAgfVxuICAgIHJldHVybiAkc2FuaXRpemUodmFsdWUpO1xuICB9O1xuXG4gIHZhciBodG1sVHJ1c3RWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICghJHNjZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IEVycm9yIGNhbm5vdCBmaW5kICRzY2Ugc2VydmljZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwodmFsdWUpO1xuICB9O1xuXG4gIHZhciBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uICh2YWx1ZSwgaXRlcmF0ZWUsIHN0YWNrKSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBhbmd1bGFyLmlzQXJyYXkodmFsdWUpID8gW10gOiB7fTtcblxuICAgICAgaWYgKCFzdGFjaykge1xuICAgICAgICBzdGFjayA9IFtdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpID4gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogRXJyb3IgY2Fubm90IGludGVycG9sYXRlIHBhcmFtZXRlciBkdWUgcmVjdXJzaXZlIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN0YWNrLnB1c2godmFsdWUpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiAocHJvcGVydHlWYWx1ZSwgcHJvcGVydHlLZXkpIHtcblxuICAgICAgICAvKiBTa2lwcGluZyBmdW5jdGlvbiBwcm9wZXJ0aWVzLiAqL1xuICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHByb3BlcnR5VmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0W3Byb3BlcnR5S2V5XSA9IG1hcEludGVycG9sYXRpb25QYXJhbWV0ZXJzKHByb3BlcnR5VmFsdWUsIGl0ZXJhdGVlLCBzdGFjayk7XG4gICAgICB9KTtcbiAgICAgIHN0YWNrLnNwbGljZSgtMSwgMSk7IC8vIHJlbW92ZSBsYXN0XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaXRlcmF0ZWUodmFsdWUpO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogJHRyYW5zbGF0ZVByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIHJlZ2lzdGVyIHRyYW5zbGF0aW9uLXRhYmxlcywgYXN5bmNocm9ub3VzIGxvYWRlcnNcbiAqIGFuZCBzaW1pbGFyIHRvIGNvbmZpZ3VyZSB0cmFuc2xhdGlvbiBiZWhhdmlvciBkaXJlY3RseSBpbnNpZGUgb2YgYSBtb2R1bGUuXG4gKlxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4gIC5jb25zdGFudCgncGFzY2FscHJlY2h0VHJhbnNsYXRlT3ZlcnJpZGVyJywge30pXG4gIC5wcm92aWRlcignJHRyYW5zbGF0ZScsICR0cmFuc2xhdGUpO1xuXG5mdW5jdGlvbiAkdHJhbnNsYXRlKCRTVE9SQUdFX0tFWSwgJHdpbmRvd1Byb3ZpZGVyLCAkdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIsIHBhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlcikge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHRyYW5zbGF0aW9uVGFibGUgPSB7fSxcbiAgICAkcHJlZmVycmVkTGFuZ3VhZ2UsXG4gICAgJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IFtdLFxuICAgICRsYW5ndWFnZUtleUFsaWFzZXMsXG4gICAgJGZhbGxiYWNrTGFuZ3VhZ2UsXG4gICAgJGZhbGxiYWNrV2FzU3RyaW5nLFxuICAgICR1c2VzLFxuICAgICRuZXh0TGFuZyxcbiAgICAkc3RvcmFnZUZhY3RvcnksXG4gICAgJHN0b3JhZ2VLZXkgPSAkU1RPUkFHRV9LRVksXG4gICAgJHN0b3JhZ2VQcmVmaXgsXG4gICAgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5LFxuICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSxcbiAgICAkaW50ZXJwb2xhdG9yRmFjdG9yaWVzID0gW10sXG4gICAgJGxvYWRlckZhY3RvcnksXG4gICAgJGNsb2FrQ2xhc3NOYW1lID0gJ3RyYW5zbGF0ZS1jbG9haycsXG4gICAgJGxvYWRlck9wdGlvbnMsXG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCxcbiAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCxcbiAgICAkcG9zdENvbXBpbGluZ0VuYWJsZWQgPSBmYWxzZSxcbiAgICAkZm9yY2VBc3luY1JlbG9hZEVuYWJsZWQgPSBmYWxzZSxcbiAgICAkbmVzdGVkT2JqZWN0RGVsaW1ldGVyID0gJy4nLFxuICAgICRpc1JlYWR5ID0gZmFsc2UsXG4gICAgJGtlZXBDb250ZW50ID0gZmFsc2UsXG4gICAgbG9hZGVyQ2FjaGUsXG4gICAgZGlyZWN0aXZlUHJpb3JpdHkgPSAwLFxuICAgIHN0YXRlZnVsRmlsdGVyID0gdHJ1ZSxcbiAgICBwb3N0UHJvY2Vzc0ZuLFxuICAgIHVuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyID0gJ2RlZmF1bHQnLFxuICAgIGxhbmd1YWdlVGFnUmVzb2x2ZXIgPSB7XG4gICAgICAnZGVmYXVsdCcgOiBmdW5jdGlvbiAodGFnKSB7XG4gICAgICAgIHJldHVybiAodGFnIHx8ICcnKS5zcGxpdCgnLScpLmpvaW4oJ18nKTtcbiAgICAgIH0sXG4gICAgICBqYXZhIDogZnVuY3Rpb24gKHRhZykge1xuICAgICAgICB2YXIgdGVtcCA9ICh0YWcgfHwgJycpLnNwbGl0KCctJykuam9pbignXycpO1xuICAgICAgICB2YXIgcGFydHMgPSB0ZW1wLnNwbGl0KCdfJyk7XG4gICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gKHBhcnRzWzBdLnRvTG93ZXJDYXNlKCkgKyAnXycgKyBwYXJ0c1sxXS50b1VwcGVyQ2FzZSgpKSA6IHRlbXA7XG4gICAgICB9LFxuICAgICAgYmNwNDcgOiBmdW5jdGlvbiAodGFnKSB7XG4gICAgICAgIHZhciB0ZW1wID0gKHRhZyB8fCAnJykuc3BsaXQoJ18nKS5qb2luKCctJyk7XG4gICAgICAgIHZhciBwYXJ0cyA9IHRlbXAuc3BsaXQoJy0nKTtcbiAgICAgICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDEgPyAocGFydHNbMF0udG9Mb3dlckNhc2UoKSArICctJyArIHBhcnRzWzFdLnRvVXBwZXJDYXNlKCkpIDogdGVtcDtcbiAgICAgIH0sXG4gICAgICAnaXNvNjM5LTEnIDogZnVuY3Rpb24gKHRhZykge1xuICAgICAgICB2YXIgdGVtcCA9ICh0YWcgfHwgJycpLnNwbGl0KCdfJykuam9pbignLScpO1xuICAgICAgICB2YXIgcGFydHMgPSB0ZW1wLnNwbGl0KCctJyk7XG4gICAgICAgIHJldHVybiBwYXJ0c1swXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgdmFyIHZlcnNpb24gPSAnMi4xMy4xJztcblxuICAvLyB0cmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxhbmd1YWdlXG4gIHZhciBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIGludGVybmFsIHB1cnBvc2Ugb25seVxuICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24ocGFzY2FscHJlY2h0VHJhbnNsYXRlT3ZlcnJpZGVyLmdldExvY2FsZSkpIHtcbiAgICAgIHJldHVybiBwYXNjYWxwcmVjaHRUcmFuc2xhdGVPdmVycmlkZXIuZ2V0TG9jYWxlKCk7XG4gICAgfVxuXG4gICAgdmFyIG5hdiA9ICR3aW5kb3dQcm92aWRlci4kZ2V0KCkubmF2aWdhdG9yLFxuICAgICAgYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzID0gWydsYW5ndWFnZScsICdicm93c2VyTGFuZ3VhZ2UnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndXNlckxhbmd1YWdlJ10sXG4gICAgICBpLFxuICAgICAgbGFuZ3VhZ2U7XG5cbiAgICAvLyBzdXBwb3J0IGZvciBIVE1MIDUuMSBcIm5hdmlnYXRvci5sYW5ndWFnZXNcIlxuICAgIGlmIChhbmd1bGFyLmlzQXJyYXkobmF2Lmxhbmd1YWdlcykpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuYXYubGFuZ3VhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxhbmd1YWdlID0gbmF2Lmxhbmd1YWdlc1tpXTtcbiAgICAgICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBsYW5ndWFnZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHN1cHBvcnQgZm9yIG90aGVyIHdlbGwga25vd24gcHJvcGVydGllcyBpbiBicm93c2Vyc1xuICAgIGZvciAoaSA9IDA7IGkgPCBicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxhbmd1YWdlID0gbmF2W2Jyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5c1tpXV07XG4gICAgICBpZiAobGFuZ3VhZ2UgJiYgbGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBsYW5ndWFnZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UuZGlzcGxheU5hbWUgPSAnYW5ndWxhci10cmFuc2xhdGUvc2VydmljZTogZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UnO1xuXG4gIC8vIHRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbG9jYWxlXG4gIHZhciBnZXRMb2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxvY2FsZSA9IGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlKCkgfHwgJyc7XG4gICAgaWYgKGxhbmd1YWdlVGFnUmVzb2x2ZXJbdW5pZm9ybUxhbmd1YWdlVGFnUmVzb2x2ZXJdKSB7XG4gICAgICBsb2NhbGUgPSBsYW5ndWFnZVRhZ1Jlc29sdmVyW3VuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyXShsb2NhbGUpO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlO1xuICB9O1xuICBnZXRMb2NhbGUuZGlzcGxheU5hbWUgPSAnYW5ndWxhci10cmFuc2xhdGUvc2VydmljZTogZ2V0TG9jYWxlJztcblxuICAvKipcbiAgICogQG5hbWUgaW5kZXhPZlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogaW5kZXhPZiBwb2x5ZmlsbC4gS2luZGEgc29ydGEuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXl9IGFycmF5IEFycmF5IHRvIHNlYXJjaCBpbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaEVsZW1lbnQgRWxlbWVudCB0byBzZWFyY2ggZm9yLlxuICAgKlxuICAgKiBAcmV0dXJucyB7aW50fSBJbmRleCBvZiBzZWFyY2ggZWxlbWVudC5cbiAgICovXG4gIHZhciBpbmRleE9mID0gZnVuY3Rpb24gKGFycmF5LCBzZWFyY2hFbGVtZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoYXJyYXlbaV0gPT09IHNlYXJjaEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgdHJpbVxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogdHJpbSBwb2x5ZmlsbFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgc3RyaW5nIHN0cmlwcGVkIG9mIHdoaXRlc3BhY2UgZnJvbSBib3RoIGVuZHNcbiAgICovXG4gIHZhciB0cmltID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9O1xuXG4gIHZhciBuZWdvdGlhdGVMb2NhbGUgPSBmdW5jdGlvbiAocHJlZmVycmVkKSB7XG4gICAgaWYgKCFwcmVmZXJyZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYXZhaWwgPSBbXSxcbiAgICAgIGxvY2FsZSA9IGFuZ3VsYXIubG93ZXJjYXNlKHByZWZlcnJlZCksXG4gICAgICBpID0gMCxcbiAgICAgIG4gPSAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aDtcblxuICAgIGZvciAoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBhdmFpbC5wdXNoKGFuZ3VsYXIubG93ZXJjYXNlKCRhdmFpbGFibGVMYW5ndWFnZUtleXNbaV0pKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgYW4gZXhhY3QgbWF0Y2ggaW4gb3VyIGxpc3Qgb2YgYXZhaWxhYmxlIGtleXNcbiAgICBpZiAoaW5kZXhPZihhdmFpbCwgbG9jYWxlKSA+IC0xKSB7XG4gICAgICByZXR1cm4gcHJlZmVycmVkO1xuICAgIH1cblxuICAgIGlmICgkbGFuZ3VhZ2VLZXlBbGlhc2VzKSB7XG4gICAgICB2YXIgYWxpYXM7XG4gICAgICBmb3IgKHZhciBsYW5nS2V5QWxpYXMgaW4gJGxhbmd1YWdlS2V5QWxpYXNlcykge1xuICAgICAgICBpZiAoJGxhbmd1YWdlS2V5QWxpYXNlcy5oYXNPd25Qcm9wZXJ0eShsYW5nS2V5QWxpYXMpKSB7XG4gICAgICAgICAgdmFyIGhhc1dpbGRjYXJkS2V5ID0gZmFsc2U7XG4gICAgICAgICAgdmFyIGhhc0V4YWN0S2V5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCRsYW5ndWFnZUtleUFsaWFzZXMsIGxhbmdLZXlBbGlhcykgJiZcbiAgICAgICAgICAgIGFuZ3VsYXIubG93ZXJjYXNlKGxhbmdLZXlBbGlhcykgPT09IGFuZ3VsYXIubG93ZXJjYXNlKHByZWZlcnJlZCk7XG5cbiAgICAgICAgICBpZiAobGFuZ0tleUFsaWFzLnNsaWNlKC0xKSA9PT0gJyonKSB7XG4gICAgICAgICAgICBoYXNXaWxkY2FyZEtleSA9IGxhbmdLZXlBbGlhcy5zbGljZSgwLCAtMSkgPT09IHByZWZlcnJlZC5zbGljZSgwLCBsYW5nS2V5QWxpYXMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYXNFeGFjdEtleSB8fCBoYXNXaWxkY2FyZEtleSkge1xuICAgICAgICAgICAgYWxpYXMgPSAkbGFuZ3VhZ2VLZXlBbGlhc2VzW2xhbmdLZXlBbGlhc107XG4gICAgICAgICAgICBpZiAoaW5kZXhPZihhdmFpbCwgYW5ndWxhci5sb3dlcmNhc2UoYWxpYXMpKSA+IC0xKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhbGlhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgYSBsYW5ndWFnZSBjb2RlIHdpdGhvdXQgcmVnaW9uXG4gICAgdmFyIHBhcnRzID0gcHJlZmVycmVkLnNwbGl0KCdfJyk7XG5cbiAgICBpZiAocGFydHMubGVuZ3RoID4gMSAmJiBpbmRleE9mKGF2YWlsLCBhbmd1bGFyLmxvd2VyY2FzZShwYXJ0c1swXSkpID4gLTEpIHtcbiAgICAgIHJldHVybiBwYXJ0c1swXTtcbiAgICB9XG5cbiAgICAvLyBJZiBldmVyeXRoaW5nIGZhaWxzLCByZXR1cm4gdW5kZWZpbmVkLlxuICAgIHJldHVybjtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uc1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIG5ldyB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2Uga2V5LlxuICAgKlxuICAgKiBUbyByZWdpc3RlciBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSwgcGFzcyBhIGRlZmluZWQgbGFuZ3VhZ2VcbiAgICoga2V5IGFzIGZpcnN0IHBhcmFtZXRlci5cbiAgICpcbiAgICogPHByZT5cbiAgICogIC8vIHJlZ2lzdGVyIHRyYW5zbGF0aW9uIHRhYmxlIGZvciBsYW5ndWFnZTogJ2RlX0RFJ1xuICAgKiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZGVfREUnLCB7XG4gICAqICAgICdHUkVFVElORyc6ICdIYWxsbyBXZWx0ISdcbiAgICogIH0pO1xuICAgKlxuICAgKiAgLy8gcmVnaXN0ZXIgYW5vdGhlciBvbmVcbiAgICogICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuX1VTJywge1xuICAgKiAgICAnR1JFRVRJTkcnOiAnSGVsbG8gd29ybGQhJ1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBXaGVuIHJlZ2lzdGVyaW5nIG11bHRpcGxlIHRyYW5zbGF0aW9uIHRhYmxlcyBmb3IgZm9yIHRoZSBzYW1lIGxhbmd1YWdlIGtleSxcbiAgICogdGhlIGFjdHVhbCB0cmFuc2xhdGlvbiB0YWJsZSBnZXRzIGV4dGVuZGVkLiBUaGlzIGFsbG93cyB5b3UgdG8gZGVmaW5lIG1vZHVsZVxuICAgKiBzcGVjaWZpYyB0cmFuc2xhdGlvbiB3aGljaCBvbmx5IGdldCBhZGRlZCwgb25jZSBhIHNwZWNpZmljIG1vZHVsZSBpcyBsb2FkZWQgaW5cbiAgICogeW91ciBhcHAuXG4gICAqXG4gICAqIEludm9raW5nIHRoaXMgbWV0aG9kIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHRyYW5zbGF0aW9uIHRhYmxlIHdoaWNoIHdhc1xuICAgKiByZWdpc3RlcmVkIHdpdGggbm8gbGFuZ3VhZ2Uga2V5LiBJbnZva2luZyBpdCB3aXRoIGEgbGFuZ3VhZ2Uga2V5IHJldHVybnMgdGhlXG4gICAqIHJlbGF0ZWQgdHJhbnNsYXRpb24gdGFibGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKiBAcGFyYW0ge29iamVjdH0gdHJhbnNsYXRpb25UYWJsZSBBIHBsYWluIG9sZCBKYXZhU2NyaXB0IG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiB0YWJsZS5cbiAgICpcbiAgICovXG4gIHZhciB0cmFuc2xhdGlvbnMgPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25UYWJsZSkge1xuXG4gICAgaWYgKCFsYW5nS2V5ICYmICF0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICByZXR1cm4gJHRyYW5zbGF0aW9uVGFibGU7XG4gICAgfVxuXG4gICAgaWYgKGxhbmdLZXkgJiYgIXRyYW5zbGF0aW9uVGFibGUpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGxhbmdLZXkpKSB7XG4gICAgICAgIHJldHVybiAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFhbmd1bGFyLmlzT2JqZWN0KCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSkge1xuICAgICAgICAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSA9IHt9O1xuICAgICAgfVxuICAgICAgYW5ndWxhci5leHRlbmQoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0sIGZsYXRPYmplY3QodHJhbnNsYXRpb25UYWJsZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB0aGlzLnRyYW5zbGF0aW9ucyA9IHRyYW5zbGF0aW9ucztcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2Nsb2FrQ2xhc3NOYW1lXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogTGV0J3MgeW91IGNoYW5nZSB0aGUgY2xhc3MgbmFtZSBmb3IgYHRyYW5zbGF0ZS1jbG9ha2AgZGlyZWN0aXZlLlxuICAgKiBEZWZhdWx0IGNsYXNzIG5hbWUgaXMgYHRyYW5zbGF0ZS1jbG9ha2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRyYW5zbGF0ZS1jbG9hayBjbGFzcyBuYW1lXG4gICAqL1xuICB0aGlzLmNsb2FrQ2xhc3NOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJldHVybiAkY2xvYWtDbGFzc05hbWU7XG4gICAgfVxuICAgICRjbG9ha0NsYXNzTmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNuZXN0ZWRPYmplY3REZWxpbWV0ZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBMZXQncyB5b3UgY2hhbmdlIHRoZSBkZWxpbWl0ZXIgZm9yIG5hbWVzcGFjZWQgdHJhbnNsYXRpb25zLlxuICAgKiBEZWZhdWx0IGRlbGltaXRlciBpcyBgLmAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZWxpbWl0ZXIgbmFtZXNwYWNlIHNlcGFyYXRvclxuICAgKi9cbiAgdGhpcy5uZXN0ZWRPYmplY3REZWxpbWV0ZXIgPSBmdW5jdGlvbiAoZGVsaW1pdGVyKSB7XG4gICAgaWYgKCFkZWxpbWl0ZXIpIHtcbiAgICAgIHJldHVybiAkbmVzdGVkT2JqZWN0RGVsaW1ldGVyO1xuICAgIH1cbiAgICAkbmVzdGVkT2JqZWN0RGVsaW1ldGVyID0gZGVsaW1pdGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSBmbGF0T2JqZWN0XG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBGbGF0cyBhbiBvYmplY3QuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBmbGF0dGVuIGdpdmVuIHRyYW5zbGF0aW9uIGRhdGEgd2l0aFxuICAgKiBuYW1lc3BhY2VzLCBzbyB0aGV5IGFyZSBsYXRlciBhY2Nlc3NpYmxlIHZpYSBkb3Qgbm90YXRpb24uXG4gICAqL1xuICB2YXIgZmxhdE9iamVjdCA9IGZ1bmN0aW9uIChkYXRhLCBwYXRoLCByZXN1bHQsIHByZXZLZXkpIHtcbiAgICB2YXIga2V5LCBrZXlXaXRoUGF0aCwga2V5V2l0aFNob3J0UGF0aCwgdmFsO1xuXG4gICAgaWYgKCFwYXRoKSB7XG4gICAgICBwYXRoID0gW107XG4gICAgfVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSB7fTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gZGF0YSkge1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhbCA9IGRhdGFba2V5XTtcbiAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgZmxhdE9iamVjdCh2YWwsIHBhdGguY29uY2F0KGtleSksIHJlc3VsdCwga2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleVdpdGhQYXRoID0gcGF0aC5sZW5ndGggPyAoJycgKyBwYXRoLmpvaW4oJG5lc3RlZE9iamVjdERlbGltZXRlcikgKyAkbmVzdGVkT2JqZWN0RGVsaW1ldGVyICsga2V5KSA6IGtleTtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoICYmIGtleSA9PT0gcHJldktleSkge1xuICAgICAgICAgIC8vIENyZWF0ZSBzaG9ydGN1dCBwYXRoIChmb28uYmFyID09IGZvby5iYXIuYmFyKVxuICAgICAgICAgIGtleVdpdGhTaG9ydFBhdGggPSAnJyArIHBhdGguam9pbigkbmVzdGVkT2JqZWN0RGVsaW1ldGVyKTtcbiAgICAgICAgICAvLyBMaW5rIGl0IHRvIG9yaWdpbmFsIHBhdGhcbiAgICAgICAgICByZXN1bHRba2V5V2l0aFNob3J0UGF0aF0gPSAnQDonICsga2V5V2l0aFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2tleVdpdGhQYXRoXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgZmxhdE9iamVjdC5kaXNwbGF5TmFtZSA9ICdmbGF0T2JqZWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2FkZEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBZGRzIGludGVycG9sYXRpb24gc2VydmljZXMgdG8gYW5ndWxhci10cmFuc2xhdGUsIHNvIGl0IGNhbiBtYW5hZ2UgdGhlbS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIGZhY3RvcnlcbiAgICovXG4gIHRoaXMuYWRkSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJGludGVycG9sYXRvckZhY3Rvcmllcy5wdXNoKGZhY3RvcnkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbmFsaXR5IG9mIG1lc3NhZ2Vmb3JtYXQuanMuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gaGF2aW5nIGhpZ2ggbGV2ZWwgcGx1cmFsaXphdGlvbiBhbmQgZ2VuZGVyIHNlbGVjdGlvbi5cbiAgICovXG4gIHRoaXMudXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlSW50ZXJwb2xhdGlvbignJHRyYW5zbGF0ZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggaW50ZXJwb2xhdGlvbiBzdHlsZSB0byB1c2UgYXMgZGVmYXVsdCwgYXBwbGljYXRpb24td2lkZS5cbiAgICogU2ltcGx5IHBhc3MgYSBmYWN0b3J5L3NlcnZpY2UgbmFtZS4gVGhlIGludGVycG9sYXRpb24gc2VydmljZSBoYXMgdG8gaW1wbGVtZW50XG4gICAqIHRoZSBjb3JyZWN0IGludGVyZmFjZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIG5hbWUuXG4gICAqL1xuICB0aGlzLnVzZUludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTYW5pdGl6ZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2ltcGx5IHNldHMgYSBzYW5pdGF0aW9uIHN0cmF0ZWd5IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBTdHJhdGVneSB0eXBlLlxuICAgKi9cbiAgdGhpcy51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIudXNlU3RyYXRlZ3kodmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcHJlZmVycmVkTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIG9mIHRoZSByZWdpc3RlcmVkIHRyYW5zbGF0aW9uIHRhYmxlcyB0byB1c2UgZm9yIHRyYW5zbGF0aW9uXG4gICAqIGF0IGluaXRpYWwgc3RhcnR1cCBieSBwYXNzaW5nIGEgbGFuZ3VhZ2Uga2V5LiBTaW1pbGFyIHRvIGAkdHJhbnNsYXRlUHJvdmlkZXIjdXNlYFxuICAgKiBvbmx5IHRoYXQgaXQgc2F5cyB3aGljaCBsYW5ndWFnZSB0byAqKnByZWZlcioqLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICovXG4gIHRoaXMucHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICBzZXR1cFByZWZlcnJlZExhbmd1YWdlKGxhbmdLZXkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gIH07XG4gIHZhciBzZXR1cFByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbGFuZ0tleTtcbiAgICB9XG4gICAgcmV0dXJuICRwcmVmZXJyZWRMYW5ndWFnZTtcbiAgfTtcbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQuIEUuZy4gd2hlblxuICAgKiBzZXR0aW5nIHRoZSBpbmRpY2F0b3IgYXMgJ1gnIGFuZCBvbmUgdHJpZXMgdG8gdHJhbnNsYXRlIGEgdHJhbnNsYXRpb24gaWRcbiAgICogY2FsbGVkIGBOT1RfRk9VTkRgLCB0aGlzIHdpbGwgcmVzdWx0IGluIGBYIE5PVF9GT1VORCBYYC5cbiAgICpcbiAgICogSW50ZXJuYWxseSB0aGlzIG1ldGhvZHMgc2V0cyBhIGxlZnQgaW5kaWNhdG9yIGFuZCBhIHJpZ2h0IGluZGljYXRvciB1c2luZ1xuICAgKiBgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0KClgIGFuZFxuICAgKiBgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCgpYC5cbiAgICpcbiAgICogKipOb3RlKio6IFRoZXNlIG1ldGhvZHMgYXV0b21hdGljYWxseSBhZGQgYSB3aGl0ZXNwYWNlIGJldHdlZW4gdGhlIGluZGljYXRvcnNcbiAgICogYW5kIHRoZSB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IsIGNvdWxkIGJlIGFueSBzdHJpbmcuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3IgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdChpbmRpY2F0b3IpO1xuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0KGluZGljYXRvcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQgbGVmdCB0byB0aGVcbiAgICogdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICBpZiAoIWluZGljYXRvcikge1xuICAgICAgcmV0dXJuICRub3RGb3VuZEluZGljYXRvckxlZnQ7XG4gICAgfVxuICAgICRub3RGb3VuZEluZGljYXRvckxlZnQgPSBpbmRpY2F0b3I7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQgcmlnaHQgdG8gdGhlXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvci5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0ID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIGlmICghaW5kaWNhdG9yKSB7XG4gICAgICByZXR1cm4gJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQ7XG4gICAgfVxuICAgICRub3RGb3VuZEluZGljYXRvclJpZ2h0ID0gaW5kaWNhdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZmFsbGJhY2tMYW5ndWFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdHJhbnNsYXRpb24gdGFibGVzIHRvIHVzZSB3aGVuIG1pc3NpbmcgdHJhbnNsYXRpb25zXG4gICAqIGF0IGluaXRpYWwgc3RhcnR1cCBieSBwYXNzaW5nIGEgbGFuZ3VhZ2Uga2V5LiBTaW1pbGFyIHRvIGAkdHJhbnNsYXRlUHJvdmlkZXIjdXNlYFxuICAgKiBvbmx5IHRoYXQgaXQgc2F5cyB3aGljaCBsYW5ndWFnZSB0byAqKmZhbGxiYWNrKiouXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfHxhcnJheX0gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICpcbiAgICovXG4gIHRoaXMuZmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgZmFsbGJhY2tTdGFjayhsYW5nS2V5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZmFsbGJhY2tTdGFjayA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGxhbmdLZXkpKSB7XG4gICAgICAgICRmYWxsYmFja1dhc1N0cmluZyA9IHRydWU7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlID0gW2xhbmdLZXldO1xuICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzQXJyYXkobGFuZ0tleSkpIHtcbiAgICAgICAgJGZhbGxiYWNrV2FzU3RyaW5nID0gZmFsc2U7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlID0gbGFuZ0tleTtcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKCRwcmVmZXJyZWRMYW5ndWFnZSkgJiYgaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgJHByZWZlcnJlZExhbmd1YWdlKSA8IDApIHtcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2VbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0IHdoaWNoIHRyYW5zbGF0aW9uIHRhYmxlIHRvIHVzZSBmb3IgdHJhbnNsYXRpb24gYnkgZ2l2ZW4gbGFuZ3VhZ2Uga2V5LiBXaGVuXG4gICAqIHRyeWluZyB0byAndXNlJyBhIGxhbmd1YWdlIHdoaWNoIGlzbid0IHByb3ZpZGVkLCBpdCdsbCB0aHJvdyBhbiBlcnJvci5cbiAgICpcbiAgICogWW91IGFjdHVhbGx5IGRvbid0IGhhdmUgdG8gdXNlIHRoaXMgbWV0aG9kIHNpbmNlIGAkdHJhbnNsYXRlUHJvdmlkZXIjcHJlZmVycmVkTGFuZ3VhZ2VgXG4gICAqIGRvZXMgdGhlIGpvYiB0b28uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKi9cbiAgdGhpcy51c2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICBpZiAoISR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldICYmICghJGxvYWRlckZhY3RvcnkpKSB7XG4gICAgICAgIC8vIG9ubHkgdGhyb3cgYW4gZXJyb3IsIHdoZW4gbm90IGxvYWRpbmcgdHJhbnNsYXRpb24gZGF0YSBhc3luY2hyb25vdXNseVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJyR0cmFuc2xhdGVQcm92aWRlciBjb3VsZG5cXCd0IGZpbmQgdHJhbnNsYXRpb25UYWJsZSBmb3IgbGFuZ0tleTogXFwnJyArIGxhbmdLZXkgKyAnXFwnJyk7XG4gICAgICB9XG4gICAgICAkdXNlcyA9IGxhbmdLZXk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuICR1c2VzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcmVzb2x2ZUNsaWVudExvY2FsZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgcmV0dXJucyB0aGUgY3VycmVudCBicm93c2VyL2NsaWVudCdzIGxhbmd1YWdlIGtleS4gVGhlIHJlc3VsdCBpcyBwcm9jZXNzZWQgd2l0aCB0aGUgY29uZmlndXJlZCB1bmlmb3JtIHRhZyByZXNvbHZlci5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGN1cnJlbnQgY2xpZW50L2Jyb3dzZXIgbGFuZ3VhZ2Uga2V5XG4gICAqL1xuICB0aGlzLnJlc29sdmVDbGllbnRMb2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldExvY2FsZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RvcmFnZUtleVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2gga2V5IG11c3QgcmVwcmVzZW50IHRoZSBjaG9vc2VkIGxhbmd1YWdlIGJ5IGEgdXNlciBpbiB0aGUgc3RvcmFnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIGtleSBmb3IgdGhlIHN0b3JhZ2UuXG4gICAqL1xuICB2YXIgc3RvcmFnZUtleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIWtleSkge1xuICAgICAgaWYgKCRzdG9yYWdlUHJlZml4KSB7XG4gICAgICAgIHJldHVybiAkc3RvcmFnZVByZWZpeCArICRzdG9yYWdlS2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuICRzdG9yYWdlS2V5O1xuICAgIH1cbiAgICAkc3RvcmFnZUtleSA9IGtleTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB0aGlzLnN0b3JhZ2VLZXkgPSBzdG9yYWdlS2V5O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlVXJsTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlVXJsTG9hZGVyYCBleHRlbnNpb24gc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVXJsXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VVcmxMb2FkZXIgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTG9hZGVyKCckdHJhbnNsYXRlVXJsTG9hZGVyJywgYW5ndWxhci5leHRlbmQoe3VybCA6IHVybH0sIG9wdGlvbnMpKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVN0YXRpY0ZpbGVzTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJgIGV4dGVuc2lvbiBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZVN0YXRpY0ZpbGVzTG9hZGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy51c2VMb2FkZXIoJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcicsIG9wdGlvbnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGFueSBvdGhlciBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvYWRlckZhY3RvcnkgRmFjdG9yeSBuYW1lIHRvIHVzZVxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlTG9hZGVyID0gZnVuY3Rpb24gKGxvYWRlckZhY3RvcnksIG9wdGlvbnMpIHtcbiAgICAkbG9hZGVyRmFjdG9yeSA9IGxvYWRlckZhY3Rvcnk7XG4gICAgJGxvYWRlck9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9jYWxTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlTG9jYWxTdG9yYWdlYCBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqXG4gICAqL1xuICB0aGlzLnVzZUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VTdG9yYWdlKCckdHJhbnNsYXRlTG9jYWxTdG9yYWdlJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VDb29raWVTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlQ29va2llU3RvcmFnZWAgc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKi9cbiAgdGhpcy51c2VDb29raWVTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZVN0b3JhZ2UoJyR0cmFuc2xhdGVDb29raWVTdG9yYWdlJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGN1c3RvbSBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqL1xuICB0aGlzLnVzZVN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAkc3RvcmFnZUZhY3RvcnkgPSBzdG9yYWdlRmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3N0b3JhZ2VQcmVmaXhcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHByZWZpeCBmb3Igc3RvcmFnZSBrZXkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggU3RvcmFnZSBrZXkgcHJlZml4XG4gICAqL1xuICB0aGlzLnN0b3JhZ2VQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgaWYgKCFwcmVmaXgpIHtcbiAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxuICAgICRzdG9yYWdlUHJlZml4ID0gcHJlZml4O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZ1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBidWlsdC1pbiBsb2cgaGFuZGxlciB3aGVuIHRyeWluZyB0byB0cmFuc2xhdGVcbiAgICogYSB0cmFuc2xhdGlvbiBJZCB3aGljaCBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBUaGlzIGlzIGFjdHVhbGx5IGEgc2hvcnRjdXQgbWV0aG9kIGZvciBgdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcigpYC5cbiAgICpcbiAgICovXG4gIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCckdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEV4cGVjdHMgYSBmYWN0b3J5IG5hbWUgd2hpY2ggbGF0ZXIgZ2V0cyBpbnN0YW50aWF0ZWQgd2l0aCBgJGluamVjdG9yYC5cbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gdGVsbCBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYSBjdXN0b21cbiAgICogbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlci4gSnVzdCBidWlsZCBhIGZhY3Rvcnkgd2hpY2ggcmV0dXJucyBhIGZ1bmN0aW9uXG4gICAqIGFuZCBleHBlY3RzIGEgdHJhbnNsYXRpb24gaWQgYXMgYXJndW1lbnQuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoJ2N1c3RvbUhhbmRsZXInKTtcbiAgICogIH0pO1xuICAgKlxuICAgKiAgYXBwLmZhY3RvcnkoJ2N1c3RvbUhhbmRsZXInLCBmdW5jdGlvbiAoZGVwMSwgZGVwMikge1xuICAgKiAgICByZXR1cm4gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICogICAgICAvLyBzb21ldGhpbmcgd2l0aCB0cmFuc2xhdGlvbklkIGFuZCBkZXAxIGFuZCBkZXAyXG4gICAqICAgIH07XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEZhY3RvcnkgbmFtZVxuICAgKi9cbiAgdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlUG9zdENvbXBpbGluZ1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElmIHBvc3QgY29tcGlsaW5nIGlzIGVuYWJsZWQsIGFsbCB0cmFuc2xhdGVkIHZhbHVlcyB3aWxsIGJlIHByb2Nlc3NlZFxuICAgKiBhZ2FpbiB3aXRoIEFuZ3VsYXJKUycgJGNvbXBpbGUuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVBvc3RDb21waWxpbmcodHJ1ZSk7XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEZhY3RvcnkgbmFtZVxuICAgKi9cbiAgdGhpcy51c2VQb3N0Q29tcGlsaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJHBvc3RDb21waWxpbmdFbmFibGVkID0gISghdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZm9yY2VBc3luY1JlbG9hZFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElmIGZvcmNlIGFzeW5jIHJlbG9hZCBpcyBlbmFibGVkLCBhc3luYyBsb2FkZXIgd2lsbCBhbHdheXMgYmUgY2FsbGVkXG4gICAqIGV2ZW4gaWYgJHRyYW5zbGF0aW9uVGFibGUgYWxyZWFkeSBjb250YWlucyB0aGUgbGFuZ3VhZ2Uga2V5LCBhZGRpbmdcbiAgICogcG9zc2libGUgbmV3IGVudHJpZXMgdG8gdGhlICR0cmFuc2xhdGlvblRhYmxlLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci5mb3JjZUFzeW5jUmVsb2FkKHRydWUpO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdmFsaWQgdmFsdWVzIGFyZSB0cnVlIG9yIGZhbHNlXG4gICAqL1xuICB0aGlzLmZvcmNlQXN5bmNSZWxvYWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkZm9yY2VBc3luY1JlbG9hZEVuYWJsZWQgPSAhKCF2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1bmlmb3JtTGFuZ3VhZ2VUYWdcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB3aGljaCBsYW5ndWFnZSB0YWcgc2hvdWxkIGJlIHVzZWQgYXMgYSByZXN1bHQgd2hlbiBkZXRlcm1pbmluZ1xuICAgKiB0aGUgY3VycmVudCBicm93c2VyIGxhbmd1YWdlLlxuICAgKlxuICAgKiBUaGlzIHNldHRpbmcgbXVzdCBiZSBzZXQgYmVmb3JlIGludm9raW5nIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNtZXRob2RzX2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlIGRldGVybWluZVByZWZlcnJlZExhbmd1YWdlKCl9LlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAkdHJhbnNsYXRlUHJvdmlkZXJcbiAgICogICAudW5pZm9ybUxhbmd1YWdlVGFnKCdiY3A0NycpXG4gICAqICAgLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlKClcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIFRoZSByZXNvbHZlciBjdXJyZW50bHkgc3VwcG9ydHM6XG4gICAqICogZGVmYXVsdFxuICAgKiAgICAgKHRyYWRpdGlvbmFsbHk6IGh5cGhlbnMgd2lsbCBiZSBjb252ZXJ0ZWQgaW50byB1bmRlcnNjb3JlcywgaS5lLiBlbi1VUyA9PiBlbl9VUylcbiAgICogICAgIGVuLVVTID0+IGVuX1VTXG4gICAqICAgICBlbl9VUyA9PiBlbl9VU1xuICAgKiAgICAgZW4tdXMgPT4gZW5fdXNcbiAgICogKiBqYXZhXG4gICAqICAgICBsaWtlIGRlZmF1bHQsIGJ1dCB0aGUgc2Vjb25kIHBhcnQgd2lsbCBiZSBhbHdheXMgaW4gdXBwZXJjYXNlXG4gICAqICAgICBlbi1VUyA9PiBlbl9VU1xuICAgKiAgICAgZW5fVVMgPT4gZW5fVVNcbiAgICogICAgIGVuLXVzID0+IGVuX1VTXG4gICAqICogQkNQIDQ3IChSRkMgNDY0NiAmIDQ2NDcpXG4gICAqICAgICBlbi1VUyA9PiBlbi1VU1xuICAgKiAgICAgZW5fVVMgPT4gZW4tVVNcbiAgICogICAgIGVuLXVzID0+IGVuLVVTXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKiAqIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSUVURl9sYW5ndWFnZV90YWdcbiAgICogKiBodHRwOi8vd3d3LnczLm9yZy9JbnRlcm5hdGlvbmFsL2NvcmUvbGFuZ3RhZ3MvXG4gICAqICogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvYmNwNDdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyAob3Igc3RhbmRhcmQpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnN0YW5kYXJkIC0gdmFsaWQgdmFsdWVzIGFyZSAnZGVmYXVsdCcsICdiY3A0NycsICdqYXZhJ1xuICAgKi9cbiAgdGhpcy51bmlmb3JtTGFuZ3VhZ2VUYWcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzdGFuZGFyZCA6IG9wdGlvbnNcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdW5pZm9ybUxhbmd1YWdlVGFnUmVzb2x2ZXIgPSBvcHRpb25zLnN0YW5kYXJkO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHRyeSB0byBkZXRlcm1pbmUgb24gaXRzIG93biB3aGljaCBsYW5ndWFnZSBrZXlcbiAgICogdG8gc2V0IGFzIHByZWZlcnJlZCBsYW5ndWFnZS4gV2hlbiBgZm5gIGlzIGdpdmVuLCBhbmd1bGFyLXRyYW5zbGF0ZSB1c2VzIGl0XG4gICAqIHRvIGRldGVybWluZSBhIGxhbmd1YWdlIGtleSwgb3RoZXJ3aXNlIGl0IHVzZXMgdGhlIGJ1aWx0LWluIGBnZXRMb2NhbGUoKWBcbiAgICogbWV0aG9kLlxuICAgKlxuICAgKiBUaGUgYGdldExvY2FsZSgpYCByZXR1cm5zIGEgbGFuZ3VhZ2Uga2V5IGluIHRoZSBmb3JtYXQgYFtsYW5nXV9bY291bnRyeV1gIG9yXG4gICAqIGBbbGFuZ11gIGRlcGVuZGluZyBvbiB3aGF0IHRoZSBicm93c2VyIHByb3ZpZGVzLlxuICAgKlxuICAgKiBVc2UgdGhpcyBtZXRob2QgYXQgeW91ciBvd24gcmlzaywgc2luY2Ugbm90IGFsbCBicm93c2VycyByZXR1cm4gYSB2YWxpZFxuICAgKiBsb2NhbGUgKHNlZSB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjbWV0aG9kc191bmlmb3JtTGFuZ3VhZ2VUYWcgdW5pZm9ybUxhbmd1YWdlVGFnKCl9KS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IGZuIEZ1bmN0aW9uIHRvIGRldGVybWluZSBhIGJyb3dzZXIncyBsb2NhbGVcbiAgICovXG4gIHRoaXMuZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoZm4pIHtcblxuICAgIHZhciBsb2NhbGUgPSAoZm4gJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGZuKSkgPyBmbigpIDogZ2V0TG9jYWxlKCk7XG5cbiAgICBpZiAoISRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoKSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBsb2NhbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IG5lZ290aWF0ZUxvY2FsZShsb2NhbGUpIHx8IGxvY2FsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3JlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgc2V0IG9mIGxhbmd1YWdlIGtleXMgdGhlIGFwcCB3aWxsIHdvcmsgd2l0aC4gVXNlIHRoaXMgbWV0aG9kIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGhcbiAgICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlIGRldGVybWluZVByZWZlcnJlZExhbmd1YWdlfS5cbiAgICogV2hlbiBhdmFpbGFibGUgbGFuZ3VhZ2VzIGtleXMgYXJlIHJlZ2lzdGVyZWQsIGFuZ3VsYXItdHJhbnNsYXRlXG4gICAqIHRyaWVzIHRvIGZpbmQgdGhlIGJlc3QgZml0dGluZyBsYW5ndWFnZSBrZXkgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VycyBsb2NhbGUsXG4gICAqIGNvbnNpZGVyaW5nIHlvdXIgbGFuZ3VhZ2Uga2V5IGNvbnZlbnRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBsYW5ndWFnZUtleXMgQXJyYXkgb2YgbGFuZ3VhZ2Uga2V5cyB0aGUgeW91ciBhcHAgd2lsbCB1c2VcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBhbGlhc2VzIEFsaWFzIG1hcC5cbiAgICovXG4gIHRoaXMucmVnaXN0ZXJBdmFpbGFibGVMYW5ndWFnZUtleXMgPSBmdW5jdGlvbiAobGFuZ3VhZ2VLZXlzLCBhbGlhc2VzKSB7XG4gICAgaWYgKGxhbmd1YWdlS2V5cykge1xuICAgICAgJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IGxhbmd1YWdlS2V5cztcbiAgICAgIGlmIChhbGlhc2VzKSB7XG4gICAgICAgICRsYW5ndWFnZUtleUFsaWFzZXMgPSBhbGlhc2VzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9hZGVyQ2FjaGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBjYWNoZSBmb3IgaW50ZXJuYWwgJGh0dHAgYmFzZWQgbG9hZGVycy5cbiAgICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0aW9uQ2FjaGUgJHRyYW5zbGF0aW9uQ2FjaGV9LlxuICAgKiBXaGVuIGZhbHNlIHRoZSBjYWNoZSB3aWxsIGJlIGRpc2FibGVkIChkZWZhdWx0KS4gV2hlbiB0cnVlIG9yIHVuZGVmaW5lZFxuICAgKiB0aGUgY2FjaGUgd2lsbCBiZSBhIGRlZmF1bHQgKHNlZSAkY2FjaGVGYWN0b3J5KS4gV2hlbiBhbiBvYmplY3QgaXQgd2lsbFxuICAgKiBiZSB0cmVhdCBhcyBhIGNhY2hlIG9iamVjdCBpdHNlbGY6IHRoZSB1c2FnZSBpcyAkaHR0cCh7Y2FjaGU6IGNhY2hlfSlcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNhY2hlIGJvb2xlYW4sIHN0cmluZyBvciBjYWNoZS1vYmplY3RcbiAgICovXG4gIHRoaXMudXNlTG9hZGVyQ2FjaGUgPSBmdW5jdGlvbiAoY2FjaGUpIHtcbiAgICBpZiAoY2FjaGUgPT09IGZhbHNlKSB7XG4gICAgICAvLyBkaXNhYmxlIGNhY2hlXG4gICAgICBsb2FkZXJDYWNoZSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKGNhY2hlID09PSB0cnVlKSB7XG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgQUpTIGRlZmF1bHRzXG4gICAgICBsb2FkZXJDYWNoZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YoY2FjaGUpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIGRlZmF1bHRcbiAgICAgIGxvYWRlckNhY2hlID0gJyR0cmFuc2xhdGlvbkNhY2hlJztcbiAgICB9IGVsc2UgaWYgKGNhY2hlKSB7XG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgZ2l2ZW4gb25lIChzZWUgJGNhY2hlRmFjdG9yeSlcbiAgICAgIGxvYWRlckNhY2hlID0gY2FjaGU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGlyZWN0aXZlUHJpb3JpdHlcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBkZWZhdWx0IHByaW9yaXR5IG9mIHRoZSB0cmFuc2xhdGUgZGlyZWN0aXZlLiBUaGUgc3RhbmRhcmQgdmFsdWUgaXMgYDBgLlxuICAgKiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2l0aG91dCBhbiBhcmd1bWVudCB3aWxsIHJldHVybiB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHByaW9yaXR5IGZvciB0aGUgdHJhbnNsYXRlLWRpcmVjdGl2ZVxuICAgKi9cbiAgdGhpcy5kaXJlY3RpdmVQcmlvcml0eSA9IGZ1bmN0aW9uIChwcmlvcml0eSkge1xuICAgIGlmIChwcmlvcml0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBnZXR0ZXJcbiAgICAgIHJldHVybiBkaXJlY3RpdmVQcmlvcml0eTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2V0dGVyIHdpdGggY2hhaW5pbmdcbiAgICAgIGRpcmVjdGl2ZVByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNzdGF0ZWZ1bEZpbHRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNpbmNlIEFuZ3VsYXJKUyAxLjMsIGZpbHRlcnMgd2hpY2ggYXJlIG5vdCBzdGF0ZWxlc3MgKGRlcGVuZGluZyBhdCB0aGUgc2NvcGUpXG4gICAqIGhhdmUgdG8gZXhwbGljaXQgZGVmaW5lIHRoaXMgYmVoYXZpb3IuXG4gICAqIFNldHMgd2hldGhlciB0aGUgdHJhbnNsYXRlIGZpbHRlciBzaG91bGQgYmUgc3RhdGVmdWwgb3Igc3RhdGVsZXNzLiBUaGUgc3RhbmRhcmQgdmFsdWUgaXMgYHRydWVgXG4gICAqIG1lYW5pbmcgYmVpbmcgc3RhdGVmdWwuXG4gICAqIENhbGxpbmcgdGhpcyBmdW5jdGlvbiB3aXRob3V0IGFuIGFyZ3VtZW50IHdpbGwgcmV0dXJuIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gZGVmaW5lcyB0aGUgc3RhdGUgb2YgdGhlIGZpbHRlclxuICAgKi9cbiAgdGhpcy5zdGF0ZWZ1bEZpbHRlciA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBnZXR0ZXJcbiAgICAgIHJldHVybiBzdGF0ZWZ1bEZpbHRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2V0dGVyIHdpdGggY2hhaW5pbmdcbiAgICAgIHN0YXRlZnVsRmlsdGVyID0gc3RhdGU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNwb3N0UHJvY2Vzc1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBwb3N0IHByb2Nlc3NvciB3aWxsIGJlIGludGVyY2VwdCByaWdodCBhZnRlciB0aGUgdHJhbnNsYXRpb24gcmVzdWx0LiBJdCBjYW4gbW9kaWZ5IHRoZSByZXN1bHQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBmbiBGdW5jdGlvbiBvciBzZXJ2aWNlIG5hbWUgKHN0cmluZykgdG8gYmUgY2FsbGVkIGFmdGVyIHRoZSB0cmFuc2xhdGlvbiB2YWx1ZSBoYXMgYmVlbiBzZXQgLyByZXNvbHZlZC4gVGhlIGZ1bmN0aW9uIGl0c2VsZiB3aWxsIGVucmljaCBldmVyeSB2YWx1ZSBiZWluZyBwcm9jZXNzZWQgYW5kIHRoZW4gY29udGludWUgdGhlIG5vcm1hbCByZXNvbHZlciBwcm9jZXNzXG4gICAqL1xuICB0aGlzLnBvc3RQcm9jZXNzID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgaWYgKGZuKSB7XG4gICAgICBwb3N0UHJvY2Vzc0ZuID0gZm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvc3RQcm9jZXNzRm4gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIja2VlcENvbnRlbnRcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJZiBrZWVwQ29udGVudCBpcyBzZXQgdG8gdHJ1ZSB0aGFuIHRyYW5zbGF0ZSBkaXJlY3RpdmUgd2lsbCBhbHdheXMgdXNlIGlubmVySFRNTFxuICAgKiBhcyBhIGRlZmF1bHQgdHJhbnNsYXRpb25cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogPHByZT5cbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIua2VlcENvbnRlbnQodHJ1ZSk7XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSB2YWxpZCB2YWx1ZXMgYXJlIHRydWUgb3IgZmFsc2VcbiAgICovXG4gIHRoaXMua2VlcENvbnRlbnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAka2VlcENvbnRlbnQgPSAhKCF2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBvYmplY3RcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGVcbiAgICogQHJlcXVpcmVzICRsb2dcbiAgICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAgICogQHJlcXVpcmVzICRxXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgYCR0cmFuc2xhdGVgIHNlcnZpY2UgaXMgdGhlIGFjdHVhbCBjb3JlIG9mIGFuZ3VsYXItdHJhbnNsYXRlLiBJdCBleHBlY3RzIGEgdHJhbnNsYXRpb24gaWRcbiAgICogYW5kIG9wdGlvbmFsIGludGVycG9sYXRlIHBhcmFtZXRlcnMgdG8gdHJhbnNsYXRlIGNvbnRlbnRzLlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAgJHRyYW5zbGF0ZSgnSEVBRExJTkVfVEVYVCcpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAqICAgICRzY29wZS50cmFuc2xhdGVkVGV4dCA9IHRyYW5zbGF0aW9uO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gdHJhbnNsYXRpb25JZCBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBvcHRpb25hbGx5IGFuIGFycmF5IG9mIHRyYW5zbGF0aW9uIGlkcyB3aGljaFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzIHRoYXQgdGhlIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0IHdoZXJlIGVhY2gga2V5XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIHRoZSB0cmFuc2xhdGlvbiBpZCBhbmQgdGhlIHZhbHVlIHRoZSB0cmFuc2xhdGlvbi5cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBpbnRlcnBvbGF0ZVBhcmFtcyBBbiBvYmplY3QgaGFzaCBmb3IgZHluYW1pYyB2YWx1ZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGludGVycG9sYXRpb25JZCBUaGUgaWQgb2YgdGhlIGludGVycG9sYXRpb24gdG8gdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZWZhdWx0VHJhbnNsYXRpb25UZXh0IHRoZSBvcHRpb25hbCBkZWZhdWx0IHRyYW5zbGF0aW9uIHRleHQgdGhhdCBpcyB3cml0dGVuIGFzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzIGRlZmF1bHQgdGV4dCBpbiBjYXNlIGl0IGlzIG5vdCBmb3VuZCBpbiBhbnkgY29uZmlndXJlZCBsYW5ndWFnZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm9yY2VMYW5ndWFnZSBBIGxhbmd1YWdlIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBsYW5ndWFnZVxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBwcm9taXNlXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbJyRsb2cnLCAnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCBmdW5jdGlvbiAoJGxvZywgJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkcSkge1xuXG4gICAgdmFyIFN0b3JhZ2UsXG4gICAgICBkZWZhdWx0SW50ZXJwb2xhdG9yID0gJGluamVjdG9yLmdldCgkaW50ZXJwb2xhdGlvbkZhY3RvcnkgfHwgJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbicpLFxuICAgICAgcGVuZGluZ0xvYWRlciA9IGZhbHNlLFxuICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcCA9IHt9LFxuICAgICAgbGFuZ1Byb21pc2VzID0ge30sXG4gICAgICBmYWxsYmFja0luZGV4LFxuICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbjtcblxuICAgIHZhciAkdHJhbnNsYXRlID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIGZvcmNlTGFuZ3VhZ2UpIHtcbiAgICAgIGlmICghJHVzZXMgJiYgJHByZWZlcnJlZExhbmd1YWdlKSB7XG4gICAgICAgICR1c2VzID0gJHByZWZlcnJlZExhbmd1YWdlO1xuICAgICAgfVxuICAgICAgdmFyIHVzZXMgPSAoZm9yY2VMYW5ndWFnZSAmJiBmb3JjZUxhbmd1YWdlICE9PSAkdXNlcykgPyAvLyB3ZSBkb24ndCB3YW50IHRvIHJlLW5lZ290aWF0ZSAkdXNlc1xuICAgICAgICAobmVnb3RpYXRlTG9jYWxlKGZvcmNlTGFuZ3VhZ2UpIHx8IGZvcmNlTGFuZ3VhZ2UpIDogJHVzZXM7XG5cbiAgICAgIC8vIENoZWNrIGZvcmNlTGFuZ3VhZ2UgaXMgcHJlc2VudFxuICAgICAgaWYgKGZvcmNlTGFuZ3VhZ2UpIHtcbiAgICAgICAgbG9hZFRyYW5zbGF0aW9uc0lmTWlzc2luZyhmb3JjZUxhbmd1YWdlKTtcbiAgICAgIH1cblxuICAgICAgLy8gRHVjayBkZXRlY3Rpb246IElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhbiBhcnJheSwgYSBidW5jaCBvZiB0cmFuc2xhdGlvbnMgd2FzIHJlcXVlc3RlZC5cbiAgICAgIC8vIFRoZSByZXN1bHQgaXMgYW4gb2JqZWN0LlxuICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAvLyBJbnNwaXJlZCBieSBRLmFsbFNldHRsZWQgYnkgS3JpcyBLb3dhbFxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EvYmxvYi9iMGZhNzI5ODA3MTdkYzIwMmZmYzNjYmYwM2I5MzZlMTBlYmJiOWQ3L3EuanMjTDE1NTMtMTU2M1xuICAgICAgICAvLyBUaGlzIHRyYW5zZm9ybXMgYWxsIHByb21pc2VzIHJlZ2FyZGxlc3MgcmVzb2x2ZWQgb3IgcmVqZWN0ZWRcbiAgICAgICAgdmFyIHRyYW5zbGF0ZUFsbCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkcykge1xuICAgICAgICAgIHZhciByZXN1bHRzID0ge307IC8vIHN0b3JpbmcgdGhlIGFjdHVhbCByZXN1bHRzXG4gICAgICAgICAgdmFyIHByb21pc2VzID0gW107IC8vIHByb21pc2VzIHRvIHdhaXQgZm9yXG4gICAgICAgICAgLy8gV3JhcHMgdGhlIHByb21pc2UgYSkgYmVpbmcgYWx3YXlzIHJlc29sdmVkIGFuZCBiKSBzdG9yaW5nIHRoZSBsaW5rIGlkLT52YWx1ZVxuICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciByZWdhcmRsZXNzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHNbdHJhbnNsYXRpb25JZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShbdHJhbnNsYXRpb25JZCwgdmFsdWVdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjYXJlIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlc29sdmVkIG9yIHJlamVjdGVkOyBqdXN0IHN0b3JlIHRoZSB2YWx1ZXNcbiAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgZm9yY2VMYW5ndWFnZSkudGhlbihyZWdhcmRsZXNzLCByZWdhcmRsZXNzKTtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkcy5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2godHJhbnNsYXRlKHRyYW5zbGF0aW9uSWRzW2ldKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdhaXQgZm9yIGFsbCAoaW5jbHVkaW5nIHN0b3JpbmcgdG8gcmVzdWx0cylcbiAgICAgICAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcmVzdWx0c1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVBbGwodHJhbnNsYXRpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXG4gICAgICBpZiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2VUb1dhaXRGb3IgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9ICRwcmVmZXJyZWRMYW5ndWFnZSA/XG4gICAgICAgICAgbGFuZ1Byb21pc2VzWyRwcmVmZXJyZWRMYW5ndWFnZV0gOlxuICAgICAgICAgIGxhbmdQcm9taXNlc1t1c2VzXTtcblxuICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcblxuICAgICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5ICYmICFwcm9taXNlKSB7XG4gICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGVyZSdzIG5vIHBlbmRpbmcgcHJvbWlzZSBmb3IgJHByZWZlcnJlZExhbmd1YWdlIG9yXG4gICAgICAgICAgLy8gJHVzZXMuIE1heWJlIHRoZXJlJ3Mgb25lIHBlbmRpbmcgZm9yIGEgbGFuZ3VhZ2UgdGhhdCBjb21lcyBmcm9tXG4gICAgICAgICAgLy8gc3RvcmFnZS5cbiAgICAgICAgICB2YXIgbGFuZ0tleSA9IFN0b3JhZ2UuZ2V0KCRzdG9yYWdlS2V5KTtcbiAgICAgICAgICBwcm9taXNlID0gbGFuZ1Byb21pc2VzW2xhbmdLZXldO1xuXG4gICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgbGFuZ0tleSk7XG4gICAgICAgICAgICAvLyBtYXliZSB0aGUgbGFuZ3VhZ2UgZnJvbSBzdG9yYWdlIGlzIGFsc28gZGVmaW5lZCBhcyBmYWxsYmFjayBsYW5ndWFnZVxuICAgICAgICAgICAgLy8gd2UgaW5jcmVhc2UgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIGluZGV4IHRvIG5vdCBzZWFyY2ggaW4gdGhhdCBsYW5ndWFnZVxuICAgICAgICAgICAgLy8gYXMgZmFsbGJhY2ssIHNpbmNlIGl0J3MgcHJvYmFibHkgdGhlIGZpcnN0IHVzZWQgbGFuZ3VhZ2VcbiAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSB0aGUgaW5kZXggc3RhcnRzIGFmdGVyIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICBmYWxsYmFja0luZGV4ID0gKGluZGV4ID09PSAwKSA/IDEgOiAwO1xuXG4gICAgICAgICAgICAvLyBidXQgd2UgY2FuIG1ha2Ugc3VyZSB0byBBTFdBWVMgZmFsbGJhY2sgdG8gcHJlZmVycmVkIGxhbmd1YWdlIGF0IGxlYXN0XG4gICAgICAgICAgICBpZiAoaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgJHByZWZlcnJlZExhbmd1YWdlKSA8IDApIHtcbiAgICAgICAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH0oKSk7XG5cbiAgICAgIGlmICghcHJvbWlzZVRvV2FpdEZvcikge1xuICAgICAgICAvLyBubyBwcm9taXNlIHRvIHdhaXQgZm9yPyBva2F5LiBUaGVuIHRoZXJlJ3Mgbm8gbG9hZGVyIHJlZ2lzdGVyZWRcbiAgICAgICAgLy8gbm9yIGlzIGEgb25lIHBlbmRpbmcgZm9yIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbSBzdG9yYWdlLlxuICAgICAgICAvLyBXZSBjYW4ganVzdCB0cmFuc2xhdGUuXG4gICAgICAgIGRldGVybWluZVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHVzZXMpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwcm9taXNlUmVzb2x2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gJHVzZXMgbWF5IGhhdmUgY2hhbmdlZCB3aGlsZSB3YWl0aW5nXG4gICAgICAgICAgaWYgKCFmb3JjZUxhbmd1YWdlKSB7XG4gICAgICAgICAgICB1c2VzID0gJHVzZXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRldGVybWluZVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHVzZXMpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvbWlzZVJlc29sdmVkLmRpc3BsYXlOYW1lID0gJ3Byb21pc2VSZXNvbHZlZCc7XG5cbiAgICAgICAgcHJvbWlzZVRvV2FpdEZvclsnZmluYWxseSddKHByb21pc2VSZXNvbHZlZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgYXBwbHlOb3RGb3VuZEluZGljYXRvcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQXBwbGllcyBub3QgZm91bnQgaW5kaWNhdG9ycyB0byBnaXZlbiB0cmFuc2xhdGlvbiBpZCwgaWYgbmVlZGVkLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gZ2V0cyBvbmx5IGV4ZWN1dGVkLCBpZiBhIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogd2hpY2ggaXMgd2h5IGEgdHJhbnNsYXRpb24gaWQgaXMgZXhwZWN0ZWQgYXMgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBUcmFuc2xhdGlvbiBpZC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBTYW1lIGFzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGJ1dCBhcHBsaWVkIHdpdGggbm90IGZvdW5kXG4gICAgICogaW5kaWNhdG9ycy5cbiAgICAgKi9cbiAgICB2YXIgYXBwbHlOb3RGb3VuZEluZGljYXRvcnMgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgLy8gYXBwbHlpbmcgbm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCkge1xuICAgICAgICB0cmFuc2xhdGlvbklkID0gWyRub3RGb3VuZEluZGljYXRvckxlZnQsIHRyYW5zbGF0aW9uSWRdLmpvaW4oJyAnKTtcbiAgICAgIH1cbiAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JSaWdodCkge1xuICAgICAgICB0cmFuc2xhdGlvbklkID0gW3RyYW5zbGF0aW9uSWQsICRub3RGb3VuZEluZGljYXRvclJpZ2h0XS5qb2luKCcgJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgdXNlTGFuZ3VhZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogTWFrZXMgYWN0dWFsIHVzZSBvZiBhIGxhbmd1YWdlIGJ5IHNldHRpbmcgYSBnaXZlbiBsYW5ndWFnZSBrZXkgYXMgdXNlZFxuICAgICAqIGxhbmd1YWdlIGFuZCBpbmZvcm1zIHJlZ2lzdGVyZWQgaW50ZXJwb2xhdG9ycyB0byBhbHNvIHVzZSB0aGUgZ2l2ZW5cbiAgICAgKiBrZXkgYXMgbG9jYWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBMb2NhbGUga2V5LlxuICAgICAqL1xuICAgIHZhciB1c2VMYW5ndWFnZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICR1c2VzID0ga2V5O1xuXG4gICAgICAvLyBtYWtlIHN1cmUgdG8gc3RvcmUgbmV3IGxhbmd1YWdlIGtleSBiZWZvcmUgdHJpZ2dlcmluZyBzdWNjZXNzIGV2ZW50XG4gICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgICAgIFN0b3JhZ2UucHV0KCR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLCAkdXNlcyk7XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywge2xhbmd1YWdlIDoga2V5fSk7XG5cbiAgICAgIC8vIGluZm9ybSBkZWZhdWx0IGludGVycG9sYXRvclxuICAgICAgZGVmYXVsdEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuXG4gICAgICB2YXIgZWFjaEludGVycG9sYXRvciA9IGZ1bmN0aW9uIChpbnRlcnBvbGF0b3IsIGlkKSB7XG4gICAgICAgIGludGVycG9sYXRvckhhc2hNYXBbaWRdLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICB9O1xuICAgICAgZWFjaEludGVycG9sYXRvci5kaXNwbGF5TmFtZSA9ICdlYWNoSW50ZXJwb2xhdG9yTG9jYWxlU2V0dGVyJztcblxuICAgICAgLy8gaW5mb3JtIGFsbCBvdGhlcnMgdG9vIVxuICAgICAgYW5ndWxhci5mb3JFYWNoKGludGVycG9sYXRvckhhc2hNYXAsIGVhY2hJbnRlcnBvbGF0b3IpO1xuICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBsb2FkQXN5bmNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogS2lja3Mgb2YgcmVnaXN0ZXJlZCBhc3luYyBsb2FkZXIgdXNpbmcgYCRpbmplY3RvcmAgYW5kIGFwcGxpZXMgZXhpc3RpbmdcbiAgICAgKiBsb2FkZXIgb3B0aW9ucy4gV2hlbiByZXNvbHZlZCwgaXQgdXBkYXRlcyB0cmFuc2xhdGlvbiB0YWJsZXMgYWNjb3JkaW5nbHlcbiAgICAgKiBvciByZWplY3RzIHdpdGggZ2l2ZW4gbGFuZ3VhZ2Uga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBMYW5ndWFnZSBrZXkuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlLlxuICAgICAqL1xuICAgIHZhciBsb2FkQXN5bmMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoIWtleSkge1xuICAgICAgICB0aHJvdyAnTm8gbGFuZ3VhZ2Uga2V5IHNwZWNpZmllZCBmb3IgbG9hZGluZy4nO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ1N0YXJ0Jywge2xhbmd1YWdlIDoga2V5fSk7XG4gICAgICBwZW5kaW5nTG9hZGVyID0gdHJ1ZTtcblxuICAgICAgdmFyIGNhY2hlID0gbG9hZGVyQ2FjaGU7XG4gICAgICBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gZ2V0dGluZyBvbi1kZW1hbmQgaW5zdGFuY2Ugb2YgbG9hZGVyXG4gICAgICAgIGNhY2hlID0gJGluamVjdG9yLmdldChjYWNoZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBsb2FkZXJPcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sICRsb2FkZXJPcHRpb25zLCB7XG4gICAgICAgIGtleSA6IGtleSxcbiAgICAgICAgJGh0dHAgOiBhbmd1bGFyLmV4dGVuZCh7fSwge1xuICAgICAgICAgIGNhY2hlIDogY2FjaGVcbiAgICAgICAgfSwgJGxvYWRlck9wdGlvbnMuJGh0dHApXG4gICAgICB9KTtcblxuICAgICAgdmFyIG9uTG9hZGVyU3VjY2VzcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciB0cmFuc2xhdGlvblRhYmxlID0ge307XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nU3VjY2VzcycsIHtsYW5ndWFnZSA6IGtleX0pO1xuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0cmFuc2xhdGlvblRhYmxlLCBmbGF0T2JqZWN0KHRhYmxlKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW5ndWxhci5leHRlbmQodHJhbnNsYXRpb25UYWJsZSwgZmxhdE9iamVjdChkYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgcGVuZGluZ0xvYWRlciA9IGZhbHNlO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcbiAgICAgICAgICBrZXkgOiBrZXksXG4gICAgICAgICAgdGFibGUgOiB0cmFuc2xhdGlvblRhYmxlXG4gICAgICAgIH0pO1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ0VuZCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgICAgfTtcbiAgICAgIG9uTG9hZGVyU3VjY2Vzcy5kaXNwbGF5TmFtZSA9ICdvbkxvYWRlclN1Y2Nlc3MnO1xuXG4gICAgICB2YXIgb25Mb2FkZXJFcnJvciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFcnJvcicsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgICAgICBkZWZlcnJlZC5yZWplY3Qoa2V5KTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICAgIH07XG4gICAgICBvbkxvYWRlckVycm9yLmRpc3BsYXlOYW1lID0gJ29uTG9hZGVyRXJyb3InO1xuXG4gICAgICAkaW5qZWN0b3IuZ2V0KCRsb2FkZXJGYWN0b3J5KShsb2FkZXJPcHRpb25zKVxuICAgICAgICAudGhlbihvbkxvYWRlclN1Y2Nlc3MsIG9uTG9hZGVyRXJyb3IpO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgaWYgKCRzdG9yYWdlRmFjdG9yeSkge1xuICAgICAgU3RvcmFnZSA9ICRpbmplY3Rvci5nZXQoJHN0b3JhZ2VGYWN0b3J5KTtcblxuICAgICAgaWYgKCFTdG9yYWdlLmdldCB8fCAhU3RvcmFnZS5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IHVzZSBzdG9yYWdlIFxcJycgKyAkc3RvcmFnZUZhY3RvcnkgKyAnXFwnLCBtaXNzaW5nIGdldCgpIG9yIHB1dCgpIG1ldGhvZCEnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGFkZGl0aW9uYWwgaW50ZXJwb2xhdGlvbnMgdGhhdCB3ZXJlIGFkZGVkIHZpYVxuICAgIC8vICR0cmFuc2xhdGVQcm92aWRlci5hZGRJbnRlcnBvbGF0aW9uKCksIHdlIGhhdmUgdG8gbWFwJ2VtXG4gICAgaWYgKCRpbnRlcnBvbGF0b3JGYWN0b3JpZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgZWFjaEludGVycG9sYXRpb25GYWN0b3J5ID0gZnVuY3Rpb24gKGludGVycG9sYXRvckZhY3RvcnkpIHtcbiAgICAgICAgdmFyIGludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoaW50ZXJwb2xhdG9yRmFjdG9yeSk7XG4gICAgICAgIC8vIHNldHRpbmcgaW5pdGlhbCBsb2NhbGUgZm9yIGVhY2ggaW50ZXJwb2xhdGlvbiBzZXJ2aWNlXG4gICAgICAgIGludGVycG9sYXRvci5zZXRMb2NhbGUoJHByZWZlcnJlZExhbmd1YWdlIHx8ICR1c2VzKTtcbiAgICAgICAgLy8gbWFrZSdlbSByZWNvZ25pemFibGUgdGhyb3VnaCBpZFxuICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRvci5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllcigpXSA9IGludGVycG9sYXRvcjtcbiAgICAgIH07XG4gICAgICBlYWNoSW50ZXJwb2xhdGlvbkZhY3RvcnkuZGlzcGxheU5hbWUgPSAnaW50ZXJwb2xhdGlvbkZhY3RvcnlBZGRlcic7XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLCBlYWNoSW50ZXJwb2xhdGlvbkZhY3RvcnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIGdldFRyYW5zbGF0aW9uVGFibGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNsYXRpb24gdGFibGVcbiAgICAgKiBvciBpcyByZWplY3RlZCBpZiBhbiBlcnJvciBvY2N1cnJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsYW5nS2V5XG4gICAgICogQHJldHVybnMge1EucHJvbWlzZX1cbiAgICAgKi9cbiAgICB2YXIgZ2V0VHJhbnNsYXRpb25UYWJsZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgkdHJhbnNsYXRpb25UYWJsZSwgbGFuZ0tleSkpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSk7XG4gICAgICB9IGVsc2UgaWYgKGxhbmdQcm9taXNlc1tsYW5nS2V5XSkge1xuICAgICAgICB2YXIgb25SZXNvbHZlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS50YWJsZSk7XG4gICAgICAgIH07XG4gICAgICAgIG9uUmVzb2x2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGlvblRhYmxlUmVzb2x2ZXInO1xuICAgICAgICBsYW5nUHJvbWlzZXNbbGFuZ0tleV0udGhlbihvblJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHRvIHRoZSB0cmFuc2xhdGlvblxuICAgICAqIG9yIGJlIHJlamVjdGVkIGlmIG5vIHRyYW5zbGF0aW9uIHdhcyBmb3VuZCBmb3IgdGhlIGxhbmd1YWdlLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY3VycmVudGx5IG9ubHkgdXNlZCBmb3IgZmFsbGJhY2sgbGFuZ3VhZ2UgdHJhbnNsYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFuZ0tleSBUaGUgbGFuZ3VhZ2UgdG8gdHJhbnNsYXRlIHRvLlxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XG4gICAgICovXG4gICAgdmFyIGdldEZhbGxiYWNrVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgdmFyIG9uUmVzb2x2ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHJhbnNsYXRpb25UYWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKGxhbmdLZXkpO1xuICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF07XG4gICAgICAgICAgaWYgKHRyYW5zbGF0aW9uLnN1YnN0cigwLCAyKSA9PT0gJ0A6Jykge1xuICAgICAgICAgICAgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbihsYW5nS2V5LCB0cmFuc2xhdGlvbi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpXG4gICAgICAgICAgICAgIC50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0ZWRWYWx1ZSA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCBpbnRlcnBvbGF0ZVBhcmFtcywgJ3NlcnZpY2UnKTtcbiAgICAgICAgICAgIGludGVycG9sYXRlZFZhbHVlID0gYXBwbHlQb3N0UHJvY2Vzc2luZyh0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgaW50ZXJwb2xhdGVQYXJhbXMsIGxhbmdLZXkpO1xuXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGludGVycG9sYXRlZFZhbHVlKTtcblxuICAgICAgICAgIH1cbiAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG9uUmVzb2x2ZS5kaXNwbGF5TmFtZSA9ICdmYWxsYmFja1RyYW5zbGF0aW9uUmVzb2x2ZXInO1xuXG4gICAgICBnZXRUcmFuc2xhdGlvblRhYmxlKGxhbmdLZXkpLnRoZW4ob25SZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhIHRyYW5zbGF0aW9uXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBjdXJyZW50bHkgb25seSB1c2VkIGZvciBmYWxsYmFjayBsYW5ndWFnZSB0cmFuc2xhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsYW5nS2V5IFRoZSBsYW5ndWFnZSB0byB0cmFuc2xhdGUgdG8uXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICogQHBhcmFtIHNhbml0aXplU3RyYXRlZ3kgc2FuaXRpemUgc3RyYXRlZ3kgb3ZlcnJpZGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgdmFyIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIHZhciByZXN1bHQsIHRyYW5zbGF0aW9uVGFibGUgPSAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XTtcblxuICAgICAgaWYgKHRyYW5zbGF0aW9uVGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zbGF0aW9uVGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUobGFuZ0tleSk7XG4gICAgICAgIHJlc3VsdCA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCBpbnRlcnBvbGF0ZVBhcmFtcywgJ2ZpbHRlcicsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICByZXN1bHQgPSBhcHBseVBvc3RQcm9jZXNzaW5nKHRyYW5zbGF0aW9uSWQsIHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIHJlc3VsdCwgaW50ZXJwb2xhdGVQYXJhbXMsIGxhbmdLZXksIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBUcnVzdGVkVmFsdWVIb2xkZXJUeXBlXG4gICAgICAgIGlmICghYW5ndWxhci5pc1N0cmluZyhyZXN1bHQpICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihyZXN1bHQuJCR1bndyYXBUcnVzdGVkVmFsdWUpKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdDIgPSByZXN1bHQuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtcbiAgICAgICAgICBpZiAocmVzdWx0Mi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudChsYW5nS2V5LCByZXN1bHQyLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQobGFuZ0tleSwgcmVzdWx0LnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIH1cbiAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgdHJhbnNsYXRlQnlIYW5kbGVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIFRyYW5zbGF0ZSBieSBtaXNzaW5nIHRyYW5zbGF0aW9uIGhhbmRsZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAqIEBwYXJhbSBkZWZhdWx0VHJhbnNsYXRpb25UZXh0XG4gICAgICogQHBhcmFtIHNhbml0aXplU3RyYXRlZ3kgc2FuaXRpemUgc3RyYXRlZ3kgb3ZlcnJpZGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRyYW5zbGF0aW9uIGNyZWF0ZWQgYnkgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgb3IgdHJhbnNsYXRpb25JZCBpcyAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciBpc1xuICAgICAqIGFic2VudFxuICAgICAqL1xuICAgIHZhciB0cmFuc2xhdGVCeUhhbmRsZXIgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBoYW5kbGVyIGZhY3RvcnkgLSB3ZSBtaWdodCBhbHNvIGNhbGwgaXQgaGVyZSB0byBkZXRlcm1pbmUgaWYgaXQgcHJvdmlkZXNcbiAgICAgIC8vIGEgZGVmYXVsdCB0ZXh0IGZvciBhIHRyYW5zbGF0aW9uaWQgdGhhdCBjYW4ndCBiZSBmb3VuZCBhbnl3aGVyZSBpbiBvdXIgdGFibGVzXG4gICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5KSB7XG4gICAgICAgIHJldHVybiAkaW5qZWN0b3IuZ2V0KCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkodHJhbnNsYXRpb25JZCwgJHVzZXMsIGludGVycG9sYXRlUGFyYW1zLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZVxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBSZWN1cnNpdmUgaGVscGVyIGZ1bmN0aW9uIGZvciBmYWxsYmFja1RyYW5zbGF0aW9uIHRoYXQgd2lsbCBzZXF1ZW50aWFsbHkgbG9va1xuICAgICAqIGZvciBhIHRyYW5zbGF0aW9uIGluIHRoZSBmYWxsYmFja0xhbmd1YWdlcyBzdGFydGluZyB3aXRoIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYWxsYmFja0xhbmd1YWdlSW5kZXhcbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfSBQcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHRvIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICBpZiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4IDwgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHZhciBsYW5nS2V5ID0gJGZhbGxiYWNrTGFuZ3VhZ2VbZmFsbGJhY2tMYW5ndWFnZUluZGV4XTtcbiAgICAgICAgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbihsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gTG9vayBpbiB0aGUgbmV4dCBmYWxsYmFjayBsYW5ndWFnZSBmb3IgYSB0cmFuc2xhdGlvbi5cbiAgICAgICAgICAgIC8vIEl0IGRlbGF5cyB0aGUgcmVzb2x2aW5nIGJ5IHBhc3NpbmcgYW5vdGhlciBwcm9taXNlIHRvIHJlc29sdmUuXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoZmFsbGJhY2tMYW5ndWFnZUluZGV4ICsgMSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIHRyYW5zbGF0aW9uIGZvdW5kIGluIGFueSBmYWxsYmFjayBsYW5ndWFnZVxuICAgICAgICAvLyBpZiBhIGRlZmF1bHQgdHJhbnNsYXRpb24gdGV4dCBpcyBzZXQgaW4gdGhlIGRpcmVjdGl2ZSwgdGhlbiByZXR1cm4gdGhpcyBhcyBhIHJlc3VsdFxuICAgICAgICBpZiAoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG5cbiAgICAgICAgICAvLyBpZiBubyBkZWZhdWx0IHRyYW5zbGF0aW9uIGlzIHNldCBhbmQgYW4gZXJyb3IgaGFuZGxlciBpcyBkZWZpbmVkLCBzZW5kIGl0IHRvIHRoZSBoYW5kbGVyXG4gICAgICAgICAgLy8gYW5kIHRoZW4gcmV0dXJuIHRoZSByZXN1bHQgaWYgaXQgaXNuJ3QgdW5kZWZpbmVkXG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogUmVjdXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFsbGJhY2tUcmFuc2xhdGlvbiB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IGxvb2tcbiAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmFsbGJhY2tMYW5ndWFnZUluZGV4XG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICogQHBhcmFtIHNhbml0aXplU3RyYXRlZ3lcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAqL1xuICAgIHZhciByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQgPSBmdW5jdGlvbiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG4gICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICBpZiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4IDwgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHZhciBsYW5nS2V5ID0gJGZhbGxiYWNrTGFuZ3VhZ2VbZmFsbGJhY2tMYW5ndWFnZUluZGV4XTtcbiAgICAgICAgcmVzdWx0ID0gZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIGlmICghcmVzdWx0ICYmIHJlc3VsdCAhPT0gJycpIHtcbiAgICAgICAgICByZXN1bHQgPSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQoZmFsbGJhY2tMYW5ndWFnZUluZGV4ICsgMSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9IFByb21pc2UsIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uLlxuICAgICAqL1xuICAgIHZhciBmYWxsYmFja1RyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQpIHtcbiAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGZhbGxiYWNrTGFuZ3VhZ2Ugd2l0aCBpbmRleCAwXG4gICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPiAwID8gc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA6IGZhbGxiYWNrSW5kZXgpLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB3aXRoIHRoZSB1c2FnZSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICB2YXIgZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSkge1xuICAgICAgLy8gU3RhcnQgd2l0aCB0aGUgZmFsbGJhY2tMYW5ndWFnZSB3aXRoIGluZGV4IDBcbiAgICAgIHJldHVybiByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPiAwID8gc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA6IGZhbGxiYWNrSW5kZXgpLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICB9O1xuXG4gICAgdmFyIGRldGVybWluZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHVzZXMpIHtcblxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgdmFyIHRhYmxlID0gdXNlcyA/ICR0cmFuc2xhdGlvblRhYmxlW3VzZXNdIDogJHRyYW5zbGF0aW9uVGFibGUsXG4gICAgICAgIEludGVycG9sYXRvciA9IChpbnRlcnBvbGF0aW9uSWQpID8gaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0aW9uSWRdIDogZGVmYXVsdEludGVycG9sYXRvcjtcblxuICAgICAgLy8gaWYgdGhlIHRyYW5zbGF0aW9uIGlkIGV4aXN0cywgd2UgY2FuIGp1c3QgaW50ZXJwb2xhdGUgaXRcbiAgICAgIGlmICh0YWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHRhYmxlW3RyYW5zbGF0aW9uSWRdO1xuXG4gICAgICAgIC8vIElmIHVzaW5nIGxpbmssIHJlcnVuICR0cmFuc2xhdGUgd2l0aCBsaW5rZWQgdHJhbnNsYXRpb25JZCBhbmQgcmV0dXJuIGl0XG4gICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcblxuICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb24uc3Vic3RyKDIpLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCB1c2VzKVxuICAgICAgICAgICAgLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHZhciByZXNvbHZlZFRyYW5zbGF0aW9uID0gSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcywgJ3NlcnZpY2UnKTtcbiAgICAgICAgICByZXNvbHZlZFRyYW5zbGF0aW9uID0gYXBwbHlQb3N0UHJvY2Vzc2luZyh0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvbiwgcmVzb2x2ZWRUcmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMsIHVzZXMpO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzb2x2ZWRUcmFuc2xhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgIC8vIGZvciBsb2dnaW5nIHB1cnBvc2VzIG9ubHkgKGFzIGluICR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nKSwgdmFsdWUgaXMgbm90IHJldHVybmVkIHRvIHByb21pc2VcbiAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaW5jZSB3ZSBjb3VsZG4ndCB0cmFuc2xhdGUgdGhlIGluaXRhbCByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQsXG4gICAgICAgIC8vIHdlIHRyeSBpdCBub3cgd2l0aCBvbmUgb3IgbW9yZSBmYWxsYmFjayBsYW5ndWFnZXMsIGlmIGZhbGxiYWNrIGxhbmd1YWdlKHMpIGlzXG4gICAgICAgIC8vIGNvbmZpZ3VyZWQuXG4gICAgICAgIGlmICh1c2VzICYmICRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIGZhbGxiYWNrVHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0aW9uKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChfdHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYXBwbHlOb3RGb3VuZEluZGljYXRvcnMoX3RyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdHMuXG4gICAgICAgICAgLy8gTm93LCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgbWlzc2luZyB0cmFuc2xhdGlvbnMgYW5kIG5vXG4gICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxuICAgICAgICAgIGlmIChkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRlZmF1bHRUcmFuc2xhdGlvblRleHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRlZmF1bHRUcmFuc2xhdGlvblRleHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIHZhciBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgdXNlcywgc2FuaXRpemVTdHJhdGVneSkge1xuXG4gICAgICB2YXIgcmVzdWx0LCB0YWJsZSA9IHVzZXMgPyAkdHJhbnNsYXRpb25UYWJsZVt1c2VzXSA6ICR0cmFuc2xhdGlvblRhYmxlLFxuICAgICAgICBJbnRlcnBvbGF0b3IgPSBkZWZhdWx0SW50ZXJwb2xhdG9yO1xuXG4gICAgICAvLyBpZiB0aGUgaW50ZXJwb2xhdGlvbiBpZCBleGlzdHMgdXNlIGN1c3RvbSBpbnRlcnBvbGF0b3JcbiAgICAgIGlmIChpbnRlcnBvbGF0b3JIYXNoTWFwICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnRlcnBvbGF0b3JIYXNoTWFwLCBpbnRlcnBvbGF0aW9uSWQpKSB7XG4gICAgICAgIEludGVycG9sYXRvciA9IGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdGlvbklkXTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhlIHRyYW5zbGF0aW9uIGlkIGV4aXN0cywgd2UgY2FuIGp1c3QgaW50ZXJwb2xhdGUgaXRcbiAgICAgIGlmICh0YWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHRhYmxlW3RyYW5zbGF0aW9uSWRdO1xuXG4gICAgICAgIC8vIElmIHVzaW5nIGxpbmssIHJlcnVuICR0cmFuc2xhdGUgd2l0aCBsaW5rZWQgdHJhbnNsYXRpb25JZCBhbmQgcmV0dXJuIGl0XG4gICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcbiAgICAgICAgICByZXN1bHQgPSBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb24uc3Vic3RyKDIpLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCB1c2VzLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zLCAnZmlsdGVyJywgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgICAgcmVzdWx0ID0gYXBwbHlQb3N0UHJvY2Vzc2luZyh0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvbiwgcmVzdWx0LCBpbnRlcnBvbGF0ZVBhcmFtcywgdXNlcywgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgIC8vIGZvciBsb2dnaW5nIHB1cnBvc2VzIG9ubHkgKGFzIGluICR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nKSwgdmFsdWUgaXMgbm90IHJldHVybmVkIHRvIHByb21pc2VcbiAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaW5jZSB3ZSBjb3VsZG4ndCB0cmFuc2xhdGUgdGhlIGluaXRhbCByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQsXG4gICAgICAgIC8vIHdlIHRyeSBpdCBub3cgd2l0aCBvbmUgb3IgbW9yZSBmYWxsYmFjayBsYW5ndWFnZXMsIGlmIGZhbGxiYWNrIGxhbmd1YWdlKHMpIGlzXG4gICAgICAgIC8vIGNvbmZpZ3VyZWQuXG4gICAgICAgIGlmICh1c2VzICYmICRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIGZhbGxiYWNrSW5kZXggPSAwO1xuICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9IGVsc2UgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdHMuXG4gICAgICAgICAgLy8gTm93LCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgbWlzc2luZyB0cmFuc2xhdGlvbnMgYW5kIG5vXG4gICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxuICAgICAgICAgIHJlc3VsdCA9IG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICB2YXIgY2xlYXJOZXh0TGFuZ0FuZFByb21pc2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoJG5leHRMYW5nID09PSBrZXkpIHtcbiAgICAgICAgJG5leHRMYW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGFuZ1Byb21pc2VzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgIHZhciBhcHBseVBvc3RQcm9jZXNzaW5nID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIHRyYW5zbGF0aW9uLCByZXNvbHZlZFRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcywgdXNlcywgc2FuaXRpemVTdHJhdGVneSkge1xuICAgICAgdmFyIGZuID0gcG9zdFByb2Nlc3NGbjtcblxuICAgICAgaWYgKGZuKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZihmbikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgLy8gZ2V0dGluZyBvbi1kZW1hbmQgaW5zdGFuY2VcbiAgICAgICAgICBmbiA9ICRpbmplY3Rvci5nZXQoZm4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbikge1xuICAgICAgICAgIHJldHVybiBmbih0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvbiwgcmVzb2x2ZWRUcmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNvbHZlZFRyYW5zbGF0aW9uO1xuICAgIH07XG5cbiAgICB2YXIgbG9hZFRyYW5zbGF0aW9uc0lmTWlzc2luZyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghJHRyYW5zbGF0aW9uVGFibGVba2V5XSAmJiAkbG9hZGVyRmFjdG9yeSAmJiAhbGFuZ1Byb21pc2VzW2tleV0pIHtcbiAgICAgICAgbGFuZ1Byb21pc2VzW2tleV0gPSBsb2FkQXN5bmMoa2V5KS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcHJlZmVycmVkTGFuZ3VhZ2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgZm9yIHRoZSBwcmVmZXJyZWQgbGFuZ3VhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBsYW5ndWFnZSBTdHJpbmcgb3IgQXJyYXkgdG8gYmUgdXNlZCBhcyBwcmVmZXJyZWRMYW5ndWFnZSAoY2hhbmdpbmcgYXQgcnVudGltZSlcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gcHJlZmVycmVkIGxhbmd1YWdlIGtleVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgICAgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZShsYW5nS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNjbG9ha0NsYXNzTmFtZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyZWQgY2xhc3MgbmFtZSBmb3IgYHRyYW5zbGF0ZS1jbG9ha2AgZGlyZWN0aXZlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBjbG9ha0NsYXNzTmFtZVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGNsb2FrQ2xhc3NOYW1lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbmVzdGVkT2JqZWN0RGVsaW1ldGVyXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgY29uZmlndXJlZCBkZWxpbWl0ZXIgZm9yIG5lc3RlZCBuYW1lc3BhY2VzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBuZXN0ZWRPYmplY3REZWxpbWV0ZXJcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLm5lc3RlZE9iamVjdERlbGltZXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkbmVzdGVkT2JqZWN0RGVsaW1ldGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjZmFsbGJhY2tMYW5ndWFnZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBmb3IgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcyBvciBzZXRzIGEgbmV3IGZhbGxiYWNrIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IGxhbmd1YWdlIFN0cmluZyBvciBBcnJheSBvZiBmYWxsYmFjayBsYW5ndWFnZXMgdG8gYmUgdXNlZCAodG8gY2hhbmdlIHN0YWNrIGF0IHJ1bnRpbWUpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8fGFycmF5fSBmYWxsYmFjayBsYW5ndWFnZSBrZXlcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgaWYgKGxhbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBsYW5nS2V5ICE9PSBudWxsKSB7XG4gICAgICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XG5cbiAgICAgICAgLy8gYXMgd2UgbWlnaHQgaGF2ZSBhbiBhc3luYyBsb2FkZXIgaW5pdGlhdGVkIGFuZCBhIG5ldyB0cmFuc2xhdGlvbiBsYW5ndWFnZSBtaWdodCBoYXZlIGJlZW4gZGVmaW5lZFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGFkZCB0aGUgcHJvbWlzZSB0byB0aGUgc3RhY2sgYWxzby4gU28gLSBpdGVyYXRlLlxuICAgICAgICBpZiAoJGxvYWRlckZhY3RvcnkpIHtcbiAgICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKCFsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dKSB7XG4gICAgICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSA9IGxvYWRBc3luYygkZmFsbGJhY2tMYW5ndWFnZVtpXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS51c2UoKSk7XG4gICAgICB9XG4gICAgICBpZiAoJGZhbGxiYWNrV2FzU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZTtcbiAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdXNlRmFsbGJhY2tMYW5ndWFnZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNldHMgdGhlIGZpcnN0IGtleSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2Ugc3RhY2sgdG8gYmUgdXNlZCBmb3IgdHJhbnNsYXRpb24uXG4gICAgICogVGhlcmVmb3JlIGFsbCBsYW5ndWFnZXMgaW4gdGhlIGZhbGxiYWNrIGFycmF5IEJFRk9SRSB0aGlzIGtleSB3aWxsIGJlIHNraXBwZWQhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGxhbmdLZXkgQ29udGFpbnMgdGhlIGxhbmdLZXkgdGhlIGl0ZXJhdGlvbiBzaGFsbCBzdGFydCB3aXRoLiBTZXQgdG8gZmFsc2UgaWYgeW91IHdhbnQgdG9cbiAgICAgKiBnZXQgYmFjayB0byB0aGUgd2hvbGUgc3RhY2tcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnVzZUZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgaWYgKGxhbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBsYW5nS2V5ICE9PSBudWxsKSB7XG4gICAgICAgIGlmICghbGFuZ0tleSkge1xuICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBsYW5nS2V5UG9zaXRpb24gPSBpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCBsYW5nS2V5KTtcbiAgICAgICAgICBpZiAobGFuZ0tleVBvc2l0aW9uID4gLTEpIHtcbiAgICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPSBsYW5nS2V5UG9zaXRpb247XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcHJvcG9zZWRMYW5ndWFnZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBvZiBsYW5ndWFnZSB0aGF0IGlzIGN1cnJlbnRseSBsb2FkZWQgYXN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGxhbmd1YWdlIGtleVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUucHJvcG9zZWRMYW5ndWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkbmV4dExhbmc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNzdG9yYWdlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyByZWdpc3RlcmVkIHN0b3JhZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFN0b3JhZ2VcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gU3RvcmFnZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI25lZ290aWF0ZUxvY2FsZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBsYW5ndWFnZSBrZXkgYmFzZWQgb24gYXZhaWxhYmxlIGxhbmd1YWdlcyBhbmQgbGFuZ3VhZ2UgYWxpYXNlcy4gSWYgYVxuICAgICAqIGxhbmd1YWdlIGtleSBjYW5ub3QgYmUgcmVzb2x2ZWQsIHJldHVybnMgdW5kZWZpbmVkLlxuICAgICAqXG4gICAgICogSWYgbm8gb3IgYSBmYWxzeSBrZXkgaXMgZ2l2ZW4sIHJldHVybnMgdW5kZWZpbmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIExhbmd1YWdlIGtleVxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IExhbmd1YWdlIGtleSBvciB1bmRlZmluZWQgaWYgbm8gbGFuZ3VhZ2Uga2V5IGlzIGZvdW5kLlxuICAgICAqL1xuICAgICR0cmFuc2xhdGUubmVnb3RpYXRlTG9jYWxlID0gbmVnb3RpYXRlTG9jYWxlO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHdoaWNoIGxhbmd1YWdlIHRvIHVzZSBieSBnaXZlbiBsYW5ndWFnZSBrZXkuIFRoaXMgbWV0aG9kIGlzXG4gICAgICogdXNlZCB0byBjaGFuZ2UgbGFuZ3VhZ2UgYXQgcnVudGltZS4gSXQgYWxzbyB0YWtlcyBjYXJlIG9mIHN0b3JpbmcgdGhlIGxhbmd1YWdlXG4gICAgICoga2V5IGluIGEgY29uZmlndXJlZCBzdG9yZSB0byBsZXQgeW91ciBhcHAgcmVtZW1iZXIgdGhlIGNob29zZWQgbGFuZ3VhZ2UuXG4gICAgICpcbiAgICAgKiBXaGVuIHRyeWluZyB0byAndXNlJyBhIGxhbmd1YWdlIHdoaWNoIGlzbid0IGF2YWlsYWJsZSBpdCB0cmllcyB0byBsb2FkIGl0XG4gICAgICogYXN5bmNocm9ub3VzbHkgd2l0aCByZWdpc3RlcmVkIGxvYWRlcnMuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHByb21pc2Ugb2JqZWN0IHdpdGggbG9hZGVkIGxhbmd1YWdlIGZpbGUgZGF0YSBvciBzdHJpbmcgb2YgdGhlIGN1cnJlbnRseSB1c2VkIGxhbmd1YWdlLlxuICAgICAqXG4gICAgICogSWYgbm8gb3IgYSBmYWxzeSBrZXkgaXMgZ2l2ZW4gaXQgcmV0dXJucyB0aGUgY3VycmVudGx5IHVzZWQgbGFuZ3VhZ2Uga2V5LlxuICAgICAqIFRoZSByZXR1cm5lZCBzdHJpbmcgd2lsbCBiZSBgYGB1bmRlZmluZWRgYGAgaWYgc2V0dGluZyB1cCAkdHJhbnNsYXRlIGhhc24ndCBmaW5pc2hlZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICR0cmFuc2xhdGUudXNlKFwiZW5fVVNcIikudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAqICAgJHNjb3BlLnRleHQgPSAkdHJhbnNsYXRlKFwiSEVMTE9cIik7XG4gICAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBMYW5ndWFnZSBrZXlcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R8c3RyaW5nfSBQcm9taXNlIHdpdGggbG9hZGVkIGxhbmd1YWdlIGRhdGEgb3IgdGhlIGxhbmd1YWdlIGtleSBpZiBhIGZhbHN5IHBhcmFtIHdhcyBnaXZlbi5cbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnVzZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICgha2V5KSB7XG4gICAgICAgIHJldHVybiAkdXNlcztcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZVN0YXJ0Jywge2xhbmd1YWdlIDoga2V5fSk7XG5cbiAgICAgIC8vIFRyeSB0byBnZXQgdGhlIGFsaWFzZWQgbGFuZ3VhZ2Uga2V5XG4gICAgICB2YXIgYWxpYXNlZEtleSA9IG5lZ290aWF0ZUxvY2FsZShrZXkpO1xuICAgICAgLy8gRW5zdXJlIG9ubHkgcmVnaXN0ZXJlZCBsYW5ndWFnZSBrZXlzIHdpbGwgYmUgbG9hZGVkXG4gICAgICBpZiAoJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGggPiAwICYmICFhbGlhc2VkS2V5KSB7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3Qoa2V5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFsaWFzZWRLZXkpIHtcbiAgICAgICAga2V5ID0gYWxpYXNlZEtleTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhlcmUgaXNuJ3QgYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgdGhlIGxhbmd1YWdlIHdlJ3ZlIHJlcXVlc3RlZCxcbiAgICAgIC8vIHdlIGxvYWQgaXQgYXN5bmNocm9ub3VzbHlcbiAgICAgICRuZXh0TGFuZyA9IGtleTtcbiAgICAgIGlmICgoJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkIHx8ICEkdHJhbnNsYXRpb25UYWJsZVtrZXldKSAmJiAkbG9hZGVyRmFjdG9yeSAmJiAhbGFuZ1Byb21pc2VzW2tleV0pIHtcbiAgICAgICAgbGFuZ1Byb21pc2VzW2tleV0gPSBsb2FkQXN5bmMoa2V5KS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0aW9uLmtleSk7XG4gICAgICAgICAgaWYgKCRuZXh0TGFuZyA9PT0ga2V5KSB7XG4gICAgICAgICAgICB1c2VMYW5ndWFnZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgIH0sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRXJyb3InLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3Qoa2V5KTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywge2xhbmd1YWdlIDoga2V5fSk7XG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGFuZ1Byb21pc2VzW2tleV1bJ2ZpbmFsbHknXShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2xlYXJOZXh0TGFuZ0FuZFByb21pc2Uoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGxhbmdQcm9taXNlc1trZXldKSB7XG4gICAgICAgIC8vIHdlIGFyZSBhbHJlYWR5IGxvYWRpbmcgdGhpcyBhc3luY2hyb25vdXNseVxuICAgICAgICAvLyByZXNvbHZlIG91ciBuZXcgZGVmZXJyZWQgd2hlbiB0aGUgb2xkIGxhbmdQcm9taXNlIGlzIHJlc29sdmVkXG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgaWYgKCRuZXh0TGFuZyA9PT0gdHJhbnNsYXRpb24ua2V5KSB7XG4gICAgICAgICAgICB1c2VMYW5ndWFnZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0aW9uLmtleSk7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICB9LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgLy8gZmluZCBmaXJzdCBhdmFpbGFibGUgZmFsbGJhY2sgbGFuZ3VhZ2UgaWYgdGhhdCByZXF1ZXN0IGhhcyBmYWlsZWRcbiAgICAgICAgICBpZiAoISR1c2VzICYmICRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCA+IDAgJiYgJGZhbGxiYWNrTGFuZ3VhZ2VbMF0gIT09IGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICR0cmFuc2xhdGUudXNlKCRmYWxsYmFja0xhbmd1YWdlWzBdKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5yZWplY3Qoa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShrZXkpO1xuICAgICAgICB1c2VMYW5ndWFnZShrZXkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3Jlc29sdmVDbGllbnRMb2NhbGVcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUaGlzIHJldHVybnMgdGhlIGN1cnJlbnQgYnJvd3Nlci9jbGllbnQncyBsYW5ndWFnZSBrZXkuIFRoZSByZXN1bHQgaXMgcHJvY2Vzc2VkIHdpdGggdGhlIGNvbmZpZ3VyZWQgdW5pZm9ybSB0YWcgcmVzb2x2ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgY3VycmVudCBjbGllbnQvYnJvd3NlciBsYW5ndWFnZSBrZXlcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnJlc29sdmVDbGllbnRMb2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0TG9jYWxlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNzdG9yYWdlS2V5XG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUga2V5IGZvciB0aGUgc3RvcmFnZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gc3RvcmFnZSBrZXlcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnN0b3JhZ2VLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc3RvcmFnZUtleSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaXNQb3N0Q29tcGlsaW5nRW5hYmxlZFxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgd2hldGhlciBwb3N0IGNvbXBpbGluZyBpcyBlbmFibGVkIG9yIG5vdFxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbH0gc3RvcmFnZSBrZXlcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmlzUG9zdENvbXBpbGluZ0VuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJHBvc3RDb21waWxpbmdFbmFibGVkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaXNGb3JjZUFzeW5jUmVsb2FkRW5hYmxlZFxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgd2hldGhlciBmb3JjZSBhc3luYyByZWxvYWQgaXMgZW5hYmxlZCBvciBub3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGZvcmNlQXN5bmNSZWxvYWQgdmFsdWVcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmlzRm9yY2VBc3luY1JlbG9hZEVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaXNLZWVwQ29udGVudFxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgd2hldGhlciBrZWVwQ29udGVudCBvciBub3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGtlZXBDb250ZW50IHZhbHVlXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5pc0tlZXBDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRrZWVwQ29udGVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3JlZnJlc2hcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZWZyZXNoZXMgYSB0cmFuc2xhdGlvbiB0YWJsZSBwb2ludGVkIGJ5IHRoZSBnaXZlbiBsYW5nS2V5LiBJZiBsYW5nS2V5IGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogdGhlIG1vZHVsZSB3aWxsIGRyb3AgYWxsIGV4aXN0ZW50IHRyYW5zbGF0aW9uIHRhYmxlcyBhbmQgbG9hZCBuZXcgdmVyc2lvbiBvZiB0aG9zZSB3aGljaFxuICAgICAqIGFyZSBjdXJyZW50bHkgaW4gdXNlLlxuICAgICAqXG4gICAgICogUmVmcmVzaCBtZWFucyB0aGF0IHRoZSBtb2R1bGUgd2lsbCBkcm9wIHRhcmdldCB0cmFuc2xhdGlvbiB0YWJsZSBhbmQgdHJ5IHRvIGxvYWQgaXQgYWdhaW4uXG4gICAgICpcbiAgICAgKiBJbiBjYXNlIHRoZXJlIGFyZSBubyBsb2FkZXJzIHJlZ2lzdGVyZWQgdGhlIHJlZnJlc2goKSBtZXRob2Qgd2lsbCB0aHJvdyBhbiBFcnJvci5cbiAgICAgKlxuICAgICAqIElmIHRoZSBtb2R1bGUgaXMgYWJsZSB0byByZWZyZXNoIHRyYW5zbGF0aW9uIHRhYmxlcyByZWZyZXNoKCkgbWV0aG9kIHdpbGwgYnJvYWRjYXN0XG4gICAgICogJHRyYW5zbGF0ZVJlZnJlc2hTdGFydCBhbmQgJHRyYW5zbGF0ZVJlZnJlc2hFbmQgZXZlbnRzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyB0aGlzIHdpbGwgZHJvcCBhbGwgY3VycmVudGx5IGV4aXN0ZW50IHRyYW5zbGF0aW9uIHRhYmxlcyBhbmQgcmVsb2FkIHRob3NlIHdoaWNoIGFyZVxuICAgICAqIC8vIGN1cnJlbnRseSBpbiB1c2VcbiAgICAgKiAkdHJhbnNsYXRlLnJlZnJlc2goKTtcbiAgICAgKiAvLyB0aGlzIHdpbGwgcmVmcmVzaCBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciB0aGUgZW5fVVMgbGFuZ3VhZ2VcbiAgICAgKiAkdHJhbnNsYXRlLnJlZnJlc2goJ2VuX1VTJyk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleSBvZiB0aGUgdGFibGUsIHdoaWNoIGhhcyB0byBiZSByZWZyZXNoZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3Byb21pc2V9IFByb21pc2UsIHdoaWNoIHdpbGwgYmUgcmVzb2x2ZWQgaW4gY2FzZSBhIHRyYW5zbGF0aW9uIHRhYmxlcyByZWZyZXNoaW5nXG4gICAgICogcHJvY2VzcyBpcyBmaW5pc2hlZCBzdWNjZXNzZnVsbHksIGFuZCByZWplY3QgaWYgbm90LlxuICAgICAqL1xuICAgICR0cmFuc2xhdGUucmVmcmVzaCA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICBpZiAoISRsb2FkZXJGYWN0b3J5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCByZWZyZXNoIHRyYW5zbGF0aW9uIHRhYmxlLCBubyBsb2FkZXIgcmVnaXN0ZXJlZCEnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaEVuZCcsIHtsYW5ndWFnZSA6IGxhbmdLZXl9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hFbmQnLCB7bGFuZ3VhZ2UgOiBsYW5nS2V5fSk7XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoU3RhcnQnLCB7bGFuZ3VhZ2UgOiBsYW5nS2V5fSk7XG5cbiAgICAgIGlmICghbGFuZ0tleSkge1xuICAgICAgICAvLyBpZiB0aGVyZSdzIG5vIGxhbmd1YWdlIGtleSBzcGVjaWZpZWQgd2UgcmVmcmVzaCBBTEwgVEhFIFRISU5HUyFcbiAgICAgICAgdmFyIHRhYmxlcyA9IFtdLCBsb2FkaW5nS2V5cyA9IHt9O1xuXG4gICAgICAgIC8vIHJlbG9hZCByZWdpc3RlcmVkIGZhbGxiYWNrIGxhbmd1YWdlc1xuICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0YWJsZXMucHVzaChsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pKTtcbiAgICAgICAgICAgIGxvYWRpbmdLZXlzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVsb2FkIGN1cnJlbnRseSB1c2VkIGxhbmd1YWdlXG4gICAgICAgIGlmICgkdXNlcyAmJiAhbG9hZGluZ0tleXNbJHVzZXNdKSB7XG4gICAgICAgICAgdGFibGVzLnB1c2gobG9hZEFzeW5jKCR1c2VzKSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWxsVHJhbnNsYXRpb25zTG9hZGVkID0gZnVuY3Rpb24gKHRhYmxlRGF0YSkge1xuICAgICAgICAgICR0cmFuc2xhdGlvblRhYmxlID0ge307XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRhYmxlRGF0YSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyhkYXRhLmtleSwgZGF0YS50YWJsZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCR1c2VzKSB7XG4gICAgICAgICAgICB1c2VMYW5ndWFnZSgkdXNlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgYWxsVHJhbnNsYXRpb25zTG9hZGVkLmRpc3BsYXlOYW1lID0gJ3JlZnJlc2hQb3N0UHJvY2Vzc29yJztcblxuICAgICAgICAkcS5hbGwodGFibGVzKS50aGVuKGFsbFRyYW5zbGF0aW9uc0xvYWRlZCwgcmVqZWN0KTtcblxuICAgICAgfSBlbHNlIGlmICgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSkge1xuXG4gICAgICAgIHZhciBvbmVUcmFuc2xhdGlvbnNMb2FkZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHRyYW5zbGF0aW9ucyhkYXRhLmtleSwgZGF0YS50YWJsZSk7XG4gICAgICAgICAgaWYgKGxhbmdLZXkgPT09ICR1c2VzKSB7XG4gICAgICAgICAgICB1c2VMYW5ndWFnZSgkdXNlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgb25lVHJhbnNsYXRpb25zTG9hZGVkLmRpc3BsYXlOYW1lID0gJ3JlZnJlc2hQb3N0UHJvY2Vzc29yJztcblxuICAgICAgICBsb2FkQXN5bmMobGFuZ0tleSkudGhlbihvbmVUcmFuc2xhdGlvbnNMb2FkZWQsIHJlamVjdCk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpbnN0YW50XG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhIHRyYW5zbGF0aW9uIGluc3RhbnRseSBmcm9tIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBsb2FkZWQgdHJhbnNsYXRpb24uIEFsbCBydWxlc1xuICAgICAqIHJlZ2FyZGluZyB0aGUgY3VycmVudCBsYW5ndWFnZSwgdGhlIHByZWZlcnJlZCBsYW5ndWFnZSBvZiBldmVuIGZhbGxiYWNrIGxhbmd1YWdlcyB3aWxsIGJlXG4gICAgICogdXNlZCBleGNlcHQgYW55IHByb21pc2UgaGFuZGxpbmcuIElmIGEgbGFuZ3VhZ2Ugd2FzIG5vdCBmb3VuZCwgYW4gYXN5bmNocm9ub3VzIGxvYWRpbmdcbiAgICAgKiB3aWxsIGJlIGludm9rZWQgaW4gdGhlIGJhY2tncm91bmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gdHJhbnNsYXRpb25JZCBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIG9wdGlvbmFsbHkgYW4gYXJyYXkgb2YgdHJhbnNsYXRpb24gaWRzIHdoaWNoXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyB0aGF0IHRoZSBmdW5jdGlvbidzIHByb21pc2UgcmV0dXJucyBhbiBvYmplY3Qgd2hlcmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoIGtleSBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGludGVycG9sYXRlUGFyYW1zIFBhcmFtc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uSWQgVGhlIGlkIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JjZUxhbmd1YWdlIEEgbGFuZ3VhZ2UgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IGxhbmd1YWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNhbml0aXplU3RyYXRlZ3kgZm9yY2Ugc2FuaXRpemUgc3RyYXRlZ3kgZm9yIHRoaXMgY2FsbCBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBjb25maWd1cmVkIG9uZVxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfG9iamVjdH0gdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZm9yY2VMYW5ndWFnZSwgc2FuaXRpemVTdHJhdGVneSkge1xuXG4gICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIHJlLW5lZ290aWF0ZSAkdXNlc1xuICAgICAgdmFyIHVzZXMgPSAoZm9yY2VMYW5ndWFnZSAmJiBmb3JjZUxhbmd1YWdlICE9PSAkdXNlcykgPyAvLyB3ZSBkb24ndCB3YW50IHRvIHJlLW5lZ290aWF0ZSAkdXNlc1xuICAgICAgICAobmVnb3RpYXRlTG9jYWxlKGZvcmNlTGFuZ3VhZ2UpIHx8IGZvcmNlTGFuZ3VhZ2UpIDogJHVzZXM7XG5cbiAgICAgIC8vIERldGVjdCB1bmRlZmluZWQgYW5kIG51bGwgdmFsdWVzIHRvIHNob3J0ZW4gdGhlIGV4ZWN1dGlvbiBhbmQgcHJldmVudCBleGNlcHRpb25zXG4gICAgICBpZiAodHJhbnNsYXRpb25JZCA9PT0gbnVsbCB8fCBhbmd1bGFyLmlzVW5kZWZpbmVkKHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBmb3JjZUxhbmd1YWdlIGlzIHByZXNlbnRcbiAgICAgIGlmIChmb3JjZUxhbmd1YWdlKSB7XG4gICAgICAgIGxvYWRUcmFuc2xhdGlvbnNJZk1pc3NpbmcoZm9yY2VMYW5ndWFnZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXG4gICAgICAvLyBUaGUgcmVzdWx0IGlzIGFuIG9iamVjdC5cbiAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgIHJlc3VsdHNbdHJhbnNsYXRpb25JZFtpXV0gPSAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZFtpXSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZm9yY2VMYW5ndWFnZSwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIGRpc2NhcmRlZCB1bmFjY2VwdGFibGUgdmFsdWVzLiBTbyB3ZSBqdXN0IG5lZWQgdG8gdmVyaWZ5IGlmIHRyYW5zbGF0aW9uSWQgaXMgZW1wdHkgU3RyaW5nXG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyh0cmFuc2xhdGlvbklkKSAmJiB0cmFuc2xhdGlvbklkLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXG4gICAgICBpZiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlc3VsdCwgcG9zc2libGVMYW5nS2V5cyA9IFtdO1xuICAgICAgaWYgKCRwcmVmZXJyZWRMYW5ndWFnZSkge1xuICAgICAgICBwb3NzaWJsZUxhbmdLZXlzLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgIH1cbiAgICAgIGlmICh1c2VzKSB7XG4gICAgICAgIHBvc3NpYmxlTGFuZ0tleXMucHVzaCh1c2VzKTtcbiAgICAgIH1cbiAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgcG9zc2libGVMYW5nS2V5cyA9IHBvc3NpYmxlTGFuZ0tleXMuY29uY2F0KCRmYWxsYmFja0xhbmd1YWdlKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGogPSAwLCBkID0gcG9zc2libGVMYW5nS2V5cy5sZW5ndGg7IGogPCBkOyBqKyspIHtcbiAgICAgICAgdmFyIHBvc3NpYmxlTGFuZ0tleSA9IHBvc3NpYmxlTGFuZ0tleXNbal07XG4gICAgICAgIGlmICgkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiAkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldW3RyYW5zbGF0aW9uSWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVzdWx0ID0gZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXJlc3VsdCAmJiByZXN1bHQgIT09ICcnKSB7XG4gICAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IHx8ICRub3RGb3VuZEluZGljYXRvclJpZ2h0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRyYW5zbGF0aW9uIG9mIGRlZmF1bHQgaW50ZXJwb2xhdG9yIGlmIG5vdCBmb3VuZCBhbnl0aGluZy5cbiAgICAgICAgICByZXN1bHQgPSBkZWZhdWx0SW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCAnZmlsdGVyJywgc2FuaXRpemVTdHJhdGVneSk7XG5cbiAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdHMuXG4gICAgICAgICAgLy8gTm93LCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgbWlzc2luZyB0cmFuc2xhdGlvbnMgYW5kIG5vXG4gICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgICAgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgcmVzdWx0ID0gbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdmVyc2lvbkluZm9cbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZlcnNpb24gaW5mb3JtYXRpb24gZm9yIHRoZSBhbmd1bGFyLXRyYW5zbGF0ZSBsaWJyYXJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGFuZ3VsYXItdHJhbnNsYXRlIHZlcnNpb25cbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnZlcnNpb25JbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNsb2FkZXJDYWNoZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGRlZmluZWQgbG9hZGVyQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ3xvYmplY3R9IGN1cnJlbnQgdmFsdWUgb2YgbG9hZGVyQ2FjaGVcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmxvYWRlckNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGxvYWRlckNhY2hlO1xuICAgIH07XG5cbiAgICAvLyBpbnRlcm5hbCBwdXJwb3NlIG9ubHlcbiAgICAkdHJhbnNsYXRlLmRpcmVjdGl2ZVByaW9yaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRpcmVjdGl2ZVByaW9yaXR5O1xuICAgIH07XG5cbiAgICAvLyBpbnRlcm5hbCBwdXJwb3NlIG9ubHlcbiAgICAkdHJhbnNsYXRlLnN0YXRlZnVsRmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHN0YXRlZnVsRmlsdGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaXNSZWFkeVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgc2VydmljZSBpcyBcInJlYWR5XCIgdG8gdHJhbnNsYXRlIChpLmUuIGxvYWRpbmcgMXN0IGxhbmd1YWdlKS5cbiAgICAgKlxuICAgICAqIFNlZSBhbHNvIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbWV0aG9kc19vblJlYWR5IG9uUmVhZHkoKX0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBjdXJyZW50IHZhbHVlIG9mIHJlYWR5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5pc1JlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRpc1JlYWR5O1xuICAgIH07XG5cbiAgICB2YXIgJG9uUmVhZHlEZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgJG9uUmVhZHlEZWZlcnJlZC5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgJGlzUmVhZHkgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI29uUmVhZHlcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlcnZpY2UgaXMgXCJyZWFkeVwiIHRvIHRyYW5zbGF0ZSAoaS5lLiBsb2FkaW5nIDFzdCBsYW5ndWFnZSkuXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbyB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI21ldGhvZHNfaXNSZWFkeSBpc1JlYWR5KCl9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGZuIEZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHNlcnZpY2UgaXMgcmVhZHlcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFByb21pc2UgcmVzb2x2ZWQgd2hlbiBzZXJ2aWNlIGlzIHJlYWR5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5vblJlYWR5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgZGVmZXJyZWQucHJvbWlzZS50aGVuKGZuKTtcbiAgICAgIH1cbiAgICAgIGlmICgkaXNSZWFkeSkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkb25SZWFkeURlZmVycmVkLnByb21pc2UudGhlbihkZWZlcnJlZC5yZXNvbHZlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjZ2V0QXZhaWxhYmxlTGFuZ3VhZ2VLZXlzXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaW1wbHkgcmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsYW5ndWFnZSBrZXlzIGJlaW5nIGRlZmluZWQgYmVmb3JlIGluIHRoZSBjb25maWcgcGhhc2VcbiAgICAgKiBXaXRoIHRoaXMsIGFuIGFwcGxpY2F0aW9uIGNhbiB1c2UgdGhlIGFycmF5IHRvIHByb3ZpZGUgYSBsYW5ndWFnZSBzZWxlY3Rpb24gZHJvcGRvd24gb3Igc2ltaWxhclxuICAgICAqIHdpdGhvdXQgYW55IGFkZGl0aW9uYWwgZWZmb3J0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIHRoZSBsaXN0IG9mIHBvc3NpYmx5IHJlZ2lzdGVyZWQgbGFuZ3VhZ2Uga2V5cyBhbmQgbWFwcGluZyBvciBudWxsIGlmIG5vdCBkZWZpbmVkXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5nZXRBdmFpbGFibGVMYW5ndWFnZUtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNnZXRUcmFuc2xhdGlvblRhYmxlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0cmFuc2xhdGlvbiB0YWJsZSBieSB0aGUgZ2l2ZW4gbGFuZ3VhZ2Uga2V5LlxuICAgICAqXG4gICAgICogVW5sZXNzIGEgbGFuZ3VhZ2UgaXMgcHJvdmlkZWQgaXQgcmV0dXJucyBhIHRyYW5zbGF0aW9uIHRhYmxlIG9mIHRoZSBjdXJyZW50IG9uZS5cbiAgICAgKiBOb3RlOiBJZiB0cmFuc2xhdGlvbiBkaWN0aW9uYXJ5IGlzIGN1cnJlbnRseSBkb3dubG9hZGluZyBvciBpbiBwcm9ncmVzc1xuICAgICAqIGl0IHdpbGwgcmV0dXJuIG51bGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBhIGNvcHkgb2YgYW5ndWxhci10cmFuc2xhdGUgJHRyYW5zbGF0aW9uVGFibGVcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmdldFRyYW5zbGF0aW9uVGFibGUgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgbGFuZ0tleSA9IGxhbmdLZXkgfHwgJHRyYW5zbGF0ZS51c2UoKTtcbiAgICAgIGlmIChsYW5nS2V5ICYmICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSB7XG4gICAgICAgIHJldHVybiBhbmd1bGFyLmNvcHkoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8vIFdoZW5ldmVyICR0cmFuc2xhdGVSZWFkeSBpcyBiZWluZyBmaXJlZCwgdGhpcyB3aWxsIGVuc3VyZSB0aGUgc3RhdGUgb2YgJGlzUmVhZHlcbiAgICB2YXIgZ2xvYmFsT25SZWFkeUxpc3RlbmVyID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVSZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICRvblJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgZ2xvYmFsT25SZWFkeUxpc3RlbmVyKCk7IC8vIG9uZSB0aW1lIG9ubHlcbiAgICAgIGdsb2JhbE9uUmVhZHlMaXN0ZW5lciA9IG51bGw7XG4gICAgfSk7XG4gICAgdmFyIGdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICRvblJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgZ2xvYmFsT25DaGFuZ2VMaXN0ZW5lcigpOyAvLyBvbmUgdGltZSBvbmx5XG4gICAgICBnbG9iYWxPbkNoYW5nZUxpc3RlbmVyID0gbnVsbDtcbiAgICB9KTtcblxuICAgIGlmICgkbG9hZGVyRmFjdG9yeSkge1xuXG4gICAgICAvLyBJZiBhdCBsZWFzdCBvbmUgYXN5bmMgbG9hZGVyIGlzIGRlZmluZWQgYW5kIHRoZXJlIGFyZSBub1xuICAgICAgLy8gKGRlZmF1bHQpIHRyYW5zbGF0aW9ucyBhdmFpbGFibGUgd2Ugc2hvdWxkIHRyeSB0byBsb2FkIHRoZW0uXG4gICAgICBpZiAoYW5ndWxhci5lcXVhbHMoJHRyYW5zbGF0aW9uVGFibGUsIHt9KSkge1xuICAgICAgICBpZiAoJHRyYW5zbGF0ZS51c2UoKSkge1xuICAgICAgICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUudXNlKCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFsc28sIGlmIHRoZXJlIGFyZSBhbnkgZmFsbGJhY2sgbGFuZ3VhZ2UgcmVnaXN0ZXJlZCwgd2Ugc3RhcnRcbiAgICAgIC8vIGxvYWRpbmcgdGhlbSBhc3luY2hyb25vdXNseSBhcyBzb29uIGFzIHdlIGNhbi5cbiAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHByb2Nlc3NBc3luY1Jlc3VsdCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywge2xhbmd1YWdlIDogdHJhbnNsYXRpb24ua2V5fSk7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICB2YXIgZmFsbGJhY2tMYW5ndWFnZUlkID0gJGZhbGxiYWNrTGFuZ3VhZ2VbaV07XG4gICAgICAgICAgaWYgKCRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZCB8fCAhJHRyYW5zbGF0aW9uVGFibGVbZmFsbGJhY2tMYW5ndWFnZUlkXSkge1xuICAgICAgICAgICAgbGFuZ1Byb21pc2VzW2ZhbGxiYWNrTGFuZ3VhZ2VJZF0gPSBsb2FkQXN5bmMoZmFsbGJhY2tMYW5ndWFnZUlkKS50aGVuKHByb2Nlc3NBc3luY1Jlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWFkeScsIHtsYW5ndWFnZSA6ICR0cmFuc2xhdGUudXNlKCl9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHRyYW5zbGF0ZTtcbiAgfV07XG59XG5cbiR0cmFuc2xhdGUuZGlzcGxheU5hbWUgPSAnZGlzcGxheU5hbWUnO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2VzIGFuZ3VsYXIncyBgJGludGVycG9sYXRlYCBzZXJ2aWNlcyB0byBpbnRlcnBvbGF0ZSBzdHJpbmdzIGFnYWluc3Qgc29tZSB2YWx1ZXMuXG4gKlxuICogQmUgYXdhcmUgdG8gY29uZmlndXJlIGEgcHJvcGVyIHNhbml0aXphdGlvbiBzdHJhdGVneS5cbiAqXG4gKiBTZWUgYWxzbzpcbiAqICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbn1cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9ICR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiBJbnRlcnBvbGF0b3Igc2VydmljZVxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLmZhY3RvcnkoJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbicsICR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbik7XG5cbmZ1bmN0aW9uICR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiAoJGludGVycG9sYXRlLCAkdHJhbnNsYXRlU2FuaXRpemF0aW9uKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yID0ge30sXG4gICAgICAkbG9jYWxlLFxuICAgICAgJGlkZW50aWZpZXIgPSAnZGVmYXVsdCc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNzZXRMb2NhbGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGN1cnJlbnQgbG9jYWxlICh0aGlzIGlzIGN1cnJlbnRseSBub3QgdXNlIGluIHRoaXMgaW50ZXJwb2xhdGlvbikuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbGUgTGFuZ3VhZ2Uga2V5IG9yIGxvY2FsZS5cbiAgICovXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICRsb2NhbGUgPSBsb2NhbGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHVybnMgYW4gaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9ICRpZGVudGlmaWVyXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLmdldEludGVycG9sYXRpb25JZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkaWRlbnRpZmllcjtcbiAgfTtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgd2lsbCBiZSByZW1vdmVkIGluIDMuMFxuICAgKiBAc2VlIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb259XG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICR0cmFuc2xhdGVTYW5pdGl6YXRpb24udXNlU3RyYXRlZ3kodmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jaW50ZXJwb2xhdGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJbnRlcnBvbGF0ZXMgZ2l2ZW4gdmFsdWUgYWdhaW5zIGdpdmVuIGludGVycG9sYXRlIHBhcmFtcyB1c2luZyBhbmd1bGFyc1xuICAgKiBgJGludGVycG9sYXRlYCBzZXJ2aWNlLlxuICAgKlxuICAgKiBTaW5jZSBBbmd1bGFySlMgMS41LCBgdmFsdWVgIG11c3Qgbm90IGJlIGEgc3RyaW5nIGJ1dCBjYW4gYmUgYW55dGhpbmcgaW5wdXQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGludGVycG9sYXRlZCBzdHJpbmcuXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLmludGVycG9sYXRlID0gZnVuY3Rpb24gKHZhbHVlLCBpbnRlcnBvbGF0aW9uUGFyYW1zLCBjb250ZXh0LCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG4gICAgaW50ZXJwb2xhdGlvblBhcmFtcyA9IGludGVycG9sYXRpb25QYXJhbXMgfHwge307XG4gICAgaW50ZXJwb2xhdGlvblBhcmFtcyA9ICR0cmFuc2xhdGVTYW5pdGl6YXRpb24uc2FuaXRpemUoaW50ZXJwb2xhdGlvblBhcmFtcywgJ3BhcmFtcycsIHNhbml0aXplU3RyYXRlZ3ksIGNvbnRleHQpO1xuXG4gICAgdmFyIGludGVycG9sYXRlZFRleHQ7XG4gICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAvLyBudW1iZXJzIGFyZSBzYWZlXG4gICAgICBpbnRlcnBvbGF0ZWRUZXh0ID0gJycgKyB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAvLyBzdHJpbmdzIG11c3QgYmUgaW50ZXJwb2xhdGVkICh0aGF0J3MgdGhlIGpvYiBoZXJlKVxuICAgICAgaW50ZXJwb2xhdGVkVGV4dCA9ICRpbnRlcnBvbGF0ZSh2YWx1ZSkoaW50ZXJwb2xhdGlvblBhcmFtcyk7XG4gICAgICBpbnRlcnBvbGF0ZWRUZXh0ID0gJHRyYW5zbGF0ZVNhbml0aXphdGlvbi5zYW5pdGl6ZShpbnRlcnBvbGF0ZWRUZXh0LCAndGV4dCcsIHNhbml0aXplU3RyYXRlZ3ksIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBuZWl0aGVyIGEgbnVtYmVyIG9yIGEgc3RyaW5nLCBjYW50IGludGVycG9sYXRlID0+IGVtcHR5IHN0cmluZ1xuICAgICAgaW50ZXJwb2xhdGVkVGV4dCA9ICcnO1xuICAgIH1cblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZWRUZXh0O1xuICB9O1xuXG4gIHJldHVybiAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yO1xufVxuXG4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24uZGlzcGxheU5hbWUgPSAnJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5jb25zdGFudCgnJFNUT1JBR0VfS0VZJywgJ05HX1RSQU5TTEFURV9MQU5HX0tFWScpO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZVxuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZSwgXG4gKiBAcmVxdWlyZXMgJGNvbXBpbGUsIFxuICogQHJlcXVpcmVzICRwYXJzZSwgXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICogQHJlc3RyaWN0IEFFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUcmFuc2xhdGVzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGVpdGhlciB0aHJvdWdoIGF0dHJpYnV0ZSBvciBET00gY29udGVudC5cbiAqIEludGVybmFsbHkgaXQgdXNlcyAkdHJhbnNsYXRlIHNlcnZpY2UgdG8gdHJhbnNsYXRlIHRoZSB0cmFuc2xhdGlvbiBpZC4gSXQgcG9zc2libGUgdG9cbiAqIHBhc3MgYW4gb3B0aW9uYWwgYHRyYW5zbGF0ZS12YWx1ZXNgIG9iamVjdCBsaXRlcmFsIGFzIHN0cmluZyBpbnRvIHRyYW5zbGF0aW9uIGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlIFRyYW5zbGF0aW9uIGlkIHdoaWNoIGNvdWxkIGJlIGVpdGhlciBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLXZhbHVlcyBWYWx1ZXMgdG8gcGFzcyBpbnRvIHRyYW5zbGF0aW9uIGlkLiBDYW4gYmUgcGFzc2VkIGFzIG9iamVjdCBsaXRlcmFsIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtYXR0ci1BVFRSIHRyYW5zbGF0ZSBUcmFuc2xhdGlvbiBpZCBhbmQgcHV0IGl0IGludG8gQVRUUiBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1kZWZhdWx0IHdpbGwgYmUgdXNlZCB1bmxlc3MgdHJhbnNsYXRpb24gd2FzIHN1Y2Nlc3NmdWxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHRyYW5zbGF0ZS1jb21waWxlIChkZWZhdWx0IHRydWUgaWYgcHJlc2VudCkgZGVmaW5lcyBsb2NhbGx5IGFjdGl2YXRpb24gb2Yge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI21ldGhvZHNfdXNlUG9zdENvbXBpbGluZ31cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHRyYW5zbGF0ZS1rZWVwLWNvbnRlbnQgKGRlZmF1bHQgdHJ1ZSBpZiBwcmVzZW50KSBkZWZpbmVzIHRoYXQgaW4gY2FzZSBhIEtFWSBjb3VsZCBub3QgYmUgdHJhbnNsYXRlZCwgdGhhdCB0aGUgZXhpc3RpbmcgY29udGVudCBpcyBsZWZ0IGluIHRoZSBpbm5lckhUTUx9XG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUcmFuc2xhdGVDdHJsXCI+XG5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT5UUkFOU0xBVElPTl9JRDwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwie3t0cmFuc2xhdGlvbklkfX1cIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU+e3t0cmFuc2xhdGlvbklkfX08L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7dmFsdWU6IDV9XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7dmFsdWU6IDV9XCI+V0lUSF9WQUxVRVM8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+V0lUSF9WQUxVRVM8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9DQU1FTF9DQVNFX0tFWVwiIHRyYW5zbGF0ZS12YWx1ZS1jYW1lbC1jYXNlLWtleT1cIkhpXCI+PC9wcmU+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19JyxcbiAgICAgICAgICAnV0lUSF9DQU1FTF9DQVNFX0tFWSc6ICdUaGUgaW50ZXJwb2xhdGlvbiBrZXkgaXMgY2FtZWwgY2FzZWQ6IHt7Y2FtZWxDYXNlS2V5fX0nXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycpLmNvbnRyb2xsZXIoJ1RyYW5zbGF0ZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAkc2NvcGUudmFsdWVzID0ge1xuICAgICAgICAgIHZhbHVlOiA3OFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY2VuYXJpby5qc1wiPlxuICAgICAgaXQoJ3Nob3VsZCB0cmFuc2xhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNvbXBpbGUpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJ7e3RyYW5zbGF0aW9uSWR9fVwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LmF0dHIoJ3RpdGxlJykpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJXSVRIX0NBTUVMX0NBU0VfS0VZXCIgdHJhbnNsYXRlLXZhbHVlLWNhbWVsLWNhc2Uta2V5PVwiSGVsbG9cIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdUaGUgaW50ZXJwb2xhdGlvbiBrZXkgaXMgY2FtZWwgY2FzZWQ6IEhlbGxvJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGUnLCB0cmFuc2xhdGVEaXJlY3RpdmUpO1xuZnVuY3Rpb24gdHJhbnNsYXRlRGlyZWN0aXZlKCR0cmFuc2xhdGUsICRpbnRlcnBvbGF0ZSwgJGNvbXBpbGUsICRwYXJzZSwgJHJvb3RTY29wZSkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5hbWUgdHJpbVxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogdHJpbSBwb2x5ZmlsbFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgc3RyaW5nIHN0cmlwcGVkIG9mIHdoaXRlc3BhY2UgZnJvbSBib3RoIGVuZHNcbiAgICovXG4gIHZhciB0cmltID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FFJyxcbiAgICBzY29wZTogdHJ1ZSxcbiAgICBwcmlvcml0eTogJHRyYW5zbGF0ZS5kaXJlY3RpdmVQcmlvcml0eSgpLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCwgdEF0dHIpIHtcblxuICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlc0V4aXN0ID0gKHRBdHRyLnRyYW5zbGF0ZVZhbHVlcykgP1xuICAgICAgICB0QXR0ci50cmFuc2xhdGVWYWx1ZXMgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVJbnRlcnBvbGF0aW9uID0gKHRBdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24pID9cbiAgICAgICAgdEF0dHIudHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlRXhpc3QgPSB0RWxlbWVudFswXS5vdXRlckhUTUwubWF0Y2goL3RyYW5zbGF0ZS12YWx1ZS0rL2kpO1xuXG4gICAgICB2YXIgaW50ZXJwb2xhdGVSZWdFeHAgPSAnXiguKikoJyArICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpICsgJy4qJyArICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSArICcpKC4qKScsXG4gICAgICAgICAgd2F0Y2hlclJlZ0V4cCA9ICdeKC4qKScgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArICcoLiopJyArICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSArICcoLiopJztcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgaUVsZW1lbnQsIGlBdHRyKSB7XG5cbiAgICAgICAgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMgPSB7fTtcbiAgICAgICAgc2NvcGUucHJlVGV4dCA9ICcnO1xuICAgICAgICBzY29wZS5wb3N0VGV4dCA9ICcnO1xuICAgICAgICBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgPSBnZXRUcmFuc2xhdGVOYW1lc3BhY2Uoc2NvcGUpO1xuICAgICAgICB2YXIgdHJhbnNsYXRpb25JZHMgPSB7fTtcblxuICAgICAgICB2YXIgaW5pdEludGVycG9sYXRpb25QYXJhbXMgPSBmdW5jdGlvbiAoaW50ZXJwb2xhdGVQYXJhbXMsIGlBdHRyLCB0QXR0cikge1xuICAgICAgICAgIC8vIGluaXRpYWwgc2V0dXBcbiAgICAgICAgICBpZiAoaUF0dHIudHJhbnNsYXRlVmFsdWVzKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChpbnRlcnBvbGF0ZVBhcmFtcywgJHBhcnNlKGlBdHRyLnRyYW5zbGF0ZVZhbHVlcykoc2NvcGUuJHBhcmVudCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpbml0aWFsbHkgZmV0Y2ggYWxsIGF0dHJpYnV0ZXMgaWYgZXhpc3RpbmcgYW5kIGZpbGwgdGhlIHBhcmFtc1xuICAgICAgICAgIGlmICh0cmFuc2xhdGVWYWx1ZUV4aXN0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIHRBdHRyKSB7XG4gICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaUF0dHIsIGF0dHIpICYmIGF0dHIuc3Vic3RyKDAsIDE0KSA9PT0gJ3RyYW5zbGF0ZVZhbHVlJyAmJiBhdHRyICE9PSAndHJhbnNsYXRlVmFsdWVzJykge1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gYW5ndWxhci5sb3dlcmNhc2UoYXR0ci5zdWJzdHIoMTQsIDEpKSArIGF0dHIuc3Vic3RyKDE1KTtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZVBhcmFtc1thdHRyaWJ1dGVOYW1lXSA9IHRBdHRyW2F0dHJdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEVuc3VyZXMgYW55IGNoYW5nZSBvZiB0aGUgYXR0cmlidXRlIFwidHJhbnNsYXRlXCIgY29udGFpbmluZyB0aGUgaWQgd2lsbFxuICAgICAgICAvLyBiZSByZS1zdG9yZWQgdG8gdGhlIHNjb3BlJ3MgXCJ0cmFuc2xhdGlvbklkXCIuXG4gICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIG5vIGNvbnRlbnQsIHRoZSBlbGVtZW50J3MgdGV4dCB2YWx1ZSAod2hpdGUgc3BhY2VzIHRyaW1tZWQgb2ZmKSB3aWxsIGJlIHVzZWQuXG4gICAgICAgIHZhciBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcblxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgb2xkIHdhdGNoZXJcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24uX3Vud2F0Y2hPbGQpKSB7XG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkKCk7XG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhbmd1bGFyLmVxdWFscyh0cmFuc2xhdGlvbklkICwgJycpIHx8ICFhbmd1bGFyLmlzRGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgICAgdmFyIGlFbGVtZW50VGV4dCA9IHRyaW0uYXBwbHkoaUVsZW1lbnQudGV4dCgpKTtcblxuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0cmFuc2xhdGlvbiBpZCBieSBpbm5lciBodG1sIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGVNYXRjaGVzID0gaUVsZW1lbnRUZXh0Lm1hdGNoKGludGVycG9sYXRlUmVnRXhwKTtcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRyYW5zbGF0aW9uIGlkIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGludGVycG9sYXRlTWF0Y2hlcykpIHtcbiAgICAgICAgICAgICAgc2NvcGUucHJlVGV4dCA9IGludGVycG9sYXRlTWF0Y2hlc1sxXTtcbiAgICAgICAgICAgICAgc2NvcGUucG9zdFRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbM107XG4gICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9ICRpbnRlcnBvbGF0ZShpbnRlcnBvbGF0ZU1hdGNoZXNbMl0pKHNjb3BlLiRwYXJlbnQpO1xuICAgICAgICAgICAgICB2YXIgd2F0Y2hlck1hdGNoZXMgPSBpRWxlbWVudFRleHQubWF0Y2god2F0Y2hlclJlZ0V4cCk7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkod2F0Y2hlck1hdGNoZXMpICYmIHdhdGNoZXJNYXRjaGVzWzJdICYmIHdhdGNoZXJNYXRjaGVzWzJdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24uX3Vud2F0Y2hPbGQgPSBzY29wZS4kd2F0Y2god2F0Y2hlck1hdGNoZXNbMl0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gZG8gbm90IGFzc2lnbmUgdGhlIHRyYW5zbGF0aW9uIGlkIGlmIGl0IGlzIGVtcHR5LlxuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSAhaUVsZW1lbnRUZXh0ID8gdW5kZWZpbmVkIDogaUVsZW1lbnRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0ZUF0dHIpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSh0cmFuc2xhdGVBdHRyLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZHNbdHJhbnNsYXRlQXR0cl0gPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaW5pdGlhbCBzZXR1cCB3aXRoIHZhbHVlc1xuICAgICAgICBpbml0SW50ZXJwb2xhdGlvblBhcmFtcyhzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcywgaUF0dHIsIHRBdHRyKTtcblxuICAgICAgICB2YXIgZmlyc3RBdHRyaWJ1dGVDaGFuZ2VkRXZlbnQgPSB0cnVlO1xuICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlJywgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHRyYW5zbGF0aW9uSWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBjYXNlIG9mIGVsZW1lbnQgXCI8dHJhbnNsYXRlPnh5ejwvdHJhbnNsYXRlPlwiXG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKCcnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY2FzZSBvZiByZWd1bGFyIGF0dHJpYnV0ZVxuICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQgIT09ICcnIHx8ICFmaXJzdEF0dHJpYnV0ZUNoYW5nZWRFdmVudCkge1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmlyc3RBdHRyaWJ1dGVDaGFuZ2VkRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgdHJhbnNsYXRlQXR0ciBpbiBpQXR0cikge1xuICAgICAgICAgIGlmIChpQXR0ci5oYXNPd25Qcm9wZXJ0eSh0cmFuc2xhdGVBdHRyKSAmJiB0cmFuc2xhdGVBdHRyLnN1YnN0cigwLCAxMykgPT09ICd0cmFuc2xhdGVBdHRyJyAmJiB0cmFuc2xhdGVBdHRyLmxlbmd0aCA+IDEzKSB7XG4gICAgICAgICAgICBvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24odHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZURlZmF1bHQnLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kZWZhdWx0VGV4dCA9IHZhbHVlO1xuICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVzRXhpc3QpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlVmFsdWVzJywgZnVuY3Rpb24gKGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNjb3BlLmludGVycG9sYXRlUGFyYW1zLCAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHNjb3BlLiRwYXJlbnQpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVFeGlzdCkge1xuICAgICAgICAgIHZhciBvYnNlcnZlVmFsdWVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0ck5hbWUpIHtcbiAgICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKGF0dHJOYW1lLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBhbmd1bGFyLmxvd2VyY2FzZShhdHRyTmFtZS5zdWJzdHIoMTQsIDEpKSArIGF0dHJOYW1lLnN1YnN0cigxNSk7XG4gICAgICAgICAgICAgIHNjb3BlLmludGVycG9sYXRlUGFyYW1zW2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gaUF0dHIpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaUF0dHIsIGF0dHIpICYmIGF0dHIuc3Vic3RyKDAsIDE0KSA9PT0gJ3RyYW5zbGF0ZVZhbHVlJyAmJiBhdHRyICE9PSAndHJhbnNsYXRlVmFsdWVzJykge1xuICAgICAgICAgICAgICBvYnNlcnZlVmFsdWVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFzdGVyIHVwZGF0ZSBmdW5jdGlvblxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0cmFuc2xhdGlvbklkcykge1xuICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWRzLmhhc093blByb3BlcnR5KGtleSkgJiYgdHJhbnNsYXRpb25JZHNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9uKGtleSwgdHJhbnNsYXRpb25JZHNba2V5XSwgc2NvcGUsIHNjb3BlLmludGVycG9sYXRlUGFyYW1zLCBzY29wZS5kZWZhdWx0VGV4dCwgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHV0IHRyYW5zbGF0aW9uIHByb2Nlc3NpbmcgZnVuY3Rpb24gb3V0c2lkZSBsb29wXG4gICAgICAgIHZhciB1cGRhdGVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uKHRyYW5zbGF0ZUF0dHIsIHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBpbnRlcnBvbGF0ZVBhcmFtcywgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgdHJhbnNsYXRlTmFtZXNwYWNlKSB7XG4gICAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgIC8vIGlmIHRyYW5zbGF0aW9uIGlkIHN0YXJ0cyB3aXRoICcuJyBhbmQgdHJhbnNsYXRlTmFtZXNwYWNlIGdpdmVuLCBwcmVwZW5kIG5hbWVzcGFjZVxuICAgICAgICAgICAgaWYgKHRyYW5zbGF0ZU5hbWVzcGFjZSAmJiB0cmFuc2xhdGlvbklkLmNoYXJBdCgwKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSB0cmFuc2xhdGVOYW1lc3BhY2UgKyB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCB0cmFuc2xhdGVJbnRlcnBvbGF0aW9uLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBzY29wZS50cmFuc2xhdGVMYW5ndWFnZSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbih0cmFuc2xhdGlvbiwgc2NvcGUsIHRydWUsIHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgc2NvcGUsIGZhbHNlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFzIGFuIGVtcHR5IHN0cmluZyBjYW5ub3QgYmUgdHJhbnNsYXRlZCwgd2UgY2FuIHNvbHZlIHRoaXMgdXNpbmcgc3VjY2Vzc2Z1bD1mYWxzZVxuICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBzY29wZSwgZmFsc2UsIHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBwbHlUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSwgc2NvcGUsIHN1Y2Nlc3NmdWwsIHRyYW5zbGF0ZUF0dHIpIHtcbiAgICAgICAgICBpZiAoIXN1Y2Nlc3NmdWwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NvcGUuZGVmYXVsdFRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gc2NvcGUuZGVmYXVsdFRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0cmFuc2xhdGVBdHRyID09PSAndHJhbnNsYXRlJykge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCB0cmFuc2xhdGUgaW50byBpbm5lckhUTUxcbiAgICAgICAgICAgIGlmIChzdWNjZXNzZnVsIHx8ICghc3VjY2Vzc2Z1bCAmJiAhJHRyYW5zbGF0ZS5pc0tlZXBDb250ZW50KCkgJiYgdHlwZW9mIGlBdHRyLnRyYW5zbGF0ZUtlZXBDb250ZW50ID09PSAndW5kZWZpbmVkJykpIHtcbiAgICAgICAgICAgICAgaUVsZW1lbnQuZW1wdHkoKS5hcHBlbmQoc2NvcGUucHJlVGV4dCArIHZhbHVlICsgc2NvcGUucG9zdFRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGdsb2JhbGx5RW5hYmxlZCA9ICR0cmFuc2xhdGUuaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCgpO1xuICAgICAgICAgICAgdmFyIGxvY2FsbHlEZWZpbmVkID0gdHlwZW9mIHRBdHRyLnRyYW5zbGF0ZUNvbXBpbGUgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgdmFyIGxvY2FsbHlFbmFibGVkID0gbG9jYWxseURlZmluZWQgJiYgdEF0dHIudHJhbnNsYXRlQ29tcGlsZSAhPT0gJ2ZhbHNlJztcbiAgICAgICAgICAgIGlmICgoZ2xvYmFsbHlFbmFibGVkICYmICFsb2NhbGx5RGVmaW5lZCkgfHwgbG9jYWxseUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgJGNvbXBpbGUoaUVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0cmFuc2xhdGUgYXR0cmlidXRlXG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGlBdHRyLiRhdHRyW3RyYW5zbGF0ZUF0dHJdO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUuc3Vic3RyKDAsIDUpID09PSAnZGF0YS0nKSB7XG4gICAgICAgICAgICAgIC8vIGVuc3VyZSBodG1sNSBkYXRhIHByZWZpeCBpcyBzdHJpcHBlZFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZS5zdWJzdHIoNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZS5zdWJzdHIoMTUpO1xuICAgICAgICAgICAgaUVsZW1lbnQuYXR0cihhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0cmFuc2xhdGVWYWx1ZXNFeGlzdCB8fCB0cmFuc2xhdGVWYWx1ZUV4aXN0IHx8IGlBdHRyLnRyYW5zbGF0ZURlZmF1bHQpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goJ2ludGVycG9sYXRlUGFyYW1zJywgdXBkYXRlVHJhbnNsYXRpb25zLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlcGxhY2VkIHdhdGNoZXIgb24gdHJhbnNsYXRlTGFuZ3VhZ2Ugd2l0aCBldmVudCBsaXN0ZW5lclxuICAgICAgICBzY29wZS4kb24oJ3RyYW5zbGF0ZUxhbmd1YWdlQ2hhbmdlZCcsIHVwZGF0ZVRyYW5zbGF0aW9ucyk7XG5cbiAgICAgICAgLy8gRW5zdXJlcyB0aGUgdGV4dCB3aWxsIGJlIHJlZnJlc2hlZCBhZnRlciB0aGUgY3VycmVudCBsYW5ndWFnZSB3YXMgY2hhbmdlZFxuICAgICAgICAvLyB3LyAkdHJhbnNsYXRlLnVzZSguLi4pXG4gICAgICAgIHZhciB1bmJpbmQgPSAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZVN1Y2Nlc3MnLCB1cGRhdGVUcmFuc2xhdGlvbnMpO1xuXG4gICAgICAgIC8vIGVuc3VyZSB0cmFuc2xhdGlvbiB3aWxsIGJlIGxvb2tlZCB1cCBhdCBsZWFzdCBvbmVcbiAgICAgICAgaWYgKGlFbGVtZW50LnRleHQoKS5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoaUF0dHIudHJhbnNsYXRlKSB7XG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKGlBdHRyLnRyYW5zbGF0ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24oJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpQXR0ci50cmFuc2xhdGUpIHtcbiAgICAgICAgICAvLyBlbnN1cmUgYXR0cmlidXRlIHdpbGwgYmUgbm90IHNraXBwZWRcbiAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKGlBdHRyLnRyYW5zbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB1bmJpbmQpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc2NvcGUncyBuYW1lc3BhY2UuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHNjb3BlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRUcmFuc2xhdGVOYW1lc3BhY2Uoc2NvcGUpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBpZiAoc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlKSB7XG4gICAgcmV0dXJuIHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZTtcbiAgfVxuICBpZiAoc2NvcGUuJHBhcmVudCkge1xuICAgIHJldHVybiBnZXRUcmFuc2xhdGVOYW1lc3BhY2Uoc2NvcGUuJHBhcmVudCk7XG4gIH1cbn1cblxudHJhbnNsYXRlRGlyZWN0aXZlLmRpc3BsYXlOYW1lID0gJ3RyYW5zbGF0ZURpcmVjdGl2ZSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlLWF0dHJcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUcmFuc2xhdGVzIGF0dHJpYnV0ZXMgbGlrZSB0cmFuc2xhdGUtYXR0ci1BVFRSLCBidXQgd2l0aCBhbiBvYmplY3QgbGlrZSBuZy1jbGFzcy5cbiAqIEludGVybmFsbHkgaXQgdXNlcyBgdHJhbnNsYXRlYCBzZXJ2aWNlIHRvIHRyYW5zbGF0ZSB0cmFuc2xhdGlvbiBpZC4gSXQgcG9zc2libGUgdG9cbiAqIHBhc3MgYW4gb3B0aW9uYWwgYHRyYW5zbGF0ZS12YWx1ZXNgIG9iamVjdCBsaXRlcmFsIGFzIHN0cmluZyBpbnRvIHRyYW5zbGF0aW9uIGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWF0dHIgT2JqZWN0IGxpdGVyYWwgbWFwcGluZyBhdHRyaWJ1dGVzIHRvIHRyYW5zbGF0aW9uIGlkcy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLXZhbHVlcyBWYWx1ZXMgdG8gcGFzcyBpbnRvIHRoZSB0cmFuc2xhdGlvbiBpZHMuIENhbiBiZSBwYXNzZWQgYXMgb2JqZWN0IGxpdGVyYWwgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxpbnB1dCB0cmFuc2xhdGUtYXR0cj1cInsgcGxhY2Vob2xkZXI6IHRyYW5zbGF0aW9uSWQsIHRpdGxlOiAnV0lUSF9WQUxVRVMnIH1cIiB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiIC8+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19JyxcbiAgICAgICAgfSkucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JykuY29udHJvbGxlcignVHJhbnNsYXRlQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICRzY29wZS52YWx1ZXMgPSB7XG4gICAgICAgICAgdmFsdWU6IDc4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjZW5hcmlvLmpzXCI+XG4gICAgICBpdCgnc2hvdWxkIHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkY29tcGlsZSkge1xuICAgICAgICAgICRyb290U2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxpbnB1dCB0cmFuc2xhdGUtYXR0cj1cInsgcGxhY2Vob2xkZXI6IHRyYW5zbGF0aW9uSWQsIHRpdGxlOiAnV0lUSF9WQUxVRVMnIH1cIiB0cmFuc2xhdGUtdmFsdWVzPVwieyB2YWx1ZTogNSB9XCIgLz4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCdwbGFjZWhvbGRlcikpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LmF0dHIoJ3RpdGxlKSkudG9CZSgnVGhlIGZvbGxvd2luZyB2YWx1ZSBpcyBkeW5hbWljOiA1Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGVBdHRyJywgdHJhbnNsYXRlQXR0ckRpcmVjdGl2ZSk7XG5mdW5jdGlvbiB0cmFuc2xhdGVBdHRyRGlyZWN0aXZlKCR0cmFuc2xhdGUsICRyb290U2NvcGUpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAkdHJhbnNsYXRlLmRpcmVjdGl2ZVByaW9yaXR5KCksXG4gICAgbGluazogZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVBdHRyLFxuICAgICAgICAgIHRyYW5zbGF0ZVZhbHVlcyxcbiAgICAgICAgICBwcmV2aW91c0F0dHJpYnV0ZXMgPSB7fTtcblxuICAgICAgLy8gTWFpbiB1cGRhdGUgdHJhbnNsYXRpb25zIGZ1bmN0aW9uXG4gICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2godHJhbnNsYXRlQXR0ciwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgICBpZiAoIXRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJldmlvdXNBdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIGlmIHRyYW5zbGF0aW9uIGlkIHN0YXJ0cyB3aXRoICcuJyBhbmQgdHJhbnNsYXRlTmFtZXNwYWNlIGdpdmVuLCBwcmVwZW5kIG5hbWVzcGFjZVxuICAgICAgICAgIGlmIChzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgJiYgdHJhbnNsYXRpb25JZC5jaGFyQXQoMCkgPT09ICcuJykge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZCA9IHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSArIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRlVmFsdWVzLCBhdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24sIHVuZGVmaW5lZCwgc2NvcGUudHJhbnNsYXRlTGFuZ3VhZ2UpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKGF0dHJpYnV0ZU5hbWUsIHRyYW5zbGF0aW9uKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYXR0cihhdHRyaWJ1dGVOYW1lLCB0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZW1vdmluZyB1bnVzZWQgYXR0cmlidXRlcyB0aGF0IHdlcmUgcHJldmlvdXNseSB1c2VkXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcmV2aW91c0F0dHJpYnV0ZXMsIGZ1bmN0aW9uIChmbGFnLCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgaWYgKCF0cmFuc2xhdGVBdHRyW2F0dHJpYnV0ZU5hbWVdKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICBkZWxldGUgcHJldmlvdXNBdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBXYXRjaCBmb3IgYXR0cmlidXRlIGNoYW5nZXNcbiAgICAgIHdhdGNoQXR0cmlidXRlKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgYXR0ci50cmFuc2xhdGVBdHRyLFxuICAgICAgICBmdW5jdGlvbiAobmV3VmFsdWUpIHsgdHJhbnNsYXRlQXR0ciA9IG5ld1ZhbHVlOyB9LFxuICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnNcbiAgICAgICk7XG4gICAgICAvLyBXYXRjaCBmb3IgdmFsdWUgY2hhbmdlc1xuICAgICAgd2F0Y2hBdHRyaWJ1dGUoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBhdHRyLnRyYW5zbGF0ZVZhbHVlcyxcbiAgICAgICAgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7IHRyYW5zbGF0ZVZhbHVlcyA9IG5ld1ZhbHVlOyB9LFxuICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnNcbiAgICAgICk7XG5cbiAgICAgIGlmIChhdHRyLnRyYW5zbGF0ZVZhbHVlcykge1xuICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci50cmFuc2xhdGVWYWx1ZXMsIHVwZGF0ZVRyYW5zbGF0aW9ucywgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlcGxhY2VkIHdhdGNoZXIgb24gdHJhbnNsYXRlTGFuZ3VhZ2Ugd2l0aCBldmVudCBsaXN0ZW5lclxuICAgICAgc2NvcGUuJG9uKCd0cmFuc2xhdGVMYW5ndWFnZUNoYW5nZWQnLCB1cGRhdGVUcmFuc2xhdGlvbnMpO1xuXG4gICAgICAvLyBFbnN1cmVzIHRoZSB0ZXh0IHdpbGwgYmUgcmVmcmVzaGVkIGFmdGVyIHRoZSBjdXJyZW50IGxhbmd1YWdlIHdhcyBjaGFuZ2VkXG4gICAgICAvLyB3LyAkdHJhbnNsYXRlLnVzZSguLi4pXG4gICAgICB2YXIgdW5iaW5kID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHdhdGNoQXR0cmlidXRlKHNjb3BlLCBhdHRyaWJ1dGUsIHZhbHVlQ2FsbGJhY2ssIGNoYW5nZUNhbGxiYWNrKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgaWYgKCFhdHRyaWJ1dGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGF0dHJpYnV0ZS5zdWJzdHIoMCwgMikgPT09ICc6OicpIHtcbiAgICBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGUuc3Vic3RyKDIpO1xuICB9IGVsc2Uge1xuICAgIHNjb3BlLiR3YXRjaChhdHRyaWJ1dGUsIGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICB2YWx1ZUNhbGxiYWNrKG5ld1ZhbHVlKTtcbiAgICAgIGNoYW5nZUNhbGxiYWNrKCk7XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgdmFsdWVDYWxsYmFjayhzY29wZS4kZXZhbChhdHRyaWJ1dGUpKTtcbn1cblxudHJhbnNsYXRlQXR0ckRpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVBdHRyRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVDbG9ha1xuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqIEByZXF1aXJlcyAkdHJhbnNsYXRlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqICRkZXNjcmlwdGlvblxuICogQWRkcyBhIGB0cmFuc2xhdGUtY2xvYWtgIGNsYXNzIG5hbWUgdG8gdGhlIGdpdmVuIGVsZW1lbnQgd2hlcmUgdGhpcyBkaXJlY3RpdmVcbiAqIGlzIGFwcGxpZWQgaW5pdGlhbGx5IGFuZCByZW1vdmVzIGl0LCBvbmNlIGEgbG9hZGVyIGhhcyBmaW5pc2hlZCBsb2FkaW5nLlxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSB1c2VkIHRvIHByZXZlbnQgaW5pdGlhbCBmbGlja2VyaW5nIHdoZW4gbG9hZGluZyB0cmFuc2xhdGlvblxuICogZGF0YSBhc3luY2hyb25vdXNseS5cbiAqXG4gKiBUaGUgY2xhc3MgbmFtZSBpcyBkZWZpbmVkIGluXG4gKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjY2xvYWtDbGFzc05hbWUgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1jbG9hayBJZiBhIHRyYW5zbGF0aW9uSWQgaXMgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdXNlZCBmb3Igc2hvd2luZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgaGlkaW5nIHRoZSBjbG9hay4gQmFzaWNhbGx5IGl0IHJlbGllcyBvbiB0aGUgdHJhbnNsYXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUuXG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUNsb2FrJywgdHJhbnNsYXRlQ2xvYWtEaXJlY3RpdmUpO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZSgkdHJhbnNsYXRlLCAkcm9vdFNjb3BlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiB7XG4gICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50KSB7XG4gICAgICB2YXIgYXBwbHlDbG9hayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVDbG9hayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdEVsZW1lbnQucmVtb3ZlQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgIH07XG4gICAgICAkdHJhbnNsYXRlLm9uUmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVDbG9haygpO1xuICAgICAgfSk7XG4gICAgICBhcHBseUNsb2FrKCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xuICAgICAgICBpZiAoaUF0dHIudHJhbnNsYXRlQ2xvYWsgJiYgaUF0dHIudHJhbnNsYXRlQ2xvYWsubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gUmVnaXN0ZXIgYSB3YXRjaGVyIGZvciB0aGUgZGVmaW5lZCB0cmFuc2xhdGlvbiBhbGxvd2luZyBhIGZpbmUgdHVuZWQgY2xvYWtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlQ2xvYWsnLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkKS50aGVuKHJlbW92ZUNsb2FrLCBhcHBseUNsb2FrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBSZWdpc3RlciBmb3IgY2hhbmdlIGV2ZW50cyBhcyB0aGlzIGlzIGJlaW5nIGFub3RoZXIgaW5kaWNpY2F0b3IgcmV2YWxpZGF0aW5nIHRoZSBjbG9haylcbiAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkdHJhbnNsYXRlKGlBdHRyLnRyYW5zbGF0ZUNsb2FrKS50aGVuKHJlbW92ZUNsb2FrLCBhcHBseUNsb2FrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbnRyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlLmRpc3BsYXlOYW1lID0gJ3RyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVOYW1lc3BhY2VcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUcmFuc2xhdGVzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGVpdGhlciB0aHJvdWdoIGF0dHJpYnV0ZSBvciBET00gY29udGVudC5cbiAqIEludGVybmFsbHkgaXQgdXNlcyBgdHJhbnNsYXRlYCBmaWx0ZXIgdG8gdHJhbnNsYXRlIHRyYW5zbGF0aW9uIGlkLiBJdCBwb3NzaWJsZSB0b1xuICogcGFzcyBhbiBvcHRpb25hbCBgdHJhbnNsYXRlLXZhbHVlc2Agb2JqZWN0IGxpdGVyYWwgYXMgc3RyaW5nIGludG8gdHJhbnNsYXRpb24gaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUgbmFtZXNwYWNlIG5hbWUgd2hpY2ggY291bGQgYmUgZWl0aGVyIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiB0cmFuc2xhdGUtbmFtZXNwYWNlPVwiQ09OVEVOVFwiPlxuXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5IRUFERVJTLlRJVExFPC9oMT5cbiAgICAgICAgICAgIDxoMSB0cmFuc2xhdGU+LkhFQURFUlMuV0VMQ09NRTwvaDE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgdHJhbnNsYXRlLW5hbWVzcGFjZT1cIi5IRUFERVJTXCI+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5USVRMRTwvaDE+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5XRUxDT01FPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ0NPTlRFTlQnOiB7XG4gICAgICAgICAgICAnSEVBREVSUyc6IHtcbiAgICAgICAgICAgICAgICBUSVRMRTogJ1RpdGxlJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ0NPTlRFTlQuSEVBREVSUy5XRUxDT01FJzogJ1dlbGNvbWUnXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlTmFtZXNwYWNlJywgdHJhbnNsYXRlTmFtZXNwYWNlRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gdHJhbnNsYXRlTmFtZXNwYWNlRGlyZWN0aXZlKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlOiBmdW5jdGlvbiAoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcbiAgICAgICAgICBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgPSBnZXRUcmFuc2xhdGVOYW1lc3BhY2Uoc2NvcGUpO1xuXG4gICAgICAgICAgaWYgKHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSAmJiBpQXR0cnMudHJhbnNsYXRlTmFtZXNwYWNlLmNoYXJBdCgwKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgKz0gaUF0dHJzLnRyYW5zbGF0ZU5hbWVzcGFjZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlID0gaUF0dHJzLnRyYW5zbGF0ZU5hbWVzcGFjZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNjb3BlJ3MgbmFtZXNwYWNlLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBzY29wZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgaWYgKHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSkge1xuICAgIHJldHVybiBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2U7XG4gIH1cbiAgaWYgKHNjb3BlLiRwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlLiRwYXJlbnQpO1xuICB9XG59XG5cbnRyYW5zbGF0ZU5hbWVzcGFjZURpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVOYW1lc3BhY2VEaXJlY3RpdmUnO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZUxhbmd1YWdlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRm9yY2VzIHRoZSBsYW5ndWFnZSB0byB0aGUgZGlyZWN0aXZlcyBpbiB0aGUgdW5kZXJseWluZyBzY29wZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZSBsYW5ndWFnZSB0aGF0IHdpbGwgYmUgbmVnb3RpYXRlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXY+XG5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMSB0cmFuc2xhdGU+SEVMTE88L2gxPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IHRyYW5zbGF0ZS1sYW5ndWFnZT1cImRlXCI+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPkhFTExPPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlclxuICAgICAgICAgIC50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgICAnSEVMTE8nOiAnSGVsbG8gd29ybGQhJ1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRyYW5zbGF0aW9ucygnZGUnLHtcbiAgICAgICAgICAgICdIRUxMTyc6ICdIYWxsbyBXZWx0ISdcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUxhbmd1YWdlJywgdHJhbnNsYXRlTGFuZ3VhZ2VEaXJlY3RpdmUpO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZSgpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcblxuICAgICAgICBpQXR0cnMuJG9ic2VydmUoJ3RyYW5zbGF0ZUxhbmd1YWdlJywgZnVuY3Rpb24gKG5ld1RyYW5zbGF0ZUxhbmd1YWdlKSB7XG4gICAgICAgICAgc2NvcGUudHJhbnNsYXRlTGFuZ3VhZ2UgPSBuZXdUcmFuc2xhdGVMYW5ndWFnZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKCd0cmFuc2xhdGVMYW5ndWFnZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgndHJhbnNsYXRlTGFuZ3VhZ2VDaGFuZ2VkJyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbnRyYW5zbGF0ZUxhbmd1YWdlRGlyZWN0aXZlLmRpc3BsYXlOYW1lID0gJ3RyYW5zbGF0ZUxhbmd1YWdlRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmZpbHRlcjp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkcGFyc2VcbiAqIEByZXF1aXJlcyBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAqIEBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBgJHRyYW5zbGF0ZWAgc2VydmljZSB0byB0cmFuc2xhdGUgY29udGVudHMuIEFjY2VwdHMgaW50ZXJwb2xhdGUgcGFyYW1ldGVyc1xuICogdG8gcGFzcyBkeW5hbWl6ZWQgdmFsdWVzIHRob3VnaCB0cmFuc2xhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBBIHRyYW5zbGF0aW9uIGlkIHRvIGJlIHRyYW5zbGF0ZWQuXG4gKiBAcGFyYW0geyo9fSBpbnRlcnBvbGF0ZVBhcmFtcyBPcHRpb25hbCBvYmplY3QgbGl0ZXJhbCAoYXMgaGFzaCBvciBzdHJpbmcpIHRvIHBhc3MgdmFsdWVzIGludG8gdHJhbnNsYXRpb24uXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVHJhbnNsYXRlZCB0ZXh0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmU+e3sgJ1RSQU5TTEFUSU9OX0lEJyB8IHRyYW5zbGF0ZSB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7IHRyYW5zbGF0aW9uSWQgfCB0cmFuc2xhdGUgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOid7dmFsdWU6IDV9JyB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7ICdXSVRIX1ZBTFVFUycgfCB0cmFuc2xhdGU6dmFsdWVzIH19PC9wcmU+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fSdcbiAgICAgICAgfSk7XG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmZpbHRlcigndHJhbnNsYXRlJywgdHJhbnNsYXRlRmlsdGVyRmFjdG9yeSk7XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZUZpbHRlckZhY3RvcnkoJHBhcnNlLCAkdHJhbnNsYXRlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB0cmFuc2xhdGVGaWx0ZXIgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24sIGZvcmNlTGFuZ3VhZ2UpIHtcbiAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QoaW50ZXJwb2xhdGVQYXJhbXMpKSB7XG4gICAgICBpbnRlcnBvbGF0ZVBhcmFtcyA9ICRwYXJzZShpbnRlcnBvbGF0ZVBhcmFtcykodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICR0cmFuc2xhdGUuaW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbiwgZm9yY2VMYW5ndWFnZSk7XG4gIH07XG5cbiAgaWYgKCR0cmFuc2xhdGUuc3RhdGVmdWxGaWx0ZXIoKSkge1xuICAgIHRyYW5zbGF0ZUZpbHRlci4kc3RhdGVmdWwgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHRyYW5zbGF0ZUZpbHRlcjtcbn1cblxudHJhbnNsYXRlRmlsdGVyRmFjdG9yeS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVGaWx0ZXJGYWN0b3J5JztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0aW9uQ2FjaGVcbiAqIEByZXF1aXJlcyAkY2FjaGVGYWN0b3J5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgZmlyc3QgdGltZSBhIHRyYW5zbGF0aW9uIHRhYmxlIGlzIHVzZWQsIGl0IGlzIGxvYWRlZCBpbiB0aGUgdHJhbnNsYXRpb24gY2FjaGUgZm9yIHF1aWNrIHJldHJpZXZhbC4gWW91XG4gKiBjYW4gbG9hZCB0cmFuc2xhdGlvbiB0YWJsZXMgZGlyZWN0bHkgaW50byB0aGUgY2FjaGUgYnkgY29uc3VtaW5nIHRoZVxuICogYCR0cmFuc2xhdGlvbkNhY2hlYCBzZXJ2aWNlIGRpcmVjdGx5LlxuICpcbiAqIEByZXR1cm4ge29iamVjdH0gJGNhY2hlRmFjdG9yeSBvYmplY3QuXG4gKi9cbiAgLmZhY3RvcnkoJyR0cmFuc2xhdGlvbkNhY2hlJywgJHRyYW5zbGF0aW9uQ2FjaGUpO1xuXG5mdW5jdGlvbiAkdHJhbnNsYXRpb25DYWNoZSgkY2FjaGVGYWN0b3J5KSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiAkY2FjaGVGYWN0b3J5KCd0cmFuc2xhdGlvbnMnKTtcbn1cblxuJHRyYW5zbGF0aW9uQ2FjaGUuZGlzcGxheU5hbWUgPSAnJHRyYW5zbGF0aW9uQ2FjaGUnO1xucmV0dXJuICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJztcblxufSkpO1xuXG4vKiBhbmd1bGFyLWxvYWQuanMgLyB2MC40LjEgLyAoYykgMjAxNCwgMjAxNSwgMjAxNiBVcmkgU2hha2VkIC8gTUlUIExpY2VuY2UgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyTG9hZCcsIFtdKVxuXHRcdC5zZXJ2aWNlKCdhbmd1bGFyTG9hZCcsIFsnJGRvY3VtZW50JywgJyRxJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRkb2N1bWVudCwgJHEsICR0aW1lb3V0KSB7XG5cdFx0XHR2YXIgZG9jdW1lbnQgPSAkZG9jdW1lbnRbMF07XG5cblx0XHRcdGZ1bmN0aW9uIGxvYWRlcihjcmVhdGVFbGVtZW50KSB7XG5cdFx0XHRcdHZhciBwcm9taXNlcyA9IHt9O1xuXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbih1cmwpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIHByb21pc2VzW3VybF0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHVybCk7XG5cblx0XHRcdFx0XHRcdGVsZW1lbnQub25sb2FkID0gZWxlbWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudC5yZWFkeVN0YXRlICYmIGVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2NvbXBsZXRlJyAmJiBlbGVtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkZWQnKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoZSk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGVsZW1lbnQub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZSk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0cHJvbWlzZXNbdXJsXSA9IGRlZmVycmVkLnByb21pc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHByb21pc2VzW3VybF07XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogRHluYW1pY2FsbHkgbG9hZHMgdGhlIGdpdmVuIHNjcmlwdFxuXHRcdFx0ICogQHBhcmFtIHNyYyBUaGUgdXJsIG9mIHRoZSBzY3JpcHQgdG8gbG9hZCBkeW5hbWljYWxseVxuXHRcdFx0ICogQHJldHVybnMgeyp9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9uY2UgdGhlIHNjcmlwdCBoYXMgYmVlbiBsb2FkZWQuXG5cdFx0XHQgKi9cblx0XHRcdHRoaXMubG9hZFNjcmlwdCA9IGxvYWRlcihmdW5jdGlvbiAoc3JjKSB7XG5cdFx0XHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuXHRcdFx0XHRzY3JpcHQuc3JjID0gc3JjO1xuXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblx0XHRcdFx0cmV0dXJuIHNjcmlwdDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKipcblx0XHRcdCAqIER5bmFtaWNhbGx5IGxvYWRzIHRoZSBnaXZlbiBDU1MgZmlsZVxuXHRcdFx0ICogQHBhcmFtIGhyZWYgVGhlIHVybCBvZiB0aGUgQ1NTIHRvIGxvYWQgZHluYW1pY2FsbHlcblx0XHRcdCAqIEByZXR1cm5zIHsqfSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBvbmNlIHRoZSBDU1MgZmlsZSBoYXMgYmVlbiBsb2FkZWQuXG5cdFx0XHQgKi9cblx0XHRcdHRoaXMubG9hZENTUyA9IGxvYWRlcihmdW5jdGlvbiAoaHJlZikge1xuXHRcdFx0XHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG5cblx0XHRcdFx0c3R5bGUucmVsID0gJ3N0eWxlc2hlZXQnO1xuXHRcdFx0XHRzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblx0XHRcdFx0c3R5bGUuaHJlZiA9IGhyZWY7XG5cblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0XHRcdHJldHVybiBzdHlsZTtcblx0XHRcdH0pO1xuXHRcdH1dKTtcbn0pKCk7XG5cbi8qIVxuICogYW5ndWxhci10cmFuc2xhdGUgLSB2Mi4xMy4xIC0gMjAxNi0xMi0wNlxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIGFuZ3VsYXItdHJhbnNsYXRlIHRlYW0sIFBhc2NhbCBQcmVjaHQ7IExpY2Vuc2VkIE1JVFxuICovXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSB1bmxlc3MgYW1kTW9kdWxlSWQgaXMgc2V0XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKGZhY3RvcnkoKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlci4kaW5qZWN0ID0gWyckcScsICckaHR0cCddO1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlclxuICogQHJlcXVpcmVzICRxXG4gKiBAcmVxdWlyZXMgJGh0dHBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhIHR5cGljYWwgc3RhdGljIGZpbGUgdXJsIHBhdHRlcm46XG4gKiBcImxhbmctZW5fVVMuanNvblwiLCBcImxhbmctZGVfREUuanNvblwiLCBldGMuIFVzaW5nIHRoaXMgYnVpbGRlcixcbiAqIHRoZSByZXNwb25zZSBvZiB0aGVzZSB1cmxzIG11c3QgYmUgYW4gb2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCwgd2hpY2ggZ2V0cyBwcmVmaXgsIHN1ZmZpeCwga2V5LCBhbmQgZmlsZU1hcFxuICovXG4uZmFjdG9yeSgnJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJywgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyKTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyKCRxLCAkaHR0cCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICByZXR1cm4gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgIGlmICghb3B0aW9ucyB8fCAoIWFuZ3VsYXIuaXNBcnJheShvcHRpb25zLmZpbGVzKSAmJiAoIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5wcmVmaXgpIHx8ICFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMuc3VmZml4KSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgbG9hZCBzdGF0aWMgZmlsZXMsIG5vIGZpbGVzIGFuZCBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCEnKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuZmlsZXMpIHtcbiAgICAgIG9wdGlvbnMuZmlsZXMgPSBbe1xuICAgICAgICBwcmVmaXg6IG9wdGlvbnMucHJlZml4LFxuICAgICAgICBzdWZmaXg6IG9wdGlvbnMuc3VmZml4XG4gICAgICB9XTtcbiAgICB9XG5cbiAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICBpZiAoIWZpbGUgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKGZpbGUucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhmaWxlLnN1ZmZpeCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCBsb2FkIHN0YXRpYyBmaWxlLCBubyBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCEnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpbGVVcmwgPSBbXG4gICAgICAgIGZpbGUucHJlZml4LFxuICAgICAgICBvcHRpb25zLmtleSxcbiAgICAgICAgZmlsZS5zdWZmaXhcbiAgICAgIF0uam9pbignJyk7XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KG9wdGlvbnMuZmlsZU1hcCkgJiYgb3B0aW9ucy5maWxlTWFwW2ZpbGVVcmxdKSB7XG4gICAgICAgIGZpbGVVcmwgPSBvcHRpb25zLmZpbGVNYXBbZmlsZVVybF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkaHR0cChhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgIHVybDogZmlsZVVybCxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGFyYW1zOiAnJ1xuICAgICAgfSwgb3B0aW9ucy4kaHR0cCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3Qob3B0aW9ucy5rZXkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHByb21pc2VzID0gW10sXG4gICAgICAgIGxlbmd0aCA9IG9wdGlvbnMuZmlsZXMubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcHJvbWlzZXMucHVzaChsb2FkKHtcbiAgICAgICAgcHJlZml4OiBvcHRpb25zLmZpbGVzW2ldLnByZWZpeCxcbiAgICAgICAga2V5OiBvcHRpb25zLmtleSxcbiAgICAgICAgc3VmZml4OiBvcHRpb25zLmZpbGVzW2ldLnN1ZmZpeFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiAkcS5hbGwocHJvbWlzZXMpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgICBtZXJnZWREYXRhID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhW2ldKSB7XG4gICAgICAgICAgICBtZXJnZWREYXRhW2tleV0gPSBkYXRhW2ldW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lcmdlZERhdGE7XG4gICAgICB9KTtcbiAgfTtcbn1cblxuJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyLmRpc3BsYXlOYW1lID0gJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcic7XG5yZXR1cm4gJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnO1xuXG59KSk7XG5cblwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGFuZ3VsYXIsIHdpbmRvdyAqL1xuXG4vKipcbiAqIFJlaW1wbGVtZW50YXRpb24gb2YgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyIHRvIGhhbmRsZSBtaXNzaW5nIGZpbGVzIGFuZCBsb2NhbGUgaGllcmFyY2h5IChlbi9lbl9VUylcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlXCIpLmZhY3RvcnkoXCIkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJcIiwgW1xuICBcIiRxXCIsXG4gIFwiJGh0dHBcIixcbiAgZnVuY3Rpb24gKCRxLCAkaHR0cCkge1xuICAgIGZ1bmN0aW9uIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0aW9ucywgZGVmZXJyZWQpIHtcbiAgICAgICRodHRwKGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgICAgdXJsOiBbXG4gICAgICAgICAgb3B0aW9ucy5wcmVmaXgsXG4gICAgICAgICAgb3B0aW9ucy5rZXkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICBvcHRpb25zLnN1ZmZpeFxuICAgICAgICBdLmpvaW4oXCJcIiksXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgcGFyYW1zOiBcIlwiXG4gICAgICB9LCBvcHRpb25zLiRodHRwKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYob3B0aW9ucy5rZXkuaW5kZXhPZihcIl9cIikgPj0gMCkge1xuICAgICAgICAgIHZhciBrZXkgPSBvcHRpb25zLmtleS5zdWJzdHIoMCwgb3B0aW9ucy5rZXkubGFzdEluZGV4T2YoXCJfXCIpKTtcbiAgICAgICAgICB2YXIgb3B0cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGtleToga2V5IH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0cywgZGVmZXJyZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoXCJ7fVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnN1ZmZpeCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkblxcXCJ0IGxvYWQgc3RhdGljIGZpbGVzLCBubyBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCFcIik7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0aW9ucywgZGVmZXJyZWQpO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuICB9XG5dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsIFtcInBhc2NhbHByZWNodC50cmFuc2xhdGVcIiwgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiXSlcbi5jb25maWcoW1wiJHRyYW5zbGF0ZVByb3ZpZGVyXCIsIFwiTE9DQUxFU19QUkVGSVhcIiwgXCJMT0NBTEVTX1NVRklYXCIsIGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIsIExPQ0FMRVNfUFJFRklYLCBMT0NBTEVTX1NVRklYKSB7XG4gIC8vIFRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbG9jYWxlXG4gICR0cmFuc2xhdGVQcm92aWRlci51c2VTdGF0aWNGaWxlc0xvYWRlcih7XG4gICAgcHJlZml4OiBMT0NBTEVTX1BSRUZJWCxcbiAgICBzdWZmaXg6IExPQ0FMRVNfU1VGSVhcbiAgfSk7XG4gIFxuICAkdHJhbnNsYXRlUHJvdmlkZXJcbiAgICAuZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UoKVxuICAgIC5mYWxsYmFja0xhbmd1YWdlKFwiZW5cIilcbiAgICAudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KG51bGwpO1xufV0pO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWZmaXguanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhZmZpeFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFGRklYIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBBZmZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIEFmZml4LkRFRkFVTFRTLCBvcHRpb25zKVxuXG4gICAgdGhpcy4kdGFyZ2V0ID0gJCh0aGlzLm9wdGlvbnMudGFyZ2V0KVxuICAgICAgLm9uKCdzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGknLCAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcykpXG4gICAgICAub24oJ2NsaWNrLmJzLmFmZml4LmRhdGEtYXBpJywgICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCwgdGhpcykpXG5cbiAgICB0aGlzLiRlbGVtZW50ICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLmFmZml4ZWQgICAgICA9XG4gICAgdGhpcy51bnBpbiAgICAgICAgPVxuICAgIHRoaXMucGlubmVkT2Zmc2V0ID0gbnVsbFxuXG4gICAgdGhpcy5jaGVja1Bvc2l0aW9uKClcbiAgfVxuXG4gIEFmZml4LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEFmZml4LlJFU0VUICAgID0gJ2FmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20nXG5cbiAgQWZmaXguREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAwLFxuICAgIHRhcmdldDogd2luZG93XG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBpbm5lZE9mZnNldCkgcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0XG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoJ2FmZml4JylcbiAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICByZXR1cm4gKHRoaXMucGlubmVkT2Zmc2V0ID0gcG9zaXRpb24udG9wIC0gc2Nyb2xsVG9wKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wID0gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpLCAxKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSByZXR1cm5cblxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSAkKGRvY3VtZW50KS5oZWlnaHQoKVxuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gICAgID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHZhciBvZmZzZXQgICAgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3BcbiAgICB2YXIgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbVxuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgIT0gJ29iamVjdCcpICAgICAgICAgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wID0gb2Zmc2V0XG4gICAgaWYgKHR5cGVvZiBvZmZzZXRUb3AgPT0gJ2Z1bmN0aW9uJykgICAgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcCh0aGlzLiRlbGVtZW50KVxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0Qm90dG9tID09ICdmdW5jdGlvbicpIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudClcblxuICAgIHZhciBhZmZpeCA9IHRoaXMudW5waW4gICAhPSBudWxsICYmIChzY3JvbGxUb3AgKyB0aGlzLnVucGluIDw9IHBvc2l0aW9uLnRvcCkgPyBmYWxzZSA6XG4gICAgICAgICAgICAgICAgb2Zmc2V0Qm90dG9tICE9IG51bGwgJiYgKHBvc2l0aW9uLnRvcCArIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICBvZmZzZXRUb3AgICAgIT0gbnVsbCAmJiAoc2Nyb2xsVG9wIDw9IG9mZnNldFRvcCkgPyAndG9wJyA6IGZhbHNlXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkID09PSBhZmZpeCkgcmV0dXJuXG4gICAgaWYgKHRoaXMudW5waW4gIT0gbnVsbCkgdGhpcy4kZWxlbWVudC5jc3MoJ3RvcCcsICcnKVxuXG4gICAgdmFyIGFmZml4VHlwZSA9ICdhZmZpeCcgKyAoYWZmaXggPyAnLScgKyBhZmZpeCA6ICcnKVxuICAgIHZhciBlICAgICAgICAgPSAkLkV2ZW50KGFmZml4VHlwZSArICcuYnMuYWZmaXgnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmFmZml4ZWQgPSBhZmZpeFxuICAgIHRoaXMudW5waW4gPSBhZmZpeCA9PSAnYm90dG9tJyA/IHRoaXMuZ2V0UGlubmVkT2Zmc2V0KCkgOiBudWxsXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpXG4gICAgICAuYWRkQ2xhc3MoYWZmaXhUeXBlKVxuICAgICAgLnRyaWdnZXIoJC5FdmVudChhZmZpeFR5cGUucmVwbGFjZSgnYWZmaXgnLCAnYWZmaXhlZCcpKSlcblxuICAgIGlmIChhZmZpeCA9PSAnYm90dG9tJykge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmZzZXQoe1xuICAgICAgICB0b3A6IHNjcm9sbEhlaWdodCAtIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgLSBvZmZzZXRCb3R0b21cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cblxuICAvLyBBRkZJWCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5hZmZpeCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWZmaXgnLCAoZGF0YSA9IG5ldyBBZmZpeCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWZmaXhcblxuICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWZmaXguQ29uc3RydWN0b3IgPSBBZmZpeFxuXG5cbiAgLy8gQUZGSVggTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFmZml4Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hZmZpeCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFGRklYIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cImFmZml4XCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhID0gJHNweS5kYXRhKClcblxuICAgICAgZGF0YS5vZmZzZXQgPSBkYXRhLm9mZnNldCB8fCB7fVxuXG4gICAgICBpZiAoZGF0YS5vZmZzZXRCb3R0b20pIGRhdGEub2Zmc2V0LmJvdHRvbSA9IGRhdGEub2Zmc2V0Qm90dG9tXG4gICAgICBpZiAoZGF0YS5vZmZzZXRUb3ApICAgIGRhdGEub2Zmc2V0LnRvcCAgICA9IGRhdGEub2Zmc2V0VG9wXG5cbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksIGRhdGEpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWxlcnQuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhbGVydHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBTEVSVCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgZGlzbWlzcyA9ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nXG4gIHZhciBBbGVydCAgID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgJChlbCkub24oJ2NsaWNrJywgZGlzbWlzcywgdGhpcy5jbG9zZSlcbiAgfVxuXG4gIEFsZXJ0LlZFUlNJT04gPSAnMy4yLjAnXG5cbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IpXG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoISRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAkcGFyZW50ID0gJHRoaXMuaGFzQ2xhc3MoJ2FsZXJ0JykgPyAkdGhpcyA6ICR0aGlzLnBhcmVudCgpXG4gICAgfVxuXG4gICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdjbG9zZS5icy5hbGVydCcpKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgIC8vIGRldGFjaCBmcm9tIHBhcmVudCwgZmlyZSBldmVudCB0aGVuIGNsZWFuIHVwIGRhdGFcbiAgICAgICRwYXJlbnQuZGV0YWNoKCkudHJpZ2dlcignY2xvc2VkLmJzLmFsZXJ0JykucmVtb3ZlKClcbiAgICB9XG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkcGFyZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHBhcmVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCByZW1vdmVFbGVtZW50KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICByZW1vdmVFbGVtZW50KClcbiAgfVxuXG5cbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFsZXJ0XG5cbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gIC8vIEFMRVJUIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWxlcnQgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBTEVSVCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgPSBzdGF0ZSArICdUZXh0J1xuXG4gICAgaWYgKGRhdGEucmVzZXRUZXh0ID09IG51bGwpICRlbC5kYXRhKCdyZXNldFRleHQnLCAkZWxbdmFsXSgpKVxuXG4gICAgJGVsW3ZhbF0oZGF0YVtzdGF0ZV0gPT0gbnVsbCA/IHRoaXMub3B0aW9uc1tzdGF0ZV0gOiBkYXRhW3N0YXRlXSlcblxuICAgIC8vIHB1c2ggdG8gZXZlbnQgbG9vcCB0byBhbGxvdyBmb3JtcyB0byBzdWJtaXRcbiAgICBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHN0YXRlID09ICdsb2FkaW5nVGV4dCcpIHtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlXG4gICAgICAgICRlbC5hZGRDbGFzcyhkKS5hdHRyKGQsIGQpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUF0dHIoZClcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgMClcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZVxuICAgIHZhciAkcGFyZW50ID0gdGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJylcblxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKVxuICAgICAgaWYgKCRpbnB1dC5wcm9wKCd0eXBlJykgPT0gJ3JhZGlvJykge1xuICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkgY2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIGVsc2UgJHBhcmVudC5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpLnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWQpIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYnV0dG9uJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5idXR0b25cblxuICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvblxuXG5cbiAgLy8gQlVUVE9OIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYnV0dG9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5idXR0b24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBCVVRUT04gREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJGJ0biA9ICQoZS50YXJnZXQpXG4gICAgaWYgKCEkYnRuLmhhc0NsYXNzKCdidG4nKSkgJGJ0biA9ICRidG4uY2xvc2VzdCgnLmJ0bicpXG4gICAgUGx1Z2luLmNhbGwoJGJ0biwgJ3RvZ2dsZScpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpLm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgIHRoaXMucGF1c2VkICAgICAgPVxuICAgIHRoaXMuc2xpZGluZyAgICAgPVxuICAgIHRoaXMuaW50ZXJ2YWwgICAgPVxuICAgIHRoaXMuJGFjdGl2ZSAgICAgPVxuICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG5cbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgfVxuXG4gIENhcm91c2VsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgIGludGVydmFsOiA1MDAwLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWVcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcblxuICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcblxuICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgJCh0aGlzLiRpdGVtc1twb3NdKSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8ICRhY3RpdmVbdHlwZV0oKVxuICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgIHZhciBmYWxsYmFjayAgPSB0eXBlID09ICduZXh0JyA/ICdmaXJzdCcgOiAnbGFzdCdcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgaWYgKCEkbmV4dC5sZW5ndGgpIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLndyYXApIHJldHVyblxuICAgICAgJG5leHQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtJylbZmFsbGJhY2tdKClcbiAgICB9XG5cbiAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuXG4gICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICB9KVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuc2xpZGluZyA9IHRydWVcblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcblxuICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICB9LCAwKVxuICAgICAgICB9KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoJGFjdGl2ZS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nKS5zbGljZSgwLCAtMSkgKiAxMDAwKVxuICAgIH0gZWxzZSB7XG4gICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG5cbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcblxuXG4gIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9KVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY29sbGFwc2UuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB0aGlzLiRwYXJlbnQgPSAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENvbGxhcHNlLkRFRkFVTFRTID0ge1xuICAgIHRvZ2dsZTogdHJ1ZVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpXG4gICAgcmV0dXJuIGhhc1dpZHRoID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuZmluZCgnPiAucGFuZWwgPiAuaW4nKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIHZhciBoYXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoaGFzRGF0YSAmJiBoYXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgaGFzRGF0YSB8fCBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJywgbnVsbClcbiAgICB9XG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB2YXIgc2Nyb2xsU2l6ZSA9ICQuY2FtZWxDYXNlKFsnc2Nyb2xsJywgZGltZW5zaW9uXS5qb2luKCctJykpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cblxuICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIG9wdGlvbiA9PSAnc2hvdycpIG9wdGlvbiA9ICFvcHRpb25cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciB0YXJnZXQgID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgICB8fCBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcbiAgICB2YXIgcGFyZW50ICA9ICR0aGlzLmF0dHIoJ2RhdGEtcGFyZW50JylcbiAgICB2YXIgJHBhcmVudCA9IHBhcmVudCAmJiAkKHBhcmVudClcblxuICAgIGlmICghZGF0YSB8fCAhZGF0YS50cmFuc2l0aW9uaW5nKSB7XG4gICAgICBpZiAoJHBhcmVudCkgJHBhcmVudC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyBwYXJlbnQgKyAnXCJdJykubm90KCR0aGlzKS5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICR0aGlzWyR0YXJnZXQuaGFzQ2xhc3MoJ2luJykgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oJ2NvbGxhcHNlZCcpXG4gICAgfVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBkcm9wZG93bi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Ryb3Bkb3duc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIERST1BET1dOIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBiYWNrZHJvcCA9ICcuZHJvcGRvd24tYmFja2Ryb3AnXG4gIHZhciB0b2dnbGUgICA9ICdbZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXSdcbiAgdmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAkKGVsZW1lbnQpLm9uKCdjbGljay5icy5kcm9wZG93bicsIHRoaXMudG9nZ2xlKVxuICB9XG5cbiAgRHJvcGRvd24uVkVSU0lPTiA9ICczLjIuMCdcblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKCc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tYmFja2Ryb3BcIi8+JykuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSkub24oJ2NsaWNrJywgY2xlYXJNZW51cylcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdzaG93LmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuXG4gICAgICAkcGFyZW50XG4gICAgICAgIC50b2dnbGVDbGFzcygnb3BlbicpXG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCEvKDM4fDQwfDI3KS8udGVzdChlLmtleUNvZGUpKSByZXR1cm5cblxuICAgIHZhciAkdGhpcyA9ICQodGhpcylcblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHBhcmVudCAgPSBnZXRQYXJlbnQoJHRoaXMpXG4gICAgdmFyIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpXG5cbiAgICBpZiAoIWlzQWN0aXZlIHx8IChpc0FjdGl2ZSAmJiBlLmtleUNvZGUgPT0gMjcpKSB7XG4gICAgICBpZiAoZS53aGljaCA9PSAyNykgJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgcmV0dXJuICR0aGlzLnRyaWdnZXIoJ2NsaWNrJylcbiAgICB9XG5cbiAgICB2YXIgZGVzYyA9ICcgbGk6bm90KC5kaXZpZGVyKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnW3JvbGU9XCJtZW51XCJdJyArIGRlc2MgKyAnLCBbcm9sZT1cImxpc3Rib3hcIl0nICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoJGl0ZW1zLmZpbHRlcignOmZvY3VzJykpXG5cbiAgICBpZiAoZS5rZXlDb2RlID09IDM4ICYmIGluZGV4ID4gMCkgICAgICAgICAgICAgICAgIGluZGV4LS0gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cFxuICAgIGlmIChlLmtleUNvZGUgPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvd25cbiAgICBpZiAoIX5pbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuICBmdW5jdGlvbiBjbGVhck1lbnVzKGUpIHtcbiAgICBpZiAoZSAmJiBlLndoaWNoID09PSAzKSByZXR1cm5cbiAgICAkKGJhY2tkcm9wKS5yZW1vdmUoKVxuICAgICQodG9nZ2xlKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkcGFyZW50ID0gZ2V0UGFyZW50KCQodGhpcykpXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCdoaWRkZW4uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYXJlbnQoJHRoaXMpIHtcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiAvI1tBLVphLXpdLy50ZXN0KHNlbGVjdG9yKSAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gc2VsZWN0b3IgJiYgJChzZWxlY3RvcilcblxuICAgIHJldHVybiAkcGFyZW50ICYmICRwYXJlbnQubGVuZ3RoID8gJHBhcmVudCA6ICR0aGlzLnBhcmVudCgpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUgKyAnLCBbcm9sZT1cIm1lbnVcIl0sIFtyb2xlPVwibGlzdGJveFwiXScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0YWJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gIH1cblxuICBUYWIuVkVSU0lPTiA9ICczLjIuMCdcblxuICBUYWIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzICAgID0gdGhpcy5lbGVtZW50XG4gICAgdmFyICR1bCAgICAgID0gJHRoaXMuY2xvc2VzdCgndWw6bm90KC5kcm9wZG93bi1tZW51KScpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuZGF0YSgndGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgaWYgKCR0aGlzLnBhcmVudCgnbGknKS5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVyblxuXG4gICAgdmFyIHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmU6bGFzdCBhJylbMF1cbiAgICB2YXIgZSAgICAgICAgPSAkLkV2ZW50KCdzaG93LmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHByZXZpb3VzXG4gICAgfSlcblxuICAgICR0aGlzLnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcblxuICAgIHRoaXMuYWN0aXZhdGUoJHRoaXMuY2xvc2VzdCgnbGknKSwgJHVsKVxuICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgJHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdzaG93bi5icy50YWInLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcbiAgICB2YXIgdHJhbnNpdGlvbiA9IGNhbGxiYWNrXG4gICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgJiYgJGFjdGl2ZS5oYXNDbGFzcygnZmFkZScpXG5cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5maW5kKCc+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyByZWZsb3cgZm9yIHRyYW5zaXRpb25cbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnaW4nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnZmFkZScpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50LnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKSkge1xuICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICB9XG5cbiAgICB0cmFuc2l0aW9uID9cbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgbmV4dClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgbmV4dCgpXG5cbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXG4gIH1cblxuXG4gIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy50YWInKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udGFiXG5cbiAgJC5mbi50YWIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gIC8vIFRBQiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udGFiID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gVEFCIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy50YWIuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdLCBbZGF0YS10b2dnbGU9XCJwaWxsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG5cbiAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgfVxuXG4gIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyICRlbCA9IHRoaXNcbiAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cblxuICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogc2Nyb2xsc3B5LmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jc2Nyb2xsc3B5XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU0NST0xMU1BZIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBwcm9jZXNzICA9ICQucHJveHkodGhpcy5wcm9jZXNzLCB0aGlzKVxuXG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoJ2JvZHknKVxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkKGVsZW1lbnQpLmlzKCdib2R5JykgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgICA9ICQuZXh0ZW5kKHt9LCBTY3JvbGxTcHkuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5zZWxlY3RvciAgICAgICA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8ICcnKSArICcgLm5hdiBsaSA+IGEnXG4gICAgdGhpcy5vZmZzZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy50YXJnZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbEhlaWdodCAgID0gMFxuXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudC5vbignc2Nyb2xsLmJzLnNjcm9sbHNweScsIHByb2Nlc3MpXG4gICAgdGhpcy5yZWZyZXNoKClcbiAgICB0aGlzLnByb2Nlc3MoKVxuICB9XG5cbiAgU2Nyb2xsU3B5LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFNjcm9sbFNweS5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDEwXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9mZnNldE1ldGhvZCA9ICdvZmZzZXQnXG4gICAgdmFyIG9mZnNldEJhc2UgICA9IDBcblxuICAgIGlmICghJC5pc1dpbmRvdyh0aGlzLiRzY3JvbGxFbGVtZW50WzBdKSkge1xuICAgICAgb2Zmc2V0TWV0aG9kID0gJ3Bvc2l0aW9uJ1xuICAgICAgb2Zmc2V0QmFzZSAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKVxuICAgIH1cblxuICAgIHRoaXMub2Zmc2V0cyA9IFtdXG4gICAgdGhpcy50YXJnZXRzID0gW11cbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcblxuICAgIHZhciBzZWxmICAgICA9IHRoaXNcblxuICAgIHRoaXMuJGJvZHlcbiAgICAgIC5maW5kKHRoaXMuc2VsZWN0b3IpXG4gICAgICAubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbCAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgaHJlZiAgPSAkZWwuZGF0YSgndGFyZ2V0JykgfHwgJGVsLmF0dHIoJ2hyZWYnKVxuICAgICAgICB2YXIgJGhyZWYgPSAvXiMuLy50ZXN0KGhyZWYpICYmICQoaHJlZilcblxuICAgICAgICByZXR1cm4gKCRocmVmXG4gICAgICAgICAgJiYgJGhyZWYubGVuZ3RoXG4gICAgICAgICAgJiYgJGhyZWYuaXMoJzp2aXNpYmxlJylcbiAgICAgICAgICAmJiBbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3AgKyBvZmZzZXRCYXNlLCBocmVmXV0pIHx8IG51bGxcbiAgICAgIH0pXG4gICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF0gfSlcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5vZmZzZXRzLnB1c2godGhpc1swXSlcbiAgICAgICAgc2VsZi50YXJnZXRzLnB1c2godGhpc1sxXSlcbiAgICAgIH0pXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcbiAgICB2YXIgbWF4U2Nyb2xsICAgID0gdGhpcy5vcHRpb25zLm9mZnNldCArIHNjcm9sbEhlaWdodCAtIHRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0cyAgICAgID0gdGhpcy5vZmZzZXRzXG4gICAgdmFyIHRhcmdldHMgICAgICA9IHRoaXMudGFyZ2V0c1xuICAgIHZhciBhY3RpdmVUYXJnZXQgPSB0aGlzLmFjdGl2ZVRhcmdldFxuICAgIHZhciBpXG5cbiAgICBpZiAodGhpcy5zY3JvbGxIZWlnaHQgIT0gc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIH1cblxuICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7XG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1t0YXJnZXRzLmxlbmd0aCAtIDFdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0c1swXSkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbMF0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgYWN0aXZlVGFyZ2V0ICE9IHRhcmdldHNbaV1cbiAgICAgICAgJiYgc2Nyb2xsVG9wID49IG9mZnNldHNbaV1cbiAgICAgICAgJiYgKCFvZmZzZXRzW2kgKyAxXSB8fCBzY3JvbGxUb3AgPD0gb2Zmc2V0c1tpICsgMV0pXG4gICAgICAgICYmIHRoaXMuYWN0aXZhdGUodGFyZ2V0c1tpXSlcbiAgICB9XG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0XG5cbiAgICAkKHRoaXMuc2VsZWN0b3IpXG4gICAgICAucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsICcuYWN0aXZlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgIHZhciBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IgK1xuICAgICAgICAnW2RhdGEtdGFyZ2V0PVwiJyArIHRhcmdldCArICdcIl0sJyArXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgKyAnW2hyZWY9XCInICsgdGFyZ2V0ICsgJ1wiXSdcblxuICAgIHZhciBhY3RpdmUgPSAkKHNlbGVjdG9yKVxuICAgICAgLnBhcmVudHMoJ2xpJylcbiAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgYWN0aXZlID0gYWN0aXZlXG4gICAgICAgIC5jbG9zZXN0KCdsaS5kcm9wZG93bicpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScsIChkYXRhID0gbmV3IFNjcm9sbFNweSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uc2Nyb2xsc3B5XG5cbiAgJC5mbi5zY3JvbGxzcHkgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBTY3JvbGxTcHlcblxuXG4gIC8vIFNDUk9MTFNQWSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uc2Nyb2xsc3B5ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGknLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksICRzcHkuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IG1vZGFsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jbW9kYWxzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gTU9EQUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gb3B0aW9uc1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kZWxlbWVudCAgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRiYWNrZHJvcCAgICAgID1cbiAgICB0aGlzLmlzU2hvd24gICAgICAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSAwXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbW90ZSkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuZmluZCgnLm1vZGFsLWNvbnRlbnQnKVxuICAgICAgICAubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2xvYWRlZC5icy5tb2RhbCcpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIE1vZGFsLkRFRkFVTFRTID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBlICAgID0gJC5FdmVudCgnc2hvdy5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKHRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IHRydWVcblxuICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKVxuICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5zZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuZXNjYXBlKClcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxuXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoYXQuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICBpZiAoIXRoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8odGhhdC4kYm9keSkgLy8gZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uXG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLnNob3coKVxuICAgICAgICAuc2Nyb2xsVG9wKDApXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdpbicpXG4gICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKVxuXG4gICAgICB0aGF0LmVuZm9yY2VGb2N1cygpXG5cbiAgICAgIHZhciBlID0gJC5FdmVudCgnc2hvd24uYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICAgIHRyYW5zaXRpb24gP1xuICAgICAgICB0aGF0LiRlbGVtZW50LmZpbmQoJy5tb2RhbC1kaWFsb2cnKSAvLyB3YWl0IGZvciBtb2RhbCB0byBzbGlkZSBpblxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKSA6XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBlID0gJC5FdmVudCgnaGlkZS5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2VcblxuICAgIHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5yZXNldFNjcm9sbGJhcigpXG4gICAgdGhpcy5lc2NhcGUoKVxuXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSlcbiAgICAgIC5vZmYoJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApIDpcbiAgICAgIHRoaXMuaGlkZU1vZGFsKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKSAvLyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbignZm9jdXNpbi5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gIT09IGUudGFyZ2V0ICYmICF0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKVxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMubW9kYWwnKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYmFja2Ryb3AgJiYgdGhpcy4kYmFja2Ryb3AucmVtb3ZlKClcbiAgICB0aGlzLiRiYWNrZHJvcCA9IG51bGxcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5iYWNrZHJvcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBhbmltYXRlID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID8gJ2ZhZGUnIDogJydcblxuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmJhY2tkcm9wKSB7XG4gICAgICB2YXIgZG9BbmltYXRlID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgYW5pbWF0ZVxuXG4gICAgICB0aGlzLiRiYWNrZHJvcCA9ICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSArICdcIiAvPicpXG4gICAgICAgIC5hcHBlbmRUbyh0aGlzLiRib2R5KVxuXG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkgcmV0dXJuXG4gICAgICAgIHRoaXMub3B0aW9ucy5iYWNrZHJvcCA9PSAnc3RhdGljJ1xuICAgICAgICAgID8gdGhpcy4kZWxlbWVudFswXS5mb2N1cy5jYWxsKHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICAgICAgOiB0aGlzLmhpZGUuY2FsbCh0aGlzKVxuICAgICAgfSwgdGhpcykpXG5cbiAgICAgIGlmIChkb0FuaW1hdGUpIHRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuXG4gICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm5cblxuICAgICAgZG9BbmltYXRlID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFjaylcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrKClcblxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93biAmJiB0aGlzLiRiYWNrZHJvcCkge1xuICAgICAgdGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnJlbW92ZUJhY2tkcm9wKClcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFja1JlbW92ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcblxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPj0gd2luZG93LmlubmVyV2lkdGgpIHJldHVyblxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLnNjcm9sbGJhcldpZHRoIHx8IHRoaXMubWVhc3VyZVNjcm9sbGJhcigpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBib2R5UGFkID0gcGFyc2VJbnQoKHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCksIDEwKVxuICAgIGlmICh0aGlzLnNjcm9sbGJhcldpZHRoKSB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWQgKyB0aGlzLnNjcm9sbGJhcldpZHRoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgJycpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXG4gICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSdcbiAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoXG4gICAgdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpXG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXG4gIH1cblxuXG4gIC8vIE1PREFMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbiwgX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5tb2RhbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5tb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oX3JlbGF0ZWRUYXJnZXQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLnNob3cpIGRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ubW9kYWxcblxuICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ubW9kYWwuQ29uc3RydWN0b3IgPSBNb2RhbFxuXG5cbiAgLy8gTU9EQUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLm1vZGFsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5tb2RhbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIE1PREFMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLm1vZGFsLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciBvcHRpb24gID0gJHRhcmdldC5kYXRhKCdicy5tb2RhbCcpID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7IHJlbW90ZTogIS8jLy50ZXN0KGhyZWYpICYmIGhyZWYgfSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcblxuICAgIGlmICgkdGhpcy5pcygnYScpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICR0YXJnZXQub25lKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICR0YXJnZXQub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aGlzLmlzKCc6dmlzaWJsZScpICYmICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH0pXG4gICAgfSlcbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24sIHRoaXMpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRvb2x0aXAuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0b29sdGlwXG4gKiBJbnNwaXJlZCBieSB0aGUgb3JpZ2luYWwgalF1ZXJ5LnRpcHN5IGJ5IEphc29uIEZyYW1lXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVE9PTFRJUCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSAgICAgICA9XG4gICAgdGhpcy5vcHRpb25zICAgID1cbiAgICB0aGlzLmVuYWJsZWQgICAgPVxuICAgIHRoaXMudGltZW91dCAgICA9XG4gICAgdGhpcy5ob3ZlclN0YXRlID1cbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG5cbiAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgVG9vbHRpcC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBUb29sdGlwLkRFRkFVTFRTID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZWxheTogMCxcbiAgICBodG1sOiBmYWxzZSxcbiAgICBjb250YWluZXI6IGZhbHNlLFxuICAgIHZpZXdwb3J0OiB7XG4gICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuZW5hYmxlZCAgID0gdHJ1ZVxuICAgIHRoaXMudHlwZSAgICAgID0gdHlwZVxuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gdGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy4kdmlld3BvcnQgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgJCh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KVxuXG4gICAgdmFyIHRyaWdnZXJzID0gdGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoJyAnKVxuXG4gICAgZm9yICh2YXIgaSA9IHRyaWdnZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgdmFyIHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXVxuXG4gICAgICBpZiAodHJpZ2dlciA9PSAnY2xpY2snKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLnRvZ2dsZSwgdGhpcykpXG4gICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT0gJ21hbnVhbCcpIHtcbiAgICAgICAgdmFyIGV2ZW50SW4gID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlZW50ZXInIDogJ2ZvY3VzaW4nXG4gICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWxlYXZlJyA6ICdmb2N1c291dCdcblxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4gICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5lbnRlciwgdGhpcykpXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRPdXQgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmxlYXZlLCB0aGlzKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3IgP1xuICAgICAgKHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7IHRyaWdnZXI6ICdtYW51YWwnLCBzZWxlY3RvcjogJycgfSkpIDpcbiAgICAgIHRoaXMuZml4VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRvb2x0aXAuREVGQVVMVFNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5nZXREZWZhdWx0cygpLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucylcblxuICAgIGlmIChvcHRpb25zLmRlbGF5ICYmIHR5cGVvZiBvcHRpb25zLmRlbGF5ID09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zLmRlbGF5ID0ge1xuICAgICAgICBzaG93OiBvcHRpb25zLmRlbGF5LFxuICAgICAgICBoaWRlOiBvcHRpb25zLmRlbGF5XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyAgPSB7fVxuICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZ2V0RGVmYXVsdHMoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyAmJiAkLmVhY2godGhpcy5fb3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChkZWZhdWx0c1trZXldICE9IHZhbHVlKSBvcHRpb25zW2tleV0gPSB2YWx1ZVxuICAgIH0pXG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnb3V0J1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSByZXR1cm4gc2VsZi5oaWRlKClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnb3V0Jykgc2VsZi5oaWRlKClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93LmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAodGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgdmFyIGluRG9tID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuXG4gICAgICB2YXIgdGlwSWQgPSB0aGlzLmdldFVJRCh0aGlzLnR5cGUpXG5cbiAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAkdGlwLmF0dHIoJ2lkJywgdGlwSWQpXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCAkdGlwWzBdLCB0aGlzLiRlbGVtZW50WzBdKSA6XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgdmFyIGF1dG9Ub2tlbiA9IC9cXHM/YXV0bz9cXHM/L2lcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXG4gICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAkdGlwXG4gICAgICAgIC5kZXRhY2goKVxuICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICAgIC5kYXRhKCdicy4nICsgdGhpcy50eXBlLCB0aGlzKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcblxuICAgICAgdmFyIHBvcyAgICAgICAgICA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgIHZhciBvcmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRcbiAgICAgICAgdmFyICRwYXJlbnQgICAgICA9IHRoaXMuJGVsZW1lbnQucGFyZW50KClcbiAgICAgICAgdmFyIHBhcmVudERpbSAgICA9IHRoaXMuZ2V0UG9zaXRpb24oJHBhcmVudClcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLnRvcCAgICsgcG9zLmhlaWdodCAgICAgICArIGFjdHVhbEhlaWdodCAtIHBhcmVudERpbS5zY3JvbGwgPiBwYXJlbnREaW0uaGVpZ2h0ID8gJ3RvcCcgICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgJiYgcG9zLnRvcCAgIC0gcGFyZW50RGltLnNjcm9sbCAtIGFjdHVhbEhlaWdodCA8IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAgJiYgcG9zLnJpZ2h0ICsgYWN0dWFsV2lkdGggICAgICA+IHBhcmVudERpbS53aWR0aCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgIC0gYWN0dWFsV2lkdGggICAgICA8IHBhcmVudERpbS5sZWZ0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3JpZ2h0JyAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRcblxuICAgICAgICAkdGlwXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudClcbiAgICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgfVxuXG4gICAgICB2YXIgY2FsY3VsYXRlZE9mZnNldCA9IHRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChjYWxjdWxhdGVkT2Zmc2V0LCBwbGFjZW1lbnQpXG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgICB0aGF0LmhvdmVyU3RhdGUgPSBudWxsXG4gICAgICB9XG5cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgICAgY29tcGxldGUoKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50ID0gZnVuY3Rpb24gKG9mZnNldCwgcGxhY2VtZW50KSB7XG4gICAgdmFyICR0aXAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgd2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBoZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgLy8gbWFudWFsbHkgcmVhZCBtYXJnaW5zIGJlY2F1c2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluY2x1ZGVzIGRpZmZlcmVuY2VcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi10b3AnKSwgMTApXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApXG5cbiAgICAvLyB3ZSBtdXN0IGNoZWNrIGZvciBOYU4gZm9yIGllIDgvOVxuICAgIGlmIChpc05hTihtYXJnaW5Ub3ApKSAgbWFyZ2luVG9wICA9IDBcbiAgICBpZiAoaXNOYU4obWFyZ2luTGVmdCkpIG1hcmdpbkxlZnQgPSAwXG5cbiAgICBvZmZzZXQudG9wICA9IG9mZnNldC50b3AgICsgbWFyZ2luVG9wXG4gICAgb2Zmc2V0LmxlZnQgPSBvZmZzZXQubGVmdCArIG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gZGVsdGEubGVmdCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dQb3NpdGlvbiAgICAgICA9IGRlbHRhLmxlZnQgPyAnbGVmdCcgICAgICAgIDogJ3RvcCdcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGRlbHRhLmxlZnQgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBhcnJvd1Bvc2l0aW9uKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5hcnJvdygpLmNzcyhwb3NpdGlvbiwgZGVsdGEgPyAoNTAgKiAoMSAtIGRlbHRhIC8gZGltZW5zaW9uKSArICclJykgOiAnJylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgID0gdGhpcy50aXAoKVxuICAgIHZhciB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKVxuXG4gICAgJHRpcC5maW5kKCcudG9vbHRpcC1pbm5lcicpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSlcbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIGluIHRvcCBib3R0b20gbGVmdCByaWdodCcpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JylcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgaWYgKHRoYXQuaG92ZXJTdGF0ZSAhPSAnaW4nKSAkdGlwLmRldGFjaCgpXG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy4nICsgdGhhdC50eXBlKVxuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHRpcFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgY29tcGxldGUoKVxuXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmZpeFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgKCRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgIT0gJ3N0cmluZycpIHtcbiAgICAgICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAkZS5hdHRyKCd0aXRsZScpIHx8ICcnKS5hdHRyKCd0aXRsZScsICcnKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcbiAgICAkZWxlbWVudCAgID0gJGVsZW1lbnQgfHwgdGhpcy4kZWxlbWVudFxuICAgIHZhciBlbCAgICAgPSAkZWxlbWVudFswXVxuICAgIHZhciBpc0JvZHkgPSBlbC50YWdOYW1lID09ICdCT0RZJ1xuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgKHR5cGVvZiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT0gJ2Z1bmN0aW9uJykgPyBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGwsIHtcbiAgICAgIHNjcm9sbDogaXNCb2R5ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA6ICRlbGVtZW50LnNjcm9sbFRvcCgpLFxuICAgICAgd2lkdGg6ICBpc0JvZHkgPyAkKHdpbmRvdykud2lkdGgoKSAgOiAkZWxlbWVudC5vdXRlcldpZHRoKCksXG4gICAgICBoZWlnaHQ6IGlzQm9keSA/ICQod2luZG93KS5oZWlnaHQoKSA6ICRlbGVtZW50Lm91dGVySGVpZ2h0KClcbiAgICB9LCBpc0JvZHkgPyB7IHRvcDogMCwgbGVmdDogMCB9IDogJGVsZW1lbnQub2Zmc2V0KCkpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudCA9PSAnYm90dG9tJyA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCwgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgPyB7IHRvcDogcG9zLnRvcCAtIGFjdHVhbEhlaWdodCwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyICB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0IC0gYWN0dWFsV2lkdGggfSA6XG4gICAgICAgIC8qIHBsYWNlbWVudCA9PSAncmlnaHQnICovIHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAgIH1cblxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgdmFyIGRlbHRhID0geyB0b3A6IDAsIGxlZnQ6IDAgfVxuICAgIGlmICghdGhpcy4kdmlld3BvcnQpIHJldHVybiBkZWx0YVxuXG4gICAgdmFyIHZpZXdwb3J0UGFkZGluZyA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiB0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZyB8fCAwXG4gICAgdmFyIHZpZXdwb3J0RGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpXG5cbiAgICBpZiAoL3JpZ2h0fGxlZnQvLnRlc3QocGxhY2VtZW50KSkge1xuICAgICAgdmFyIHRvcEVkZ2VPZmZzZXQgICAgPSBwb3MudG9wIC0gdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbFxuICAgICAgdmFyIGJvdHRvbUVkZ2VPZmZzZXQgPSBwb3MudG9wICsgdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbCArIGFjdHVhbEhlaWdodFxuICAgICAgaWYgKHRvcEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMudG9wKSB7IC8vIHRvcCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wIC0gdG9wRWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChib3R0b21FZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQpIHsgLy8gYm90dG9tIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0IC0gYm90dG9tRWRnZU9mZnNldFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGVmdEVkZ2VPZmZzZXQgID0gcG9zLmxlZnQgLSB2aWV3cG9ydFBhZGRpbmdcbiAgICAgIHZhciByaWdodEVkZ2VPZmZzZXQgPSBwb3MubGVmdCArIHZpZXdwb3J0UGFkZGluZyArIGFjdHVhbFdpZHRoXG4gICAgICBpZiAobGVmdEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCkgeyAvLyBsZWZ0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCAtIGxlZnRFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0RWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCkgeyAvLyByaWdodCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgKyB2aWV3cG9ydERpbWVuc2lvbnMud2lkdGggLSByaWdodEVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsdGFcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aXRsZVxuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHRpdGxlID0gJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpXG4gICAgICB8fCAodHlwZW9mIG8udGl0bGUgPT0gJ2Z1bmN0aW9uJyA/IG8udGl0bGUuY2FsbCgkZVswXSkgOiAgby50aXRsZSlcblxuICAgIHJldHVybiB0aXRsZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VUlEID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGRvIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogMTAwMDAwMClcbiAgICB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSlcbiAgICByZXR1cm4gcHJlZml4XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiR0aXAgPSB0aGlzLiR0aXAgfHwgJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLnRvb2x0aXAtYXJyb3cnKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmhpZGUoKVxuICAgICAgdGhpcy4kZWxlbWVudCA9IG51bGxcbiAgICAgIHRoaXMub3B0aW9ucyAgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gIXRoaXMuZW5hYmxlZFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoZSkge1xuICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgIHRoaXMuaGlkZSgpLiRlbGVtZW50Lm9mZignLicgKyB0aGlzLnR5cGUpLnJlbW92ZURhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG4gIH1cblxuXG4gIC8vIFRPT0xUSVAgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy50b29sdGlwJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbiA9PSAnZGVzdHJveScpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxuXG4gICQuZm4udG9vbHRpcCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRvb2x0aXAgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHBvcG92ZXIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNwb3BvdmVyc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFBPUE9WRVIgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBQb3BvdmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmluaXQoJ3BvcG92ZXInLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgaWYgKCEkLmZuLnRvb2x0aXApIHRocm93IG5ldyBFcnJvcignUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzJylcblxuICBQb3BvdmVyLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFBvcG92ZXIuREVGQVVMVFMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLCB7XG4gICAgcGxhY2VtZW50OiAncmlnaHQnLFxuICAgIHRyaWdnZXI6ICdjbGljaycsXG4gICAgY29udGVudDogJycsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+PGgzIGNsYXNzPVwicG9wb3Zlci10aXRsZVwiPjwvaDM+PGRpdiBjbGFzcz1cInBvcG92ZXItY29udGVudFwiPjwvZGl2PjwvZGl2PidcbiAgfSlcblxuXG4gIC8vIE5PVEU6IFBPUE9WRVIgRVhURU5EUyB0b29sdGlwLmpzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSlcblxuICBQb3BvdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUG9wb3Zlci5ERUZBVUxUU1xuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgICA9IHRoaXMuZ2V0VGl0bGUoKVxuICAgIHZhciBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KClcblxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50JykuZW1wdHkoKVsgLy8gd2UgdXNlIGFwcGVuZCBmb3IgaHRtbCBvYmplY3RzIHRvIG1haW50YWluIGpzIGV2ZW50c1xuICAgICAgdGhpcy5vcHRpb25zLmh0bWwgPyAodHlwZW9mIGNvbnRlbnQgPT0gJ3N0cmluZycgPyAnaHRtbCcgOiAnYXBwZW5kJykgOiAndGV4dCdcbiAgICBdKGNvbnRlbnQpXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbicpXG5cbiAgICAvLyBJRTggZG9lc24ndCBhY2NlcHQgaGlkaW5nIHZpYSB0aGUgYDplbXB0eWAgcHNldWRvIHNlbGVjdG9yLCB3ZSBoYXZlIHRvIGRvXG4gICAgLy8gdGhpcyBtYW51YWxseSBieSBjaGVja2luZyB0aGUgY29udGVudHMuXG4gICAgaWYgKCEkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaHRtbCgpKSAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaGlkZSgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5nZXRDb250ZW50KClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgcmV0dXJuICRlLmF0dHIoJ2RhdGEtY29udGVudCcpXG4gICAgICB8fCAodHlwZW9mIG8uY29udGVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIG8uY29udGVudC5jYWxsKCRlWzBdKSA6XG4gICAgICAgICAgICBvLmNvbnRlbnQpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcuYXJyb3cnKSlcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJHRpcCkgdGhpcy4kdGlwID0gJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpXG4gICAgcmV0dXJuIHRoaXMuJHRpcFxuICB9XG5cblxuICAvLyBQT1BPVkVSIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicsIChkYXRhID0gbmV3IFBvcG92ZXIodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnBvcG92ZXJcblxuICAkLmZuLnBvcG92ZXIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG5cbiAgLy8gUE9QT1ZFUiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5wb3BvdmVyID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cblxuLypcbiAqIGFuZ3VsYXItdWktYm9vdHN0cmFwXG4gKiBodHRwOi8vYW5ndWxhci11aS5naXRodWIuaW8vYm9vdHN0cmFwL1xuXG4gKiBWZXJzaW9uOiAwLjEzLjQgLSAyMDE1LTA5LTAzXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJ1aS5ib290c3RyYXBcIiwgW1widWkuYm9vdHN0cmFwLnRwbHNcIiwgXCJ1aS5ib290c3RyYXAuY29sbGFwc2VcIixcInVpLmJvb3RzdHJhcC5hY2NvcmRpb25cIixcInVpLmJvb3RzdHJhcC5hbGVydFwiLFwidWkuYm9vdHN0cmFwLmJpbmRIdG1sXCIsXCJ1aS5ib290c3RyYXAuYnV0dG9uc1wiLFwidWkuYm9vdHN0cmFwLmNhcm91c2VsXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlclwiLFwidWkuYm9vdHN0cmFwLnBvc2l0aW9uXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLmRyb3Bkb3duXCIsXCJ1aS5ib290c3RyYXAubW9kYWxcIixcInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uXCIsXCJ1aS5ib290c3RyYXAudG9vbHRpcFwiLFwidWkuYm9vdHN0cmFwLnBvcG92ZXJcIixcInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhclwiLFwidWkuYm9vdHN0cmFwLnJhdGluZ1wiLFwidWkuYm9vdHN0cmFwLnRhYnNcIixcInVpLmJvb3RzdHJhcC50aW1lcGlja2VyXCIsXCJ1aS5ib290c3RyYXAudHJhbnNpdGlvblwiLFwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZFwiXSk7XG5hbmd1bGFyLm1vZHVsZShcInVpLmJvb3RzdHJhcC50cGxzXCIsIFtcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIl0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZScsIFtdKVxuXG4gIC5kaXJlY3RpdmUoJ2NvbGxhcHNlJywgWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBmdW5jdGlvbiBleHBhbmQoKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcblxuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdpbicsIHtcbiAgICAgICAgICAgIHRvOiB7IGhlaWdodDogZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyAncHgnIH1cbiAgICAgICAgICB9KS50aGVuKGV4cGFuZERvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZXhwYW5kRG9uZSgpIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJyk7XG4gICAgICAgICAgZWxlbWVudC5jc3Moe2hlaWdodDogJ2F1dG8nfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZSgpIHtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ2NvbGxhcHNlJykgJiYgIWVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xsYXBzZURvbmUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAvLyBJTVBPUlRBTlQ6IFRoZSBoZWlnaHQgbXVzdCBiZSBzZXQgYmVmb3JlIGFkZGluZyBcImNvbGxhcHNpbmdcIiBjbGFzcy5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhlIGJyb3dzZXIgYXR0ZW1wdHMgdG8gYW5pbWF0ZSBmcm9tIGhlaWdodCAwIChpblxuICAgICAgICAgICAgLy8gY29sbGFwc2luZyBjbGFzcykgdG8gdGhlIGdpdmVuIGhlaWdodCBoZXJlLlxuICAgICAgICAgICAgLmNzcyh7aGVpZ2h0OiBlbGVtZW50WzBdLnNjcm9sbEhlaWdodCArICdweCd9KVxuICAgICAgICAgICAgLy8gaW5pdGlhbGx5IGFsbCBwYW5lbCBjb2xsYXBzZSBoYXZlIHRoZSBjb2xsYXBzZSBjbGFzcywgdGhpcyByZW1vdmFsXG4gICAgICAgICAgICAvLyBwcmV2ZW50cyB0aGUgYW5pbWF0aW9uIGZyb20ganVtcGluZyB0byBjb2xsYXBzZWQgc3RhdGVcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTtcblxuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsICdpbicsIHtcbiAgICAgICAgICAgIHRvOiB7aGVpZ2h0OiAnMCd9XG4gICAgICAgICAgfSkudGhlbihjb2xsYXBzZURvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2VEb25lKCkge1xuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICcwJ30pOyAvLyBSZXF1aXJlZCBzbyB0aGF0IGNvbGxhcHNlIHdvcmtzIHdoZW4gYW5pbWF0aW9uIGlzIGRpc2FibGVkXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMuY29sbGFwc2UsIGZ1bmN0aW9uKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgaWYgKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgICBjb2xsYXBzZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHBhbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hY2NvcmRpb24nLCBbJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZSddKVxuXG4uY29uc3RhbnQoJ2FjY29yZGlvbkNvbmZpZycsIHtcbiAgY2xvc2VPdGhlcnM6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdBY2NvcmRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ2FjY29yZGlvbkNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCBhY2NvcmRpb25Db25maWcpIHtcbiAgLy8gVGhpcyBhcnJheSBrZWVwcyB0cmFjayBvZiB0aGUgYWNjb3JkaW9uIGdyb3Vwc1xuICB0aGlzLmdyb3VwcyA9IFtdO1xuXG4gIC8vIEVuc3VyZSB0aGF0IGFsbCB0aGUgZ3JvdXBzIGluIHRoaXMgYWNjb3JkaW9uIGFyZSBjbG9zZWQsIHVubGVzcyBjbG9zZS1vdGhlcnMgZXhwbGljaXRseSBzYXlzIG5vdCB0b1xuICB0aGlzLmNsb3NlT3RoZXJzID0gZnVuY3Rpb24ob3Blbkdyb3VwKSB7XG4gICAgdmFyIGNsb3NlT3RoZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmNsb3NlT3RoZXJzKSA/XG4gICAgICAkc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKSA6IGFjY29yZGlvbkNvbmZpZy5jbG9zZU90aGVycztcbiAgICBpZiAoY2xvc2VPdGhlcnMpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcywgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwICE9PSBvcGVuR3JvdXApIHtcbiAgICAgICAgICBncm91cC5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgdG8gYWRkIGl0c2VsZiB0byB0aGUgYWNjb3JkaW9uXG4gIHRoaXMuYWRkR3JvdXAgPSBmdW5jdGlvbihncm91cFNjb3BlKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuZ3JvdXBzLnB1c2goZ3JvdXBTY29wZSk7XG5cbiAgICBncm91cFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdGhhdC5yZW1vdmVHcm91cChncm91cFNjb3BlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHdoZW4gdG8gcmVtb3ZlIGl0c2VsZlxuICB0aGlzLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmdyb3Vwcy5pbmRleE9mKGdyb3VwKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfTtcblxufV0pXG5cbi8vIFRoZSBhY2NvcmRpb24gZGlyZWN0aXZlIHNpbXBseSBzZXRzIHVwIHRoZSBkaXJlY3RpdmUgY29udHJvbGxlclxuLy8gYW5kIGFkZHMgYW4gYWNjb3JkaW9uIENTUyBjbGFzcyB0byBpdHNlbGYgZWxlbWVudC5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIGNvbnRyb2xsZXI6ICdBY2NvcmRpb25Db250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdhY2NvcmRpb24nLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogZmFsc2UsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCc7XG4gICAgfVxuICB9O1xufSlcblxuLy8gVGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgaW5kaWNhdGVzIGEgYmxvY2sgb2YgaHRtbCB0aGF0IHdpbGwgZXhwYW5kIGFuZCBjb2xsYXBzZSBpbiBhbiBhY2NvcmRpb25cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbkdyb3VwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb24nLCAgICAgICAgIC8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgdG8gYmUgaW5zaWRlIGFuIGFjY29yZGlvblxuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsICAgICAgICAgICAgICAvLyBJdCB0cmFuc2NsdWRlcyB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSBpbnRvIHRoZSB0ZW1wbGF0ZVxuICAgIHJlcGxhY2U6IHRydWUsICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGRpcmVjdGl2ZSB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHRlbXBsYXRlXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgaGVhZGluZzogJ0AnLCAgICAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRoZSBoZWFkaW5nIGF0dHJpYnV0ZSBvbnRvIHRoaXMgc2NvcGVcbiAgICAgIGlzT3BlbjogJz0/JyxcbiAgICAgIGlzRGlzYWJsZWQ6ICc9PydcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXRIZWFkaW5nID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB0aGlzLmhlYWRpbmcgPSBlbGVtZW50O1xuICAgICAgfTtcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgYWNjb3JkaW9uQ3RybCkge1xuICAgICAgYWNjb3JkaW9uQ3RybC5hZGRHcm91cChzY29wZSk7XG5cbiAgICAgIHNjb3BlLm9wZW5DbGFzcyA9IGF0dHJzLm9wZW5DbGFzcyB8fCAncGFuZWwtb3Blbic7XG4gICAgICBzY29wZS5wYW5lbENsYXNzID0gYXR0cnMucGFuZWxDbGFzcztcbiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhzY29wZS5vcGVuQ2xhc3MsIHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgYWNjb3JkaW9uQ3RybC5jbG9zZU90aGVycyhzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS50b2dnbGVPcGVuID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIGlmICghc2NvcGUuaXNEaXNhYmxlZCkge1xuICAgICAgICAgIGlmICghJGV2ZW50IHx8ICRldmVudC53aGljaCA9PT0gMzIpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9ICFzY29wZS5pc09wZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBhY2NvcmRpb24taGVhZGluZyBiZWxvdyBhbiBhY2NvcmRpb24tZ3JvdXAgdG8gcHJvdmlkZSBhIGhlYWRpbmcgY29udGFpbmluZyBIVE1MXG4vLyA8YWNjb3JkaW9uLWdyb3VwPlxuLy8gICA8YWNjb3JkaW9uLWhlYWRpbmc+SGVhZGluZyBjb250YWluaW5nIEhUTUwgLSA8aW1nIHNyYz1cIi4uLlwiPjwvYWNjb3JkaW9uLWhlYWRpbmc+XG4vLyA8L2FjY29yZGlvbi1ncm91cD5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbkhlYWRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLCAgIC8vIEdyYWIgdGhlIGNvbnRlbnRzIHRvIGJlIHVzZWQgYXMgdGhlIGhlYWRpbmdcbiAgICB0ZW1wbGF0ZTogJycsICAgICAgIC8vIEluIGVmZmVjdCByZW1vdmUgdGhpcyBlbGVtZW50IVxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGFjY29yZGlvbkdyb3VwQ3RybCwgdHJhbnNjbHVkZSkge1xuICAgICAgLy8gUGFzcyB0aGUgaGVhZGluZyB0byB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXJcbiAgICAgIC8vIHNvIHRoYXQgaXQgY2FuIGJlIHRyYW5zY2x1ZGVkIGludG8gdGhlIHJpZ2h0IHBsYWNlIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgLy8gW1RoZSBzZWNvbmQgcGFyYW1ldGVyIHRvIHRyYW5zY2x1ZGUgY2F1c2VzIHRoZSBlbGVtZW50cyB0byBiZSBjbG9uZWQgc28gdGhhdCB0aGV5IHdvcmsgaW4gbmctcmVwZWF0XVxuICAgICAgYWNjb3JkaW9uR3JvdXBDdHJsLnNldEhlYWRpbmcodHJhbnNjbHVkZShzY29wZSwgYW5ndWxhci5ub29wKSk7XG4gICAgfVxuICB9O1xufSlcblxuLy8gVXNlIGluIHRoZSBhY2NvcmRpb24tZ3JvdXAgdGVtcGxhdGUgdG8gaW5kaWNhdGUgd2hlcmUgeW91IHdhbnQgdGhlIGhlYWRpbmcgdG8gYmUgdHJhbnNjbHVkZWRcbi8vIFlvdSBtdXN0IHByb3ZpZGUgdGhlIHByb3BlcnR5IG9uIHRoZSBhY2NvcmRpb24tZ3JvdXAgY29udHJvbGxlciB0aGF0IHdpbGwgaG9sZCB0aGUgdHJhbnNjbHVkZWQgZWxlbWVudFxuLy8gPGRpdiBjbGFzcz1cImFjY29yZGlvbi1ncm91cFwiPlxuLy8gICA8ZGl2IGNsYXNzPVwiYWNjb3JkaW9uLWhlYWRpbmdcIiA+PGEgLi4uIGFjY29yZGlvbi10cmFuc2NsdWRlPVwiaGVhZGluZ1wiPi4uLjwvYT48L2Rpdj5cbi8vICAgLi4uXG4vLyA8L2Rpdj5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvblRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXmFjY29yZGlvbkdyb3VwJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udHJvbGxlcikge1xuICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udHJvbGxlclthdHRyLmFjY29yZGlvblRyYW5zY2x1ZGVdOyB9LCBmdW5jdGlvbihoZWFkaW5nKSB7XG4gICAgICAgIGlmIChoZWFkaW5nKSB7XG4gICAgICAgICAgZWxlbWVudC5maW5kKCdzcGFuJykuaHRtbCgnJyk7XG4gICAgICAgICAgZWxlbWVudC5maW5kKCdzcGFuJykuYXBwZW5kKGhlYWRpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG47XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWxlcnQnLCBbXSlcblxuLmNvbnRyb2xsZXIoJ0FsZXJ0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzKSB7XG4gICRzY29wZS5jbG9zZWFibGUgPSAhISRhdHRycy5jbG9zZTtcbiAgdGhpcy5jbG9zZSA9ICRzY29wZS5jbG9zZTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdhbGVydCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGNvbnRyb2xsZXI6ICdBbGVydENvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2FsZXJ0JyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCc7XG4gICAgfSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIHR5cGU6ICdAJyxcbiAgICAgIGNsb3NlOiAnJidcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkaXNtaXNzT25UaW1lb3V0JywgWyckdGltZW91dCcsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ2FsZXJ0JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGFsZXJ0Q3RybCkge1xuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGFsZXJ0Q3RybC5jbG9zZSgpO1xuICAgICAgfSwgcGFyc2VJbnQoYXR0cnMuZGlzbWlzc09uVGltZW91dCwgMTApKTtcbiAgICB9XG4gIH07XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYmluZEh0bWwnLCBbXSlcblxuICAudmFsdWUoJyRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsIGZhbHNlKVxuXG4gIC5kaXJlY3RpdmUoJ2JpbmRIdG1sVW5zYWZlJywgWyckbG9nJywgJyRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsIGZ1bmN0aW9uICgkbG9nLCAkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICBpZiAoISRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICAgICAkbG9nLndhcm4oJ2JpbmRIdG1sVW5zYWZlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgbmdCaW5kSHRtbCBpbnN0ZWFkJyk7XG4gICAgICB9XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCduZy1iaW5kaW5nJykuZGF0YSgnJGJpbmRpbmcnLCBhdHRyLmJpbmRIdG1sVW5zYWZlKTtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLmJpbmRIdG1sVW5zYWZlLCBmdW5jdGlvbiBiaW5kSHRtbFVuc2FmZVdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSB8fCAnJyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XSk7XG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmJ1dHRvbnMnLCBbXSlcblxuLmNvbnN0YW50KCdidXR0b25Db25maWcnLCB7XG4gIGFjdGl2ZUNsYXNzOiAnYWN0aXZlJyxcbiAgdG9nZ2xlRXZlbnQ6ICdjbGljaydcbn0pXG5cbi5jb250cm9sbGVyKCdCdXR0b25zQ29udHJvbGxlcicsIFsnYnV0dG9uQ29uZmlnJywgZnVuY3Rpb24oYnV0dG9uQ29uZmlnKSB7XG4gIHRoaXMuYWN0aXZlQ2xhc3MgPSBidXR0b25Db25maWcuYWN0aXZlQ2xhc3MgfHwgJ2FjdGl2ZSc7XG4gIHRoaXMudG9nZ2xlRXZlbnQgPSBidXR0b25Db25maWcudG9nZ2xlRXZlbnQgfHwgJ2NsaWNrJztcbn1dKVxuXG4uZGlyZWN0aXZlKCdidG5SYWRpbycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6IFsnYnRuUmFkaW8nLCAnbmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdCdXR0b25zQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYnV0dG9ucycsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGVsZW1lbnQuZmluZCgnaW5wdXQnKS5jc3Moe2Rpc3BsYXk6ICdub25lJ30pO1xuXG4gICAgICAvL21vZGVsIC0+IFVJXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpKTtcbiAgICAgIH07XG5cbiAgICAgIC8vdWktPm1vZGVsXG4gICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNBY3RpdmUgPSBlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKTtcblxuICAgICAgICBpZiAoIWlzQWN0aXZlIHx8IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnVuY2hlY2thYmxlKSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoaXNBY3RpdmUgPyBudWxsIDogc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKTtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnYnRuQ2hlY2tib3gnLCBbJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRkb2N1bWVudCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6IFsnYnRuQ2hlY2tib3gnLCAnbmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdCdXR0b25zQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYnV0dG9uJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZWxlbWVudC5maW5kKCdpbnB1dCcpLmNzcyh7ZGlzcGxheTogJ25vbmUnfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFRydWVWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hUcnVlLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0RmFsc2VWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hGYWxzZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGF0dHJpYnV0ZVZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdmFyIHZhbCA9IHNjb3BlLiRldmFsKGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCkgPyB2YWwgOiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIC8vbW9kZWwgLT4gVUlcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcywgYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsIGdldFRydWVWYWx1ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICAvL3VpLT5tb2RlbFxuICAgICAgZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcykgPyBnZXRGYWxzZVZhbHVlKCkgOiBnZXRUcnVlVmFsdWUoKSk7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvL2FjY2Vzc2liaWxpdHlcbiAgICAgIGVsZW1lbnQub24oJ2tleXByZXNzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQgfHwgZS53aGljaCAhPT0gMzIgfHwgJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgIT09IGVsZW1lbnRbMF0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKSA/IGdldEZhbHNlVmFsdWUoKSA6IGdldFRydWVWYWx1ZSgpKTtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vKipcbiogQG5nZG9jIG92ZXJ2aWV3XG4qIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbFxuKlxuKiBAZGVzY3JpcHRpb25cbiogQW5ndWxhckpTIHZlcnNpb24gb2YgYW4gaW1hZ2UgY2Fyb3VzZWwuXG4qXG4qL1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jYXJvdXNlbCcsIFtdKVxuLmNvbnRyb2xsZXIoJ0Nhcm91c2VsQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRlbGVtZW50JywgJyRpbnRlcnZhbCcsICckYW5pbWF0ZScsIGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkaW50ZXJ2YWwsICRhbmltYXRlKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICBzbGlkZXMgPSBzZWxmLnNsaWRlcyA9ICRzY29wZS5zbGlkZXMgPSBbXSxcbiAgICBORVdfQU5JTUFURSA9IGFuZ3VsYXIudmVyc2lvbi5taW5vciA+PSA0LFxuICAgIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXG4gICAgY3VycmVudEluZGV4ID0gLTEsXG4gICAgY3VycmVudEludGVydmFsLCBpc1BsYXlpbmc7XG4gIHNlbGYuY3VycmVudFNsaWRlID0gbnVsbDtcblxuICB2YXIgZGVzdHJveWVkID0gZmFsc2U7XG4gIC8qIGRpcmVjdGlvbjogXCJwcmV2XCIgb3IgXCJuZXh0XCIgKi9cbiAgc2VsZi5zZWxlY3QgPSAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24obmV4dFNsaWRlLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gJHNjb3BlLmluZGV4T2ZTbGlkZShuZXh0U2xpZGUpO1xuICAgIC8vRGVjaWRlIGRpcmVjdGlvbiBpZiBpdCdzIG5vdCBnaXZlblxuICAgIGlmIChkaXJlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGlyZWN0aW9uID0gbmV4dEluZGV4ID4gc2VsZi5nZXRDdXJyZW50SW5kZXgoKSA/ICduZXh0JyA6ICdwcmV2JztcbiAgICB9XG4gICAgLy9QcmV2ZW50IHRoaXMgdXNlci10cmlnZ2VyZWQgdHJhbnNpdGlvbiBmcm9tIG9jY3VycmluZyBpZiB0aGVyZSBpcyBhbHJlYWR5IG9uZSBpbiBwcm9ncmVzc1xuICAgIGlmIChuZXh0U2xpZGUgJiYgbmV4dFNsaWRlICE9PSBzZWxmLmN1cnJlbnRTbGlkZSAmJiAhJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbikge1xuICAgICAgZ29OZXh0KG5leHRTbGlkZSwgbmV4dEluZGV4LCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBnb05leHQoc2xpZGUsIGluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICAvLyBTY29wZSBoYXMgYmVlbiBkZXN0cm95ZWQsIHN0b3AgaGVyZS5cbiAgICBpZiAoZGVzdHJveWVkKSB7IHJldHVybjsgfVxuXG4gICAgYW5ndWxhci5leHRlbmQoc2xpZGUsIHtkaXJlY3Rpb246IGRpcmVjdGlvbiwgYWN0aXZlOiB0cnVlfSk7XG4gICAgYW5ndWxhci5leHRlbmQoc2VsZi5jdXJyZW50U2xpZGUgfHwge30sIHtkaXJlY3Rpb246IGRpcmVjdGlvbiwgYWN0aXZlOiBmYWxzZX0pO1xuICAgIGlmICgkYW5pbWF0ZS5lbmFibGVkKCkgJiYgISRzY29wZS5ub1RyYW5zaXRpb24gJiYgISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gJiZcbiAgICAgIHNsaWRlLiRlbGVtZW50ICYmIHNlbGYuc2xpZGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHNsaWRlLiRlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OLCBzbGlkZS5kaXJlY3Rpb24pO1xuICAgICAgaWYgKHNlbGYuY3VycmVudFNsaWRlICYmIHNlbGYuY3VycmVudFNsaWRlLiRlbGVtZW50KSB7XG4gICAgICAgIHNlbGYuY3VycmVudFNsaWRlLiRlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OLCBzbGlkZS5kaXJlY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgIGlmIChORVdfQU5JTUFURSkge1xuICAgICAgICAkYW5pbWF0ZS5vbignYWRkQ2xhc3MnLCBzbGlkZS4kZWxlbWVudCwgZnVuY3Rpb24gKGVsZW1lbnQsIHBoYXNlKSB7XG4gICAgICAgICAgaWYgKHBoYXNlID09PSAnY2xvc2UnKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICRhbmltYXRlLm9mZignYWRkQ2xhc3MnLCBlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGUuJGVsZW1lbnQub25lKCckYW5pbWF0ZTpjbG9zZScsIGZ1bmN0aW9uIGNsb3NlRm4oKSB7XG4gICAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYuY3VycmVudFNsaWRlID0gc2xpZGU7XG4gICAgY3VycmVudEluZGV4ID0gaW5kZXg7XG5cbiAgICAvL2V2ZXJ5IHRpbWUgeW91IGNoYW5nZSBzbGlkZXMsIHJlc2V0IHRoZSB0aW1lclxuICAgIHJlc3RhcnRUaW1lcigpO1xuICB9XG5cbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0U2xpZGVCeUluZGV4KGluZGV4KSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoc2xpZGVzW2luZGV4XS5pbmRleCkpIHtcbiAgICAgIHJldHVybiBzbGlkZXNbaW5kZXhdO1xuICAgIH1cbiAgICB2YXIgaSwgbGVuID0gc2xpZGVzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldLmluZGV4ID09IGluZGV4KSB7XG4gICAgICAgIHJldHVybiBzbGlkZXNbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2VsZi5nZXRDdXJyZW50SW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi5jdXJyZW50U2xpZGUgJiYgYW5ndWxhci5pc0RlZmluZWQoc2VsZi5jdXJyZW50U2xpZGUuaW5kZXgpKSB7XG4gICAgICByZXR1cm4gK3NlbGYuY3VycmVudFNsaWRlLmluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudEluZGV4O1xuICB9O1xuXG4gIC8qIEFsbG93IG91dHNpZGUgcGVvcGxlIHRvIGNhbGwgaW5kZXhPZiBvbiBzbGlkZXMgYXJyYXkgKi9cbiAgJHNjb3BlLmluZGV4T2ZTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHNsaWRlLmluZGV4KSA/ICtzbGlkZS5pbmRleCA6IHNsaWRlcy5pbmRleE9mKHNsaWRlKTtcbiAgfTtcblxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdJbmRleCA9IChzZWxmLmdldEN1cnJlbnRJbmRleCgpICsgMSkgJSBzbGlkZXMubGVuZ3RoO1xuXG4gICAgaWYgKG5ld0luZGV4ID09PSAwICYmICRzY29wZS5ub1dyYXAoKSkge1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc2VsZWN0KGdldFNsaWRlQnlJbmRleChuZXdJbmRleCksICduZXh0Jyk7XG4gIH07XG5cbiAgJHNjb3BlLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3SW5kZXggPSBzZWxmLmdldEN1cnJlbnRJbmRleCgpIC0gMSA8IDAgPyBzbGlkZXMubGVuZ3RoIC0gMSA6IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgLSAxO1xuXG4gICAgaWYgKCRzY29wZS5ub1dyYXAoKSAmJiBuZXdJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpe1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc2VsZWN0KGdldFNsaWRlQnlJbmRleChuZXdJbmRleCksICdwcmV2Jyk7XG4gIH07XG5cbiAgJHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgcmV0dXJuIHNlbGYuY3VycmVudFNsaWRlID09PSBzbGlkZTtcbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKCdpbnRlcnZhbCcsIHJlc3RhcnRUaW1lcik7XG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgcmVzZXRUaW1lcik7XG5cbiAgZnVuY3Rpb24gcmVzdGFydFRpbWVyKCkge1xuICAgIHJlc2V0VGltZXIoKTtcbiAgICB2YXIgaW50ZXJ2YWwgPSArJHNjb3BlLmludGVydmFsO1xuICAgIGlmICghaXNOYU4oaW50ZXJ2YWwpICYmIGludGVydmFsID4gMCkge1xuICAgICAgY3VycmVudEludGVydmFsID0gJGludGVydmFsKHRpbWVyRm4sIGludGVydmFsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRpbWVyKCkge1xuICAgIGlmIChjdXJyZW50SW50ZXJ2YWwpIHtcbiAgICAgICRpbnRlcnZhbC5jYW5jZWwoY3VycmVudEludGVydmFsKTtcbiAgICAgIGN1cnJlbnRJbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJGbigpIHtcbiAgICB2YXIgaW50ZXJ2YWwgPSArJHNjb3BlLmludGVydmFsO1xuICAgIGlmIChpc1BsYXlpbmcgJiYgIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbCA+IDAgJiYgc2xpZGVzLmxlbmd0aCkge1xuICAgICAgJHNjb3BlLm5leHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWlzUGxheWluZykge1xuICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgIHJlc3RhcnRUaW1lcigpO1xuICAgIH1cbiAgfTtcbiAgJHNjb3BlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9QYXVzZSkge1xuICAgICAgaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICByZXNldFRpbWVyKCk7XG4gICAgfVxuICB9O1xuXG4gIHNlbGYuYWRkU2xpZGUgPSBmdW5jdGlvbihzbGlkZSwgZWxlbWVudCkge1xuICAgIHNsaWRlLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICBzbGlkZXMucHVzaChzbGlkZSk7XG4gICAgLy9pZiB0aGlzIGlzIHRoZSBmaXJzdCBzbGlkZSBvciB0aGUgc2xpZGUgaXMgc2V0IHRvIGFjdGl2ZSwgc2VsZWN0IGl0XG4gICAgaWYoc2xpZGVzLmxlbmd0aCA9PT0gMSB8fCBzbGlkZS5hY3RpdmUpIHtcbiAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tzbGlkZXMubGVuZ3RoLTFdKTtcbiAgICAgIGlmIChzbGlkZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgJHNjb3BlLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHNlbGYucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzbGlkZS5pbmRleCkpIHtcbiAgICAgIHNsaWRlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuICthLmluZGV4ID4gK2IuaW5kZXg7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy9nZXQgdGhlIGluZGV4IG9mIHRoZSBzbGlkZSBpbnNpZGUgdGhlIGNhcm91c2VsXG4gICAgdmFyIGluZGV4ID0gc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuICAgIHNsaWRlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGlmIChzbGlkZXMubGVuZ3RoID4gMCAmJiBzbGlkZS5hY3RpdmUpIHtcbiAgICAgIGlmIChpbmRleCA+PSBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tpbmRleC0xXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRJbmRleCA+IGluZGV4KSB7XG4gICAgICBjdXJyZW50SW5kZXgtLTtcbiAgICB9XG4gICAgXG4gICAgLy9jbGVhbiB0aGUgY3VycmVudFNsaWRlIHdoZW4gbm8gbW9yZSBzbGlkZVxuICAgIGlmIChzbGlkZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLmN1cnJlbnRTbGlkZSA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ25vVHJhbnNpdGlvbicsIGZ1bmN0aW9uKG5vVHJhbnNpdGlvbikge1xuICAgICRlbGVtZW50LmRhdGEoTk9fVFJBTlNJVElPTiwgbm9UcmFuc2l0aW9uKTtcbiAgfSk7XG5cbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWxcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ2Fyb3VzZWwgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgYSBzZXQgb2YgaW1hZ2UgJ3NsaWRlcycgdG8gc2hvd2Nhc2UuXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBpbnRlcnZhbCBUaGUgdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB0aGF0IGl0IHdpbGwgdGFrZSB0aGUgY2Fyb3VzZWwgdG8gZ28gdG8gdGhlIG5leHQgc2xpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24gV2hldGhlciB0byBkaXNhYmxlIHRyYW5zaXRpb25zIG9uIHRoZSBjYXJvdXNlbC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vUGF1c2UgV2hldGhlciB0byBkaXNhYmxlIHBhdXNpbmcgb24gdGhlIGNhcm91c2VsIChieSBkZWZhdWx0LCB0aGUgY2Fyb3VzZWwgaW50ZXJ2YWwgcGF1c2VzIG9uIGhvdmVyKS5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPGNhcm91c2VsPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTUwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+QmVhdXRpZnVsITwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NsaWRlPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTAwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+RCdhd3chPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2xpZGU+XG4gICAgPC9jYXJvdXNlbD5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ2Nhcm91c2VsJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnQ2Fyb3VzZWxDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdjYXJvdXNlbCcsXG4gICAgcmVxdWlyZTogJ2Nhcm91c2VsJyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgaW50ZXJ2YWw6ICc9JyxcbiAgICAgIG5vVHJhbnNpdGlvbjogJz0nLFxuICAgICAgbm9QYXVzZTogJz0nLFxuICAgICAgbm9XcmFwOiAnJidcbiAgICB9XG4gIH07XG59XSlcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOnNsaWRlXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBzbGlkZSBpbnNpZGUgYSB7QGxpbmsgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpjYXJvdXNlbCBjYXJvdXNlbH0uICBNdXN0IGJlIHBsYWNlZCBhcyBhIGNoaWxkIG9mIGEgY2Fyb3VzZWwgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBhY3RpdmUgTW9kZWwgYmluZGluZywgd2hldGhlciBvciBub3QgdGhpcyBzbGlkZSBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICogQHBhcmFtIHtudW1iZXI9fSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIHNsaWRlLiBUaGUgc2xpZGVzIHdpbGwgYmUgc29ydGVkIGJ5IHRoaXMgcGFyYW1ldGVyLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbjxkaXYgbmctY29udHJvbGxlcj1cIkNhcm91c2VsRGVtb0N0cmxcIj5cbiAgPGNhcm91c2VsPlxuICAgIDxzbGlkZSBuZy1yZXBlYXQ9XCJzbGlkZSBpbiBzbGlkZXNcIiBhY3RpdmU9XCJzbGlkZS5hY3RpdmVcIiBpbmRleD1cIiRpbmRleFwiPlxuICAgICAgPGltZyBuZy1zcmM9XCJ7e3NsaWRlLmltYWdlfX1cIiBzdHlsZT1cIm1hcmdpbjphdXRvO1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cbiAgICAgICAgPGg0PlNsaWRlIHt7JGluZGV4fX08L2g0PlxuICAgICAgICA8cD57e3NsaWRlLnRleHR9fTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2xpZGU+XG4gIDwvY2Fyb3VzZWw+XG4gIEludGVydmFsLCBpbiBtaWxsaXNlY29uZHM6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJteUludGVydmFsXCI+XG4gIDxiciAvPkVudGVyIGEgbmVnYXRpdmUgbnVtYmVyIHRvIHN0b3AgdGhlIGludGVydmFsLlxuPC9kaXY+XG4gIDwvZmlsZT5cbiAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuZnVuY3Rpb24gQ2Fyb3VzZWxEZW1vQ3RybCgkc2NvcGUpIHtcbiAgJHNjb3BlLm15SW50ZXJ2YWwgPSA1MDAwO1xufVxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJkZW1vLmNzc1wiPlxuICAgIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHtcbiAgICAgIHRvcDogYXV0bztcbiAgICAgIGJvdHRvbTogMTVweDtcbiAgICB9XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiovXG5cbi5kaXJlY3RpdmUoJ3NsaWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15jYXJvdXNlbCcsXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sJztcbiAgICB9LFxuICAgIHNjb3BlOiB7XG4gICAgICBhY3RpdmU6ICc9PycsXG4gICAgICBhY3R1YWw6ICc9PycsXG4gICAgICBpbmRleDogJz0/J1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY2Fyb3VzZWxDdHJsKSB7XG4gICAgICBjYXJvdXNlbEN0cmwuYWRkU2xpZGUoc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgLy93aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQgdGhlbiByZW1vdmUgdGhlIHNsaWRlIGZyb20gdGhlIGN1cnJlbnQgc2xpZGVzIGFycmF5XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhcm91c2VsQ3RybC5yZW1vdmVTbGlkZShzY29wZSk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIGNhcm91c2VsQ3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uYW5pbWF0aW9uKCcuaXRlbScsIFtcbiAgICAgICAgICckaW5qZWN0b3InLCAnJGFuaW1hdGUnLFxuZnVuY3Rpb24gKCRpbmplY3RvciwgJGFuaW1hdGUpIHtcbiAgdmFyIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXG4gICAgJGFuaW1hdGVDc3MgPSBudWxsO1xuXG4gIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBjYWxsYmFjaykge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiZWZvcmVBZGRDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgLy8gRHVlIHRvIHRyYW5zY2x1c2lvbiwgbm9UcmFuc2l0aW9uIHByb3BlcnR5IGlzIG9uIHBhcmVudCdzIHNjb3BlXG4gICAgICBpZiAoY2xhc3NOYW1lID09ICdhY3RpdmUnICYmIGVsZW1lbnQucGFyZW50KCkgJiZcbiAgICAgICAgICAhZWxlbWVudC5wYXJlbnQoKS5kYXRhKE5PX1RSQU5TSVRJT04pKSB7XG4gICAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbkNsYXNzID0gZGlyZWN0aW9uID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciByZW1vdmVDbGFzc0ZuID0gcmVtb3ZlQ2xhc3MuYmluZCh0aGlzLCBlbGVtZW50LFxuICAgICAgICAgIGRpcmVjdGlvbkNsYXNzICsgJyAnICsgZGlyZWN0aW9uLCBkb25lKTtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhkaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHthZGRDbGFzczogZGlyZWN0aW9uQ2xhc3N9KVxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5kb25lKHJlbW92ZUNsYXNzRm4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGRpcmVjdGlvbkNsYXNzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgICByZW1vdmVDbGFzc0ZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZG9uZSgpO1xuICAgIH0sXG4gICAgYmVmb3JlUmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcbiAgICAgIC8vIER1ZSB0byB0cmFuc2NsdXNpb24sIG5vVHJhbnNpdGlvbiBwcm9wZXJ0eSBpcyBvbiBwYXJlbnQncyBzY29wZVxuICAgICAgaWYgKGNsYXNzTmFtZSA9PT0gJ2FjdGl2ZScgJiYgZWxlbWVudC5wYXJlbnQoKSAmJlxuICAgICAgICAgICFlbGVtZW50LnBhcmVudCgpLmRhdGEoTk9fVFJBTlNJVElPTikpIHtcbiAgICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04pO1xuICAgICAgICB2YXIgZGlyZWN0aW9uQ2xhc3MgPSBkaXJlY3Rpb24gPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIHJlbW92ZUNsYXNzRm4gPSByZW1vdmVDbGFzcy5iaW5kKHRoaXMsIGVsZW1lbnQsIGRpcmVjdGlvbkNsYXNzLCBkb25lKTtcblxuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7YWRkQ2xhc3M6IGRpcmVjdGlvbkNsYXNzfSlcbiAgICAgICAgICAgIC5zdGFydCgpXG4gICAgICAgICAgICAuZG9uZShyZW1vdmVDbGFzc0ZuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBkaXJlY3Rpb25DbGFzcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3NGbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuXG59XSlcblxuXG47XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsIFtdKVxuXG4uc2VydmljZSgnZGF0ZVBhcnNlcicsIFsnJGxvZycsICckbG9jYWxlJywgJ29yZGVyQnlGaWx0ZXInLCBmdW5jdGlvbigkbG9nLCAkbG9jYWxlLCBvcmRlckJ5RmlsdGVyKSB7XG4gIC8vIFB1bGxlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYm9zdG9jay9kMy9ibG9iL21hc3Rlci9zcmMvZm9ybWF0L3JlcXVvdGUuanNcbiAgdmFyIFNQRUNJQUxfQ0hBUkFDVEVSU19SRUdFWFAgPSAvW1xcXFxcXF5cXCRcXCpcXCtcXD9cXHxcXFtcXF1cXChcXClcXC5cXHtcXH1dL2c7XG5cbiAgdGhpcy5wYXJzZXJzID0ge307XG5cbiAgdmFyIGZvcm1hdENvZGVUb1JlZ2V4ID0ge1xuICAgICd5eXl5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHs0fScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAneXknOiB7XG4gICAgICByZWdleDogJ1xcXFxkezJ9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWUgKyAyMDAwOyB9XG4gICAgfSxcbiAgICAneSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7MSw0fScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnTU1NTSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguaW5kZXhPZih2YWx1ZSk7IH1cbiAgICB9LFxuICAgICdNTU0nOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5pbmRleE9mKHZhbHVlKTsgfVxuICAgIH0sXG4gICAgJ01NJzoge1xuICAgICAgcmVnZXg6ICcwWzEtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9XG4gICAgfSxcbiAgICAnTSc6IHtcbiAgICAgIHJlZ2V4OiAnWzEtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9XG4gICAgfSxcbiAgICAnZGQnOiB7XG4gICAgICByZWdleDogJ1swLTJdWzAtOV17MX18M1swLTFdezF9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdkJzoge1xuICAgICAgcmVnZXg6ICdbMS0yXT9bMC05XXsxfXwzWzAtMV17MX0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuZGF0ZSA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ0VFRUUnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkRBWS5qb2luKCd8JylcbiAgICB9LFxuICAgICdFRUUnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUREFZLmpvaW4oJ3wnKVxuICAgIH0sXG4gICAgJ0hIJzoge1xuICAgICAgcmVnZXg6ICcoPzowfDEpWzAtOV18MlswLTNdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnaGgnOiB7XG4gICAgICByZWdleDogJzBbMC05XXwxWzAtMl0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdIJzoge1xuICAgICAgcmVnZXg6ICcxP1swLTldfDJbMC0zXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ2gnOiB7XG4gICAgICByZWdleDogJ1swLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ21tJzoge1xuICAgICAgcmVnZXg6ICdbMC01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1pbnV0ZXMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdtJzoge1xuICAgICAgcmVnZXg6ICdbMC05XXxbMS01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1pbnV0ZXMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdzc3MnOiB7XG4gICAgICByZWdleDogJ1swLTldWzAtOV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5taWxsaXNlY29uZHMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdzcyc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5zZWNvbmRzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAncyc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtOV18WzEtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5zZWNvbmRzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnYSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVMuam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmhvdXJzID09PSAxMikge1xuICAgICAgICAgIHRoaXMuaG91cnMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSAnUE0nKSB7XG4gICAgICAgICAgdGhpcy5ob3VycyArPSAxMjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVQYXJzZXIoZm9ybWF0KSB7XG4gICAgdmFyIG1hcCA9IFtdLCByZWdleCA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICBhbmd1bGFyLmZvckVhY2goZm9ybWF0Q29kZVRvUmVnZXgsIGZ1bmN0aW9uKGRhdGEsIGNvZGUpIHtcbiAgICAgIHZhciBpbmRleCA9IGZvcm1hdC5pbmRleE9mKGNvZGUpO1xuXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBmb3JtYXQgPSBmb3JtYXQuc3BsaXQoJycpO1xuXG4gICAgICAgIHJlZ2V4W2luZGV4XSA9ICcoJyArIGRhdGEucmVnZXggKyAnKSc7XG4gICAgICAgIGZvcm1hdFtpbmRleF0gPSAnJCc7IC8vIEN1c3RvbSBzeW1ib2wgdG8gZGVmaW5lIGNvbnN1bWVkIHBhcnQgb2YgZm9ybWF0XG4gICAgICAgIGZvciAodmFyIGkgPSBpbmRleCArIDEsIG4gPSBpbmRleCArIGNvZGUubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcmVnZXhbaV0gPSAnJztcbiAgICAgICAgICBmb3JtYXRbaV0gPSAnJCc7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LmpvaW4oJycpO1xuXG4gICAgICAgIG1hcC5wdXNoKHsgaW5kZXg6IGluZGV4LCBhcHBseTogZGF0YS5hcHBseSB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICByZWdleDogbmV3IFJlZ0V4cCgnXicgKyByZWdleC5qb2luKCcnKSArICckJyksXG4gICAgICBtYXA6IG9yZGVyQnlGaWx0ZXIobWFwLCAnaW5kZXgnKVxuICAgIH07XG4gIH1cblxuICB0aGlzLnBhcnNlID0gZnVuY3Rpb24oaW5wdXQsIGZvcm1hdCwgYmFzZURhdGUpIHtcbiAgICBpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpIHx8ICFmb3JtYXQpIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG4gICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoU1BFQ0lBTF9DSEFSQUNURVJTX1JFR0VYUCwgJ1xcXFwkJicpO1xuXG4gICAgaWYgKCF0aGlzLnBhcnNlcnNbZm9ybWF0XSkge1xuICAgICAgdGhpcy5wYXJzZXJzW2Zvcm1hdF0gPSBjcmVhdGVQYXJzZXIoZm9ybWF0KTtcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXJzW2Zvcm1hdF0sXG4gICAgICAgIHJlZ2V4ID0gcGFyc2VyLnJlZ2V4LFxuICAgICAgICBtYXAgPSBwYXJzZXIubWFwLFxuICAgICAgICByZXN1bHRzID0gaW5wdXQubWF0Y2gocmVnZXgpO1xuXG4gICAgaWYgKHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgIHZhciBmaWVsZHMsIGR0O1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGJhc2VEYXRlKSAmJiAhaXNOYU4oYmFzZURhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICBmaWVsZHMgPSB7XG4gICAgICAgICAgeWVhcjogYmFzZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aDogYmFzZURhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICBkYXRlOiBiYXNlRGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgaG91cnM6IGJhc2VEYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgbWludXRlczogYmFzZURhdGUuZ2V0TWludXRlcygpLFxuICAgICAgICAgIHNlY29uZHM6IGJhc2VEYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICBtaWxsaXNlY29uZHM6IGJhc2VEYXRlLmdldE1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYmFzZURhdGUpIHtcbiAgICAgICAgICAkbG9nLndhcm4oJ2RhdGVwYXJzZXI6JywgJ2Jhc2VEYXRlIGlzIG5vdCBhIHZhbGlkIGRhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICBmaWVsZHMgPSB7IHllYXI6IDE5MDAsIG1vbnRoOiAwLCBkYXRlOiAxLCBob3VyczogMCwgbWludXRlczogMCwgc2Vjb25kczogMCwgbWlsbGlzZWNvbmRzOiAwIH07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAxLCBuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgdmFyIG1hcHBlciA9IG1hcFtpLTFdO1xuICAgICAgICBpZiAobWFwcGVyLmFwcGx5KSB7XG4gICAgICAgICAgbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLCByZXN1bHRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNWYWxpZChmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSkpIHtcbiAgICAgICAgZHQgPSBuZXcgRGF0ZShmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSxcbiAgICAgICAgICBmaWVsZHMuaG91cnMsIGZpZWxkcy5taW51dGVzLCBmaWVsZHMuc2Vjb25kcyxcbiAgICAgICAgICBmaWVsZHMubWlsbGlzZWNvbmRzIHx8IDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZHQ7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGlmIGRhdGUgaXMgdmFsaWQgZm9yIHNwZWNpZmljIG1vbnRoIChhbmQgeWVhciBmb3IgRmVicnVhcnkpLlxuICAvLyBNb250aDogMCA9IEphbiwgMSA9IEZlYiwgZXRjXG4gIGZ1bmN0aW9uIGlzVmFsaWQoeWVhciwgbW9udGgsIGRhdGUpIHtcbiAgICBpZiAoZGF0ZSA8IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAobW9udGggPT09IDEgJiYgZGF0ZSA+IDI4KSB7XG4gICAgICByZXR1cm4gZGF0ZSA9PT0gMjkgJiYgKCh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwKTtcbiAgICB9XG5cbiAgICBpZiAobW9udGggPT09IDMgfHwgbW9udGggPT09IDUgfHwgbW9udGggPT09IDggfHwgbW9udGggPT09IDEwKSB7XG4gICAgICByZXR1cm4gZGF0ZSA8IDMxO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nLCBbXSlcblxuLyoqXG4gKiBBIHNldCBvZiB1dGlsaXR5IG1ldGhvZHMgdGhhdCBjYW4gYmUgdXNlIHRvIHJldHJpZXZlIHBvc2l0aW9uIG9mIERPTSBlbGVtZW50cy5cbiAqIEl0IGlzIG1lYW50IHRvIGJlIHVzZWQgd2hlcmUgd2UgbmVlZCB0byBhYnNvbHV0ZS1wb3NpdGlvbiBET00gZWxlbWVudHMgaW5cbiAqIHJlbGF0aW9uIHRvIG90aGVyLCBleGlzdGluZyBlbGVtZW50cyAodGhpcyBpcyB0aGUgY2FzZSBmb3IgdG9vbHRpcHMsIHBvcG92ZXJzLFxuICogdHlwZWFoZWFkIHN1Z2dlc3Rpb25zIGV0Yy4pLlxuICovXG4gIC5mYWN0b3J5KCckcG9zaXRpb24nLCBbJyRkb2N1bWVudCcsICckd2luZG93JywgZnVuY3Rpb24oJGRvY3VtZW50LCAkd2luZG93KSB7XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIGNzc3Byb3ApIHtcbiAgICAgIGlmIChlbC5jdXJyZW50U3R5bGUpIHsgLy9JRVxuICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW2Nzc3Byb3BdO1xuICAgICAgfSBlbHNlIGlmICgkd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbY3NzcHJvcF07XG4gICAgICB9XG4gICAgICAvLyBmaW5hbGx5IHRyeSBhbmQgZ2V0IGlubGluZSBzdHlsZVxuICAgICAgcmV0dXJuIGVsLnN0eWxlW2Nzc3Byb3BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGdpdmVuIGVsZW1lbnQgaXMgc3RhdGljYWxseSBwb3NpdGlvbmVkXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSByYXcgRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIChnZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSB8fCAnc3RhdGljJyApID09PSAnc3RhdGljJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBjbG9zZXN0LCBub24tc3RhdGljYWxseSBwb3NpdGlvbmVkIHBhcmVudE9mZnNldCBvZiBhIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHZhciBwYXJlbnRPZmZzZXRFbCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBkb2NEb21FbCA9ICRkb2N1bWVudFswXTtcbiAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudCB8fCBkb2NEb21FbDtcbiAgICAgIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBkb2NEb21FbCAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSApIHtcbiAgICAgICAgb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIHBvc2l0aW9uIGZ1bmN0aW9uOlxuICAgICAgICogaHR0cDovL2FwaS5qcXVlcnkuY29tL3Bvc2l0aW9uL1xuICAgICAgICovXG4gICAgICBwb3NpdGlvbjogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgZWxCQ1IgPSB0aGlzLm9mZnNldChlbGVtZW50KTtcbiAgICAgICAgdmFyIG9mZnNldFBhcmVudEJDUiA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRFbCA9IHBhcmVudE9mZnNldEVsKGVsZW1lbnRbMF0pO1xuICAgICAgICBpZiAob2Zmc2V0UGFyZW50RWwgIT0gJGRvY3VtZW50WzBdKSB7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSID0gdGhpcy5vZmZzZXQoYW5ndWxhci5lbGVtZW50KG9mZnNldFBhcmVudEVsKSk7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLnRvcCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRUb3AgLSBvZmZzZXRQYXJlbnRFbC5zY3JvbGxUb3A7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLmxlZnQgKz0gb2Zmc2V0UGFyZW50RWwuY2xpZW50TGVmdCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbExlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGVsQkNSLnRvcCAtIG9mZnNldFBhcmVudEJDUi50b3AsXG4gICAgICAgICAgbGVmdDogZWxCQ1IubGVmdCAtIG9mZnNldFBhcmVudEJDUi5sZWZ0XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIG9mZnNldCBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmZzZXQvXG4gICAgICAgKi9cbiAgICAgIG9mZnNldDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGJvdW5kaW5nQ2xpZW50UmVjdC50b3AgKyAoJHdpbmRvdy5wYWdlWU9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCksXG4gICAgICAgICAgbGVmdDogYm91bmRpbmdDbGllbnRSZWN0LmxlZnQgKyAoJHdpbmRvdy5wYWdlWE9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIGNvb3JkaW5hdGVzIGZvciB0aGUgdGFyZ2V0RWwgaW4gcmVsYXRpb24gdG8gaG9zdEVsXG4gICAgICAgKi9cbiAgICAgIHBvc2l0aW9uRWxlbWVudHM6IGZ1bmN0aW9uKGhvc3RFbCwgdGFyZ2V0RWwsIHBvc2l0aW9uU3RyLCBhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uU3RyUGFydHMgPSBwb3NpdGlvblN0ci5zcGxpdCgnLScpO1xuICAgICAgICB2YXIgcG9zMCA9IHBvc2l0aW9uU3RyUGFydHNbMF0sIHBvczEgPSBwb3NpdGlvblN0clBhcnRzWzFdIHx8ICdjZW50ZXInO1xuXG4gICAgICAgIHZhciBob3N0RWxQb3MsXG4gICAgICAgICAgdGFyZ2V0RWxXaWR0aCxcbiAgICAgICAgICB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICB0YXJnZXRFbFBvcztcblxuICAgICAgICBob3N0RWxQb3MgPSBhcHBlbmRUb0JvZHkgPyB0aGlzLm9mZnNldChob3N0RWwpIDogdGhpcy5wb3NpdGlvbihob3N0RWwpO1xuXG4gICAgICAgIHRhcmdldEVsV2lkdGggPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRXaWR0aCcpO1xuICAgICAgICB0YXJnZXRFbEhlaWdodCA9IHRhcmdldEVsLnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgIHZhciBzaGlmdFdpZHRoID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLmxlZnQgKyBob3N0RWxQb3Mud2lkdGggLyAyIC0gdGFyZ2V0RWxXaWR0aCAvIDI7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZWZ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHNoaWZ0SGVpZ2h0ID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLnRvcCArIGhvc3RFbFBvcy5oZWlnaHQgLyAyIC0gdGFyZ2V0RWxIZWlnaHQgLyAyO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYm90dG9tOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc3dpdGNoIChwb3MwKSB7XG4gICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MwXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MxXSgpLFxuICAgICAgICAgICAgICBsZWZ0OiBob3N0RWxQb3MubGVmdCAtIHRhcmdldEVsV2lkdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMF0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IGhvc3RFbFBvcy50b3AgLSB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0RWxQb3M7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwaWNrZXInLCBbJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4udmFsdWUoJyRkYXRlcGlja2VyU3VwcHJlc3NFcnJvcicsIGZhbHNlKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJDb25maWcnLCB7XG4gIGZvcm1hdERheTogJ2RkJyxcbiAgZm9ybWF0TW9udGg6ICdNTU1NJyxcbiAgZm9ybWF0WWVhcjogJ3l5eXknLFxuICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxuICBmb3JtYXREYXlUaXRsZTogJ01NTU0geXl5eScsXG4gIGZvcm1hdE1vbnRoVGl0bGU6ICd5eXl5JyxcbiAgZGF0ZXBpY2tlck1vZGU6ICdkYXknLFxuICBtaW5Nb2RlOiAnZGF5JyxcbiAgbWF4TW9kZTogJ3llYXInLFxuICBzaG93V2Vla3M6IHRydWUsXG4gIHN0YXJ0aW5nRGF5OiAwLFxuICB5ZWFyUmFuZ2U6IDIwLFxuICBtaW5EYXRlOiBudWxsLFxuICBtYXhEYXRlOiBudWxsLFxuICBzaG9ydGN1dFByb3BhZ2F0aW9uOiBmYWxzZVxufSlcblxuLmNvbnRyb2xsZXIoJ0RhdGVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckaW50ZXJwb2xhdGUnLCAnJGxvZycsICdkYXRlRmlsdGVyJywgJ2RhdGVwaWNrZXJDb25maWcnLCAnJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgJGludGVycG9sYXRlLCAkbG9nLCBkYXRlRmlsdGVyLCBkYXRlcGlja2VyQ29uZmlnLCAkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9OyAvLyBudWxsTW9kZWxDdHJsO1xuXG4gIC8vIE1vZGVzIGNoYWluXG4gIHRoaXMubW9kZXMgPSBbJ2RheScsICdtb250aCcsICd5ZWFyJ107XG5cbiAgLy8gQ29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ2Zvcm1hdERheScsICdmb3JtYXRNb250aCcsICdmb3JtYXRZZWFyJywgJ2Zvcm1hdERheUhlYWRlcicsICdmb3JtYXREYXlUaXRsZScsICdmb3JtYXRNb250aFRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAnc2hvd1dlZWtzJywgJ3N0YXJ0aW5nRGF5JywgJ3llYXJSYW5nZScsICdzaG9ydGN1dFByb3BhZ2F0aW9uJ10sIGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcbiAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSkgPyAoaW5kZXggPCA2ID8gJGludGVycG9sYXRlKCRhdHRyc1trZXldKSgkc2NvcGUuJHBhcmVudCkgOiAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSkpIDogZGF0ZXBpY2tlckNvbmZpZ1trZXldO1xuICB9KTtcblxuICAvLyBXYXRjaGFibGUgZGF0ZSBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ21pbkRhdGUnLCAnbWF4RGF0ZSddLCBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoJGF0dHJzW2tleV0pIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmW2tleV0gPSB2YWx1ZSA/IG5ldyBEYXRlKHZhbHVlKSA6IG51bGw7XG4gICAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmW2tleV0gPSBkYXRlcGlja2VyQ29uZmlnW2tleV0gPyBuZXcgRGF0ZShkYXRlcGlja2VyQ29uZmlnW2tleV0pIDogbnVsbDtcbiAgICB9XG4gIH0pO1xuXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ21pbk1vZGUnLCAnbWF4TW9kZSddLCBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoJGF0dHJzW2tleV0pIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6ICRhdHRyc1trZXldO1xuICAgICAgICAkc2NvcGVba2V5XSA9IHNlbGZba2V5XTtcbiAgICAgICAgaWYgKChrZXkgPT0gJ21pbk1vZGUnICYmIHNlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpIDwgc2VsZi5tb2Rlcy5pbmRleE9mKHNlbGZba2V5XSkpIHx8IChrZXkgPT0gJ21heE1vZGUnICYmIHNlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpID4gc2VsZi5tb2Rlcy5pbmRleE9mKHNlbGZba2V5XSkpKSB7XG4gICAgICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZltrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZltrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldIHx8IG51bGw7XG4gICAgICAkc2NvcGVba2V5XSA9IHNlbGZba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS5kYXRlcGlja2VyTW9kZSA9ICRzY29wZS5kYXRlcGlja2VyTW9kZSB8fCBkYXRlcGlja2VyQ29uZmlnLmRhdGVwaWNrZXJNb2RlO1xuICAkc2NvcGUudW5pcXVlSWQgPSAnZGF0ZXBpY2tlci0nICsgJHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcblxuICBpZiAoYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmluaXREYXRlKSkge1xuICAgIHRoaXMuYWN0aXZlRGF0ZSA9ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSkgfHwgbmV3IERhdGUoKTtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJGF0dHJzLmluaXREYXRlLCBmdW5jdGlvbihpbml0RGF0ZSkge1xuICAgICAgaWYgKGluaXREYXRlICYmIChuZ01vZGVsQ3RybC4kaXNFbXB0eShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSkgfHwgbmdNb2RlbEN0cmwuJGludmFsaWQpKSB7XG4gICAgICAgIHNlbGYuYWN0aXZlRGF0ZSA9IGluaXREYXRlO1xuICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hY3RpdmVEYXRlID0gbmV3IERhdGUoKTtcbiAgfVxuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKGRhdGVPYmplY3QpIHtcbiAgICBpZiAoc2VsZi5jb21wYXJlKGRhdGVPYmplY3QuZGF0ZSwgc2VsZi5hY3RpdmVEYXRlKSA9PT0gMCkge1xuICAgICAgJHNjb3BlLmFjdGl2ZURhdGVJZCA9IGRhdGVPYmplY3QudWlkO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8pIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcblxuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYucmVuZGVyKCk7XG4gICAgfTtcbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpLFxuICAgICAgICAgIGlzVmFsaWQgPSAhaXNOYU4oZGF0ZSk7XG5cbiAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlRGF0ZSA9IGRhdGU7XG4gICAgICB9IGVsc2UgaWYgKCEkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IpIHtcbiAgICAgICAgJGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVmcmVzaFZpZXcoKTtcbiAgfTtcblxuICB0aGlzLnJlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgdGhpcy5fcmVmcmVzaFZpZXcoKTtcblxuICAgICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBudWxsO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdkYXRlRGlzYWJsZWQnLCAhZGF0ZSB8fCAodGhpcy5lbGVtZW50ICYmICF0aGlzLmlzRGlzYWJsZWQoZGF0ZSkpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jcmVhdGVEYXRlT2JqZWN0ID0gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0KSB7XG4gICAgdmFyIG1vZGVsID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGxhYmVsOiBkYXRlRmlsdGVyKGRhdGUsIGZvcm1hdCksXG4gICAgICBzZWxlY3RlZDogbW9kZWwgJiYgdGhpcy5jb21wYXJlKGRhdGUsIG1vZGVsKSA9PT0gMCxcbiAgICAgIGRpc2FibGVkOiB0aGlzLmlzRGlzYWJsZWQoZGF0ZSksXG4gICAgICBjdXJyZW50OiB0aGlzLmNvbXBhcmUoZGF0ZSwgbmV3IERhdGUoKSkgPT09IDAsXG4gICAgICBjdXN0b21DbGFzczogdGhpcy5jdXN0b21DbGFzcyhkYXRlKVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5pc0Rpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHJldHVybiAoKHRoaXMubWluRGF0ZSAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgdGhpcy5taW5EYXRlKSA8IDApIHx8ICh0aGlzLm1heERhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWF4RGF0ZSkgPiAwKSB8fCAoJGF0dHJzLmRhdGVEaXNhYmxlZCAmJiAkc2NvcGUuZGF0ZURpc2FibGVkKHtkYXRlOiBkYXRlLCBtb2RlOiAkc2NvcGUuZGF0ZXBpY2tlck1vZGV9KSkpO1xuICB9O1xuXG4gIHRoaXMuY3VzdG9tQ2xhc3MgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuICRzY29wZS5jdXN0b21DbGFzcyh7ZGF0ZTogZGF0ZSwgbW9kZTogJHNjb3BlLmRhdGVwaWNrZXJNb2RlfSk7XG4gIH07XG5cbiAgLy8gU3BsaXQgYXJyYXkgaW50byBzbWFsbGVyIGFycmF5c1xuICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24oYXJyLCBzaXplKSB7XG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHdoaWxlIChhcnIubGVuZ3RoID4gMCkge1xuICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheXM7XG4gIH07XG5cbiAgLy8gRml4IGEgaGFyZC1yZXByb2R1c2libGUgYnVnIHdpdGggdGltZXpvbmVzXG4gIC8vIFRoZSBidWcgZGVwZW5kcyBvbiBPUywgYnJvd3NlciwgY3VycmVudCB0aW1lem9uZSBhbmQgY3VycmVudCBkYXRlXG4gIC8vIGkuZS5cbiAgLy8gdmFyIGRhdGUgPSBuZXcgRGF0ZSgyMDE0LCAwLCAxKTtcbiAgLy8gY29uc29sZS5sb2coZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldEhvdXJzKCkpO1xuICAvLyBjYW4gcmVzdWx0IGluIFwiMjAxMyAxMSAzMSAyM1wiIGJlY2F1c2Ugb2YgdGhlIGJ1Zy5cbiAgdGhpcy5maXhUaW1lWm9uZSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgZGF0ZS5zZXRIb3Vycyhob3VycyA9PT0gMjMgPyBob3VycyArIDIgOiAwKTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIGlmICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSkge1xuICAgICAgdmFyIGR0ID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgICBkdC5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShkdCk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuYWN0aXZlRGF0ZSA9IGRhdGU7XG4gICAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSBzZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpIC0gMV07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5tb3ZlID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgdmFyIHllYXIgPSBzZWxmLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSArIGRpcmVjdGlvbiAqIChzZWxmLnN0ZXAueWVhcnMgfHwgMCksXG4gICAgICAgIG1vbnRoID0gc2VsZi5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLm1vbnRocyB8fCAwKTtcbiAgICBzZWxmLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhciwgbW9udGgsIDEpO1xuICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgfTtcblxuICAkc2NvcGUudG9nZ2xlTW9kZSA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAxO1xuXG4gICAgaWYgKCgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWF4TW9kZSAmJiBkaXJlY3Rpb24gPT09IDEpIHx8ICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSAmJiBkaXJlY3Rpb24gPT09IC0xKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkgKyBkaXJlY3Rpb25dO1xuICB9O1xuXG4gIC8vIEtleSBldmVudCBtYXBwZXJcbiAgJHNjb3BlLmtleXMgPSB7IDEzOiAnZW50ZXInLCAzMjogJ3NwYWNlJywgMzM6ICdwYWdldXAnLCAzNDogJ3BhZ2Vkb3duJywgMzU6ICdlbmQnLCAzNjogJ2hvbWUnLCAzNzogJ2xlZnQnLCAzODogJ3VwJywgMzk6ICdyaWdodCcsIDQwOiAnZG93bicgfTtcblxuICB2YXIgZm9jdXNFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbGVtZW50WzBdLmZvY3VzKCk7XG4gIH07XG5cbiAgLy8gTGlzdGVuIGZvciBmb2N1cyByZXF1ZXN0cyBmcm9tIHBvcHVwIGRpcmVjdGl2ZVxuICAkc2NvcGUuJG9uKCdkYXRlcGlja2VyLmZvY3VzJywgZm9jdXNFbGVtZW50KTtcblxuICAkc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIHZhciBrZXkgPSAkc2NvcGUua2V5c1tldnQud2hpY2hdO1xuXG4gICAgaWYgKCFrZXkgfHwgZXZ0LnNoaWZ0S2V5IHx8IGV2dC5hbHRLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNlbGYuc2hvcnRjdXRQcm9wYWdhdGlvbikge1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdlbnRlcicgfHwga2V5ID09PSAnc3BhY2UnKSB7XG4gICAgICBpZiAoc2VsZi5pc0Rpc2FibGVkKHNlbGYuYWN0aXZlRGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gICAgICB9XG4gICAgICAkc2NvcGUuc2VsZWN0KHNlbGYuYWN0aXZlRGF0ZSk7XG4gICAgICBmb2N1c0VsZW1lbnQoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5jdHJsS2V5ICYmIChrZXkgPT09ICd1cCcgfHwga2V5ID09PSAnZG93bicpKSB7XG4gICAgICAkc2NvcGUudG9nZ2xlTW9kZShrZXkgPT09ICd1cCcgPyAxIDogLTEpO1xuICAgICAgZm9jdXNFbGVtZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuaGFuZGxlS2V5RG93bihrZXksIGV2dCk7XG4gICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ2RhdGVwaWNrZXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgZGF0ZXBpY2tlck1vZGU6ICc9PycsXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJyxcbiAgICAgIGN1c3RvbUNsYXNzOiAnJicsXG4gICAgICBzaG9ydGN1dFByb3BhZ2F0aW9uOiAnJj8nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ2RhdGVwaWNrZXInLCAnXm5nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnRGF0ZXBpY2tlckNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2RhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBkYXRlcGlja2VyQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBkYXRlcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsKTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkYXlwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbihkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICBzY29wZS5zaG93V2Vla3MgPSBjdHJsLnNob3dXZWVrcztcblxuICAgICAgY3RybC5zdGVwID0geyBtb250aHM6IDEgfTtcbiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHZhciBEQVlTX0lOX01PTlRIID0gWzMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuICAgICAgZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICAgICAgcmV0dXJuICgobW9udGggPT09IDEpICYmICh5ZWFyICUgNCA9PT0gMCkgJiYgKCh5ZWFyICUgMTAwICE9PSAwKSB8fCAoeWVhciAlIDQwMCA9PT0gMCkpKSA/IDI5IDogREFZU19JTl9NT05USFttb250aF07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0RGF0ZSwgbikge1xuICAgICAgICB2YXIgZGF0ZXMgPSBuZXcgQXJyYXkobiksIGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydERhdGUpLCBpID0gMCwgZGF0ZTtcbiAgICAgICAgd2hpbGUgKGkgPCBuKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnQpO1xuICAgICAgICAgIGN0cmwuZml4VGltZVpvbmUoZGF0ZSk7XG4gICAgICAgICAgZGF0ZXNbaSsrXSA9IGRhdGU7XG4gICAgICAgICAgY3VycmVudC5zZXREYXRlKGN1cnJlbnQuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGVzO1xuICAgICAgfVxuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLFxuICAgICAgICAgIGRpZmZlcmVuY2UgPSBjdHJsLnN0YXJ0aW5nRGF5IC0gZmlyc3REYXlPZk1vbnRoLmdldERheSgpLFxuICAgICAgICAgIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID0gKGRpZmZlcmVuY2UgPiAwKSA/IDcgLSBkaWZmZXJlbmNlIDogLSBkaWZmZXJlbmNlLFxuICAgICAgICAgIGZpcnN0RGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5T2ZNb250aCk7XG5cbiAgICAgICAgaWYgKG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID4gMCkge1xuICAgICAgICAgIGZpcnN0RGF0ZS5zZXREYXRlKC1udW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNDIgaXMgdGhlIG51bWJlciBvZiBkYXlzIG9uIGEgc2l4LW1vbnRoIGNhbGVuZGFyXG4gICAgICAgIHZhciBkYXlzID0gZ2V0RGF0ZXMoZmlyc3REYXRlLCA0Mik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDI7IGkgKyspIHtcbiAgICAgICAgICBkYXlzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRheXNbaV0sIGN0cmwuZm9ybWF0RGF5KSwge1xuICAgICAgICAgICAgc2Vjb25kYXJ5OiBkYXlzW2ldLmdldE1vbnRoKCkgIT09IG1vbnRoLFxuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLmxhYmVscyA9IG5ldyBBcnJheSg3KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHtcbiAgICAgICAgICBzY29wZS5sYWJlbHNbal0gPSB7XG4gICAgICAgICAgICBhYmJyOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgY3RybC5mb3JtYXREYXlIZWFkZXIpLFxuICAgICAgICAgICAgZnVsbDogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsICdFRUVFJylcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXREYXlUaXRsZSk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KGRheXMsIDcpO1xuXG4gICAgICAgIGlmIChzY29wZS5zaG93V2Vla3MpIHtcbiAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycyA9IFtdO1xuICAgICAgICAgIHZhciB0aHVyc2RheUluZGV4ID0gKDQgKyA3IC0gY3RybC5zdGFydGluZ0RheSkgJSA3LFxuICAgICAgICAgICAgICBudW1XZWVrcyA9IHNjb3BlLnJvd3MubGVuZ3RoO1xuICAgICAgICAgIGZvciAodmFyIGN1cldlZWsgPSAwOyBjdXJXZWVrIDwgbnVtV2Vla3M7IGN1cldlZWsrKykge1xuICAgICAgICAgICAgc2NvcGUud2Vla051bWJlcnMucHVzaChcbiAgICAgICAgICAgICAgZ2V0SVNPODYwMVdlZWtOdW1iZXIoc2NvcGUucm93c1tjdXJXZWVrXVt0aHVyc2RheUluZGV4XS5kYXRlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpLCBkYXRlMS5nZXREYXRlKCkpIC0gbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSwgZGF0ZTIuZ2V0RGF0ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7XG4gICAgICAgIHZhciBjaGVja0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTsgLy8gVGh1cnNkYXlcbiAgICAgICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuICAgICAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZSgxKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldERhdGUoKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd1cCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDc7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDc7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgICAgICB2YXIgbW9udGggPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSArIChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSk7XG4gICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKG1vbnRoLCAxKTtcbiAgICAgICAgICBkYXRlID0gTWF0aC5taW4oZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksIGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSwgZGF0ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgICAgICBkYXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLCBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldERhdGUoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ21vbnRocGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24oZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbW9udGhzID0gbmV3IEFycmF5KDEyKSxcbiAgICAgICAgICAgIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIGRhdGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIGksIDEpO1xuICAgICAgICAgIGN0cmwuZml4VGltZVpvbmUoZGF0ZSk7XG4gICAgICAgICAgbW9udGhzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRhdGUsIGN0cmwuZm9ybWF0TW9udGgpLCB7XG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXRNb250aFRpdGxlKTtcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQobW9udGhzLCAzKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSkgLSBuZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAzOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAzO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSArIChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSk7XG4gICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSAxMTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3llYXJwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbihkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgdmFyIHJhbmdlID0gY3RybC55ZWFyUmFuZ2U7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgeWVhcnM6IHJhbmdlIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBmdW5jdGlvbiBnZXRTdGFydGluZ1llYXIoIHllYXIgKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCgoeWVhciAtIDEpIC8gcmFuZ2UsIDEwKSAqIHJhbmdlICsgMTtcbiAgICAgIH1cblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXJzID0gbmV3IEFycmF5KHJhbmdlKSwgZGF0ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgc3RhcnQgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpOyBpIDwgcmFuZ2U7IGkrKykge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShzdGFydCArIGksIDAsIDEpO1xuICAgICAgICAgIGN0cmwuZml4VGltZVpvbmUoZGF0ZSk7XG4gICAgICAgICAgeWVhcnNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF0ZSwgY3RybC5mb3JtYXRZZWFyKSwge1xuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRpdGxlID0gW3llYXJzWzBdLmxhYmVsLCB5ZWFyc1tyYW5nZSAtIDFdLmxhYmVsXS5qb2luKCcgLSAnKTtcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQoeWVhcnMsIDUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpIC0gZGF0ZTIuZ2V0RnVsbFllYXIoKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSA1OyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyA1O1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgZGF0ZSArPSAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpICogY3RybC5zdGVwLnllYXJzO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpICsgcmFuZ2UgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCdkYXRlcGlja2VyUG9wdXBDb25maWcnLCB7XG4gIGRhdGVwaWNrZXJQb3B1cDogJ3l5eXktTU0tZGQnLFxuICBkYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCcsXG4gIGRhdGVwaWNrZXJUZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sJyxcbiAgaHRtbDVUeXBlczoge1xuICAgIGRhdGU6ICd5eXl5LU1NLWRkJyxcbiAgICAnZGF0ZXRpbWUtbG9jYWwnOiAneXl5eS1NTS1kZFRISDptbTpzcy5zc3MnLFxuICAgICdtb250aCc6ICd5eXl5LU1NJ1xuICB9LFxuICBjdXJyZW50VGV4dDogJ1RvZGF5JyxcbiAgY2xlYXJUZXh0OiAnQ2xlYXInLFxuICBjbG9zZVRleHQ6ICdEb25lJyxcbiAgY2xvc2VPbkRhdGVTZWxlY3Rpb246IHRydWUsXG4gIGFwcGVuZFRvQm9keTogZmFsc2UsXG4gIHNob3dCdXR0b25CYXI6IHRydWUsXG4gIG9uT3BlbkZvY3VzOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXAnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckZG9jdW1lbnQnLCAnJHJvb3RTY29wZScsICckcG9zaXRpb24nLCAnZGF0ZUZpbHRlcicsICdkYXRlUGFyc2VyJywgJ2RhdGVwaWNrZXJQb3B1cENvbmZpZycsICckdGltZW91dCcsXG5mdW5jdGlvbigkY29tcGlsZSwgJHBhcnNlLCAkZG9jdW1lbnQsICRyb290U2NvcGUsICRwb3NpdGlvbiwgZGF0ZUZpbHRlciwgZGF0ZVBhcnNlciwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLCAkdGltZW91dCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICBzY29wZToge1xuICAgICAgaXNPcGVuOiAnPT8nLFxuICAgICAgY3VycmVudFRleHQ6ICdAJyxcbiAgICAgIGNsZWFyVGV4dDogJ0AnLFxuICAgICAgY2xvc2VUZXh0OiAnQCcsXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJyxcbiAgICAgIGN1c3RvbUNsYXNzOiAnJidcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgdmFyIGRhdGVGb3JtYXQsXG4gICAgICAgICAgY2xvc2VPbkRhdGVTZWxlY3Rpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5jbG9zZU9uRGF0ZVNlbGVjdGlvbixcbiAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSkgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuYXBwZW5kVG9Cb2R5LFxuICAgICAgICAgIG9uT3BlbkZvY3VzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMub25PcGVuRm9jdXMpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5vbk9wZW5Gb2N1cykgOiBkYXRlcGlja2VyUG9wdXBDb25maWcub25PcGVuRm9jdXMsXG4gICAgICAgICAgZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCkgPyBhdHRycy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCxcbiAgICAgICAgICBkYXRlcGlja2VyVGVtcGxhdGVVcmwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyVGVtcGxhdGVVcmwpID8gYXR0cnMuZGF0ZXBpY2tlclRlbXBsYXRlVXJsIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJUZW1wbGF0ZVVybCxcbiAgICAgICAgICBjYWNoZSA9IHt9O1xuXG4gICAgICBzY29wZS5zaG93QnV0dG9uQmFyID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuc2hvd0J1dHRvbkJhcikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnNob3dCdXR0b25CYXIpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXI7XG5cbiAgICAgIHNjb3BlLmdldFRleHQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlW2tleSArICdUZXh0J10gfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnW2tleSArICdUZXh0J107XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5pc0Rpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgoc2NvcGUud2F0Y2hEYXRhLm1pbkRhdGUgJiYgc2NvcGUuY29tcGFyZShkYXRlLCBjYWNoZS5taW5EYXRlKSA8IDApIHx8XG4gICAgICAgICAgKHNjb3BlLndhdGNoRGF0YS5tYXhEYXRlICYmIHNjb3BlLmNvbXBhcmUoZGF0ZSwgY2FjaGUubWF4RGF0ZSkgPiAwKSk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiAobmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSkpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGlzSHRtbDVEYXRlSW5wdXQgPSBmYWxzZTtcbiAgICAgIGlmIChkYXRlcGlja2VyUG9wdXBDb25maWcuaHRtbDVUeXBlc1thdHRycy50eXBlXSkge1xuICAgICAgICBkYXRlRm9ybWF0ID0gZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbYXR0cnMudHlwZV07XG4gICAgICAgIGlzSHRtbDVEYXRlSW5wdXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZUZvcm1hdCA9IGF0dHJzLmRhdGVwaWNrZXJQb3B1cCB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGF0ZXBpY2tlclBvcHVwJywgZnVuY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ZUZvcm1hdCA9IHZhbHVlIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXA7XG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIHRoZSAkbW9kZWxWYWx1ZSB0byBlbnN1cmUgdGhhdCBmb3JtYXR0ZXJzIHJlLXJ1blxuICAgICAgICAgICAgLy8gRklYTUU6IFJlZmFjdG9yIHdoZW4gUFIgaXMgbWVyZ2VkOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTA3NjRcbiAgICAgICAgICAgIGlmIChuZXdEYXRlRm9ybWF0ICE9PSBkYXRlRm9ybWF0KSB7XG4gICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBuZXdEYXRlRm9ybWF0O1xuICAgICAgICAgICAgICBuZ01vZGVsLiRtb2RlbFZhbHVlID0gbnVsbDtcblxuICAgICAgICAgICAgICBpZiAoIWRhdGVGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGF0ZUZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0ICYmIGF0dHJzLmRhdGVwaWNrZXJQb3B1cCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUTUw1IGRhdGUgaW5wdXQgdHlwZXMgZG8gbm90IHN1cHBvcnQgY3VzdG9tIGZvcm1hdHMuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHBvcHVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IGNhbGVuZGFyXG4gICAgICB2YXIgcG9wdXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PicpO1xuICAgICAgcG9wdXBFbC5hdHRyKHtcbiAgICAgICAgJ25nLW1vZGVsJzogJ2RhdGUnLFxuICAgICAgICAnbmctY2hhbmdlJzogJ2RhdGVTZWxlY3Rpb24oZGF0ZSknLFxuICAgICAgICAndGVtcGxhdGUtdXJsJzogZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmxcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBjYW1lbHRvRGFzaChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKCQxKSB7IHJldHVybiAnLScgKyAkMS50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gZGF0ZXBpY2tlciBlbGVtZW50XG4gICAgICB2YXIgZGF0ZXBpY2tlckVsID0gYW5ndWxhci5lbGVtZW50KHBvcHVwRWwuY2hpbGRyZW4oKVswXSk7XG4gICAgICBkYXRlcGlja2VyRWwuYXR0cigndGVtcGxhdGUtdXJsJywgZGF0ZXBpY2tlclRlbXBsYXRlVXJsKTtcblxuICAgICAgaWYgKGlzSHRtbDVEYXRlSW5wdXQpIHtcbiAgICAgICAgaWYgKGF0dHJzLnR5cGUgPT09ICdtb250aCcpIHtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZXBpY2tlci1tb2RlJywgJ1wibW9udGhcIicpO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdtaW4tbW9kZScsICdtb250aCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5kYXRlcGlja2VyT3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluaXREYXRlKSB7XG4gICAgICAgICAgc2NvcGUuaW5pdERhdGUgPSBvcHRpb25zLmluaXREYXRlO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdpbml0LWRhdGUnLCAnaW5pdERhdGUnKTtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy5pbml0RGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBhbmd1bGFyLmZvckVhY2gob3B0aW9ucywgZnVuY3Rpb24odmFsdWUsIG9wdGlvbikge1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCBjYW1lbHRvRGFzaChvcHRpb24pLCB2YWx1ZSApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUud2F0Y2hEYXRhID0ge307XG4gICAgICBhbmd1bGFyLmZvckVhY2goWydtaW5Nb2RlJywgJ21heE1vZGUnLCAnbWluRGF0ZScsICdtYXhEYXRlJywgJ2RhdGVwaWNrZXJNb2RlJywgJ2luaXREYXRlJywgJ3Nob3J0Y3V0UHJvcGFnYXRpb24nXSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChhdHRyc1trZXldKSB7XG4gICAgICAgICAgdmFyIGdldEF0dHJpYnV0ZSA9ICRwYXJzZShhdHRyc1trZXldKTtcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBzY29wZS53YXRjaERhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ21pbkRhdGUnIHx8IGtleSA9PT0gJ21heERhdGUnKSB7XG4gICAgICAgICAgICAgIGNhY2hlW2tleV0gPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwgJ3dhdGNoRGF0YS4nICsga2V5KTtcblxuICAgICAgICAgIC8vIFByb3BhZ2F0ZSBjaGFuZ2VzIGZyb20gZGF0ZXBpY2tlciB0byBvdXRzaWRlXG4gICAgICAgICAgaWYgKGtleSA9PT0gJ2RhdGVwaWNrZXJNb2RlJykge1xuICAgICAgICAgICAgdmFyIHNldEF0dHJpYnV0ZSA9IGdldEF0dHJpYnV0ZS5hc3NpZ247XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ3dhdGNoRGF0YS4nICsga2V5LCBmdW5jdGlvbih2YWx1ZSwgb2xkdmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRBdHRyaWJ1dGUpICYmIHZhbHVlICE9PSBvbGR2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZShzY29wZS4kcGFyZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoYXR0cnMuZGF0ZURpc2FibGVkKSB7XG4gICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdkYXRlLWRpc2FibGVkJywgJ2RhdGVEaXNhYmxlZCh7IGRhdGU6IGRhdGUsIG1vZGU6IG1vZGUgfSknKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGF0dHJzLnNob3dXZWVrcykge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignc2hvdy13ZWVrcycsIGF0dHJzLnNob3dXZWVrcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5jdXN0b21DbGFzcykge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignY3VzdG9tLWNsYXNzJywgJ2N1c3RvbUNsYXNzKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KScpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZURhdGUodmlld1ZhbHVlKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAvLyBwcmVzdW1hYmx5IHRpbWVzdGFtcCB0byBkYXRlIG9iamVjdFxuICAgICAgICAgIHZpZXdWYWx1ZSA9IG5ldyBEYXRlKHZpZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXZpZXdWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkgJiYgIWlzTmFOKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmlld1ZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmlld1ZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpO1xuICAgICAgICAgIGlmIChpc05hTihkYXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcblxuICAgICAgICBpZiAoIWF0dHJzLm5nUmVxdWlyZWQgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUodmFsdWUpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2YWx1ZSwgZGF0ZUZvcm1hdCk7XG4gICAgICAgICAgcmV0dXJuICFpc05hTihkYXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0h0bWw1RGF0ZUlucHV0KSB7XG4gICAgICAgIC8vIEludGVybmFsIEFQSSB0byBtYWludGFpbiB0aGUgY29ycmVjdCBuZy1pbnZhbGlkLVtrZXldIGNsYXNzXG4gICAgICAgIG5nTW9kZWwuJCRwYXJzZXJOYW1lID0gJ2RhdGUnO1xuICAgICAgICBuZ01vZGVsLiR2YWxpZGF0b3JzLmRhdGUgPSB2YWxpZGF0b3I7XG4gICAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZURhdGUpO1xuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIG5nTW9kZWwuJGlzRW1wdHkodmFsdWUpID8gdmFsdWUgOiBkYXRlRmlsdGVyKHZhbHVlLCBkYXRlRm9ybWF0KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5uZXIgY2hhbmdlXG4gICAgICBzY29wZS5kYXRlU2VsZWN0aW9uID0gZnVuY3Rpb24oZHQpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGR0KSkge1xuICAgICAgICAgIHNjb3BlLmRhdGUgPSBkdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0ZSA9IHNjb3BlLmRhdGUgPyBkYXRlRmlsdGVyKHNjb3BlLmRhdGUsIGRhdGVGb3JtYXQpIDogbnVsbDsgLy8gU2V0dGluZyB0byBOVUxMIGlzIG5lY2Vzc2FyeSBmb3IgZm9ybSB2YWxpZGF0b3JzIHRvIGZ1bmN0aW9uXG4gICAgICAgIGVsZW1lbnQudmFsKGRhdGUpO1xuICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoZGF0ZSk7XG5cbiAgICAgICAgaWYgKGNsb3NlT25EYXRlU2VsZWN0aW9uKSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBEZXRlY3QgY2hhbmdlcyBpbiB0aGUgdmlldyBmcm9tIHRoZSB0ZXh0IGJveFxuICAgICAgbmdNb2RlbC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5kYXRlID0gZGF0ZVBhcnNlci5wYXJzZShuZ01vZGVsLiR2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBkb2N1bWVudENsaWNrQmluZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChzY29wZS5pc09wZW4gJiYgIShlbGVtZW50WzBdLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgcG9wdXBFbFswXS5jb250YWlucyhldmVudC50YXJnZXQpKSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgaW5wdXRLZXlkb3duQmluZCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LndoaWNoID09PSAyNyAmJiBzY29wZS5pc09wZW4pIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gNDAgJiYgIXNjb3BlLmlzT3Blbikge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSB0cnVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgaW5wdXRLZXlkb3duQmluZCk7XG5cbiAgICAgIHNjb3BlLmtleWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24gPSBhcHBlbmRUb0JvZHkgPyAkcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpIDogJHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uLnRvcCA9IHNjb3BlLnBvc2l0aW9uLnRvcCArIGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG5cbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChvbk9wZW5Gb2N1cykge1xuICAgICAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdkYXRlcGlja2VyLmZvY3VzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKHNjb3BlLmRhdGUpKSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoc2NvcGUuZGF0ZSk7XG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjb3BlLmRhdGVTZWxlY3Rpb24oZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgfTtcblxuICAgICAgdmFyICRwb3B1cCA9ICRjb21waWxlKHBvcHVwRWwpKHNjb3BlKTtcbiAgICAgIC8vIFByZXZlbnQgalF1ZXJ5IGNhY2hlIG1lbW9yeSBsZWFrICh0ZW1wbGF0ZSBpcyBub3cgcmVkdW5kYW50IGFmdGVyIGxpbmtpbmcpXG4gICAgICBwb3B1cEVsLnJlbW92ZSgpO1xuXG4gICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKCRwb3B1cCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmFmdGVyKCRwb3B1cCk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNjb3BlLmlzT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICBlbGVtZW50LnVuYmluZCgna2V5ZG93bicsIGlucHV0S2V5ZG93bkJpbmQpO1xuICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXBXcmFwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6J0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCc7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZHJvcGRvd24nLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4uY29uc3RhbnQoJ2Ryb3Bkb3duQ29uZmlnJywge1xuICBvcGVuQ2xhc3M6ICdvcGVuJ1xufSlcblxuLnNlcnZpY2UoJ2Ryb3Bkb3duU2VydmljZScsIFsnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsICRyb290U2NvcGUpIHtcbiAgdmFyIG9wZW5TY29wZSA9IG51bGw7XG5cbiAgdGhpcy5vcGVuID0gZnVuY3Rpb24oZHJvcGRvd25TY29wZSkge1xuICAgIGlmICghb3BlblNjb3BlKSB7XG4gICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBjbG9zZURyb3Bkb3duKTtcbiAgICAgICRkb2N1bWVudC5iaW5kKCdrZXlkb3duJywga2V5YmluZEZpbHRlcik7XG4gICAgfVxuXG4gICAgaWYgKG9wZW5TY29wZSAmJiBvcGVuU2NvcGUgIT09IGRyb3Bkb3duU2NvcGUpIHtcbiAgICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUgPSBkcm9wZG93blNjb3BlO1xuICB9O1xuXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbihkcm9wZG93blNjb3BlKSB7XG4gICAgaWYgKG9wZW5TY29wZSA9PT0gZHJvcGRvd25TY29wZSkge1xuICAgICAgb3BlblNjb3BlID0gbnVsbDtcbiAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQudW5iaW5kKCdrZXlkb3duJywga2V5YmluZEZpbHRlcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjbG9zZURyb3Bkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgLy8gVGhpcyBtZXRob2QgbWF5IHN0aWxsIGJlIGNhbGxlZCBkdXJpbmcgdGhlIHNhbWUgbW91c2UgZXZlbnQgdGhhdFxuICAgIC8vIHVuYm91bmQgdGhpcyBldmVudCBoYW5kbGVyLiBTbyBjaGVjayBvcGVuU2NvcGUgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgaWYgKCFvcGVuU2NvcGUpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ2Rpc2FibGVkJykgIHsgcmV0dXJuIDsgfVxuXG4gICAgdmFyIHRvZ2dsZUVsZW1lbnQgPSBvcGVuU2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCgpO1xuICAgIGlmIChldnQgJiYgdG9nZ2xlRWxlbWVudCAmJiB0b2dnbGVFbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRyb3Bkb3duRWxlbWVudCA9IG9wZW5TY29wZS5nZXREcm9wZG93bkVsZW1lbnQoKTtcbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ291dHNpZGVDbGljaycgJiZcbiAgICAgIGRyb3Bkb3duRWxlbWVudCAmJiBkcm9wZG93bkVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgb3BlblNjb3BlLiRhcHBseSgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIga2V5YmluZEZpbHRlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICBvcGVuU2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCk7XG4gICAgICBjbG9zZURyb3Bkb3duKCk7XG4gICAgfSBlbHNlIGlmIChvcGVuU2NvcGUuaXNLZXluYXZFbmFibGVkKCkgJiYgLygzOHw0MCkvLnRlc3QoZXZ0LndoaWNoKSAmJiBvcGVuU2NvcGUuaXNPcGVuKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIG9wZW5TY29wZS5mb2N1c0Ryb3Bkb3duRW50cnkoZXZ0LndoaWNoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnRyb2xsZXIoJ0Ryb3Bkb3duQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnZHJvcGRvd25Db25maWcnLCAnZHJvcGRvd25TZXJ2aWNlJywgJyRhbmltYXRlJywgJyRwb3NpdGlvbicsICckZG9jdW1lbnQnLCAnJGNvbXBpbGUnLCAnJHRlbXBsYXRlUmVxdWVzdCcsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsIGRyb3Bkb3duQ29uZmlnLCBkcm9wZG93blNlcnZpY2UsICRhbmltYXRlLCAkcG9zaXRpb24sICRkb2N1bWVudCwgJGNvbXBpbGUsICR0ZW1wbGF0ZVJlcXVlc3QpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgIHNjb3BlID0gJHNjb3BlLiRuZXcoKSwgLy8gY3JlYXRlIGEgY2hpbGQgc2NvcGUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgb25lXG4gICAgdGVtcGxhdGVTY29wZSxcbiAgICBvcGVuQ2xhc3MgPSBkcm9wZG93bkNvbmZpZy5vcGVuQ2xhc3MsXG4gICAgZ2V0SXNPcGVuLFxuICAgIHNldElzT3BlbiA9IGFuZ3VsYXIubm9vcCxcbiAgICB0b2dnbGVJbnZva2VyID0gJGF0dHJzLm9uVG9nZ2xlID8gJHBhcnNlKCRhdHRycy5vblRvZ2dsZSkgOiBhbmd1bGFyLm5vb3AsXG4gICAgYXBwZW5kVG9Cb2R5ID0gZmFsc2UsXG4gICAga2V5bmF2RW5hYmxlZCA9IGZhbHNlLFxuICAgIHNlbGVjdGVkT3B0aW9uID0gbnVsbCxcbiAgICBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgc2VsZi4kZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBpZiAoJGF0dHJzLmlzT3Blbikge1xuICAgICAgZ2V0SXNPcGVuID0gJHBhcnNlKCRhdHRycy5pc09wZW4pO1xuICAgICAgc2V0SXNPcGVuID0gZ2V0SXNPcGVuLmFzc2lnbjtcblxuICAgICAgJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9ICEhdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuZHJvcGRvd25BcHBlbmRUb0JvZHkpO1xuICAgIGtleW5hdkVuYWJsZWQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMua2V5Ym9hcmROYXYpO1xuXG4gICAgaWYgKGFwcGVuZFRvQm9keSAmJiBzZWxmLmRyb3Bkb3duTWVudSkge1xuICAgICAgYm9keS5hcHBlbmQoc2VsZi5kcm9wZG93bk1lbnUpO1xuICAgICAgYm9keS5hZGRDbGFzcygnZHJvcGRvd24nKTtcbiAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24gaGFuZGxlRGVzdHJveUV2ZW50KCkge1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKG9wZW4pIHtcbiAgICByZXR1cm4gc2NvcGUuaXNPcGVuID0gYXJndW1lbnRzLmxlbmd0aCA/ICEhb3BlbiA6ICFzY29wZS5pc09wZW47XG4gIH07XG5cbiAgLy8gQWxsb3cgb3RoZXIgZGlyZWN0aXZlcyB0byB3YXRjaCBzdGF0dXNcbiAgdGhpcy5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2NvcGUuaXNPcGVuO1xuICB9O1xuXG4gIHNjb3BlLmdldFRvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi50b2dnbGVFbGVtZW50O1xuICB9O1xuXG4gIHNjb3BlLmdldEF1dG9DbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkYXR0cnMuYXV0b0Nsb3NlIHx8ICdhbHdheXMnOyAvL29yICdvdXRzaWRlQ2xpY2snIG9yICdkaXNhYmxlZCdcbiAgfTtcblxuICBzY29wZS5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuJGVsZW1lbnQ7XG4gIH07XG5cbiAgc2NvcGUuaXNLZXluYXZFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGtleW5hdkVuYWJsZWQ7XG4gIH07XG5cbiAgc2NvcGUuZm9jdXNEcm9wZG93bkVudHJ5ID0gZnVuY3Rpb24oa2V5Q29kZSkge1xuICAgIHZhciBlbGVtcyA9IHNlbGYuZHJvcGRvd25NZW51ID8gLy9JZiBhcHBlbmQgdG8gYm9keSBpcyB1c2VkLlxuICAgICAgKGFuZ3VsYXIuZWxlbWVudChzZWxmLmRyb3Bkb3duTWVudSkuZmluZCgnYScpKSA6XG4gICAgICAoYW5ndWxhci5lbGVtZW50KHNlbGYuJGVsZW1lbnQpLmZpbmQoJ3VsJykuZXEoMCkuZmluZCgnYScpKTtcblxuICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgY2FzZSAoNDApOiB7XG4gICAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihzZWxmLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAoc2VsZi5zZWxlY3RlZE9wdGlvbiA9PT0gZWxlbXMubGVuZ3RoIC0xID9cbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gOlxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAoMzgpOiB7XG4gICAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihzZWxmLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSBlbGVtcy5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSBzZWxmLnNlbGVjdGVkT3B0aW9uID09PSAwID9cbiAgICAgICAgICAgIDAgOiBzZWxmLnNlbGVjdGVkT3B0aW9uIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxlbXNbc2VsZi5zZWxlY3RlZE9wdGlvbl0uZm9jdXMoKTtcbiAgfTtcblxuICBzY29wZS5nZXREcm9wZG93bkVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5kcm9wZG93bk1lbnU7XG4gIH07XG5cbiAgc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNlbGYudG9nZ2xlRWxlbWVudCkge1xuICAgICAgc2VsZi50b2dnbGVFbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24oaXNPcGVuLCB3YXNPcGVuKSB7XG4gICAgaWYgKGFwcGVuZFRvQm9keSAmJiBzZWxmLmRyb3Bkb3duTWVudSkge1xuICAgICAgdmFyIHBvcyA9ICRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKHNlbGYuJGVsZW1lbnQsIHNlbGYuZHJvcGRvd25NZW51LCAnYm90dG9tLWxlZnQnLCB0cnVlKTtcbiAgICAgIHZhciBjc3MgPSB7XG4gICAgICAgIHRvcDogcG9zLnRvcCArICdweCcsXG4gICAgICAgIGRpc3BsYXk6IGlzT3BlbiA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgIH07XG5cbiAgICAgIHZhciByaWdodGFsaWduID0gc2VsZi5kcm9wZG93bk1lbnUuaGFzQ2xhc3MoJ2Ryb3Bkb3duLW1lbnUtcmlnaHQnKTtcbiAgICAgIGlmICghcmlnaHRhbGlnbikge1xuICAgICAgICBjc3MubGVmdCA9IHBvcy5sZWZ0ICsgJ3B4JztcbiAgICAgICAgY3NzLnJpZ2h0ID0gJ2F1dG8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzLmxlZnQgPSAnYXV0byc7XG4gICAgICAgIGNzcy5yaWdodCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIChwb3MubGVmdCArIHNlbGYuJGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSkpICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgc2VsZi5kcm9wZG93bk1lbnUuY3NzKGNzcyk7XG4gICAgfVxuXG4gICAgdmFyIG9wZW5Db250YWluZXIgPSBhcHBlbmRUb0JvZHkgPyBib2R5IDogc2VsZi4kZWxlbWVudDtcblxuICAgICRhbmltYXRlW2lzT3BlbiA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShvcGVuQ29udGFpbmVyLCBvcGVuQ2xhc3MpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaXNPcGVuKSAmJiBpc09wZW4gIT09IHdhc09wZW4pIHtcbiAgICAgICAgdG9nZ2xlSW52b2tlcigkc2NvcGUsIHsgb3BlbjogISFpc09wZW4gfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICBpZiAoc2VsZi5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCkge1xuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xuICAgICAgICAgIHRlbXBsYXRlU2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHRlbXBsYXRlU2NvcGUsIGZ1bmN0aW9uKGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIG5ld0VsID0gZHJvcGRvd25FbGVtZW50O1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgobmV3RWwpO1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUgPSBuZXdFbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgZHJvcGRvd25TZXJ2aWNlLm9wZW4oc2NvcGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2VsZi5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCkge1xuICAgICAgICBpZiAodGVtcGxhdGVTY29wZSkge1xuICAgICAgICAgIHRlbXBsYXRlU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3RWwgPSBhbmd1bGFyLmVsZW1lbnQoJzx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48L3VsPicpO1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZXBsYWNlV2l0aChuZXdFbCk7XG4gICAgICAgIHNlbGYuZHJvcGRvd25NZW51ID0gbmV3RWw7XG4gICAgICB9XG5cbiAgICAgIGRyb3Bkb3duU2VydmljZS5jbG9zZShzY29wZSk7XG4gICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNldElzT3BlbikpIHtcbiAgICAgIHNldElzT3Blbigkc2NvcGUsIGlzT3Blbik7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNjb3BlLmdldEF1dG9DbG9zZSgpICE9PSAnZGlzYWJsZWQnKSB7XG4gICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBvZmZEZXN0cm95ID0gJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICBzY29wZS4kZGVzdHJveSgpO1xuICB9KTtcbiAgc2NvcGUuJG9uKCckZGVzdHJveScsIG9mZkRlc3Ryb3kpO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgY29udHJvbGxlcjogJ0Ryb3Bkb3duQ29udHJvbGxlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcbiAgICAgIGRyb3Bkb3duQ3RybC5pbml0KCBlbGVtZW50ICk7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdkcm9wZG93bicpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duTWVudScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUMnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCFkcm9wZG93bkN0cmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHRwbFVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuICAgICAgaWYgKHRwbFVybCkge1xuICAgICAgICBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwgPSB0cGxVcmw7XG4gICAgICB9XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUpIHtcbiAgICAgICAgZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgna2V5Ym9hcmROYXYnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcblxuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoWzM4LCA0MF0uaW5kZXhPZihlLndoaWNoKSAhPT0gLTEpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIHZhciBlbGVtcyA9IGRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUuZmluZCgnYScpO1xuXG4gICAgICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICAgICAgICBjYXNlICg0MCk6IHsgLy8gRG93blxuICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID09PSBlbGVtcy5sZW5ndGggLTEgP1xuICAgICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uIDogZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uICsgMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgKDM4KTogeyAvLyBVcFxuICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IGVsZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID09PSAwID9cbiAgICAgICAgICAgICAgICAgIDAgOiBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gLSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtc1tkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duVG9nZ2xlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJz9eZHJvcGRvd24nLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Ryb3Bkb3duLXRvZ2dsZScpO1xuXG4gICAgICBkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHZhciB0b2dnbGVEcm9wZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCdkaXNhYmxlZCcpICYmICFhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIHRvZ2dsZURyb3Bkb3duKTtcblxuICAgICAgLy8gV0FJLUFSSUFcbiAgICAgIGVsZW1lbnQuYXR0cih7ICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSwgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSB9KTtcbiAgICAgIHNjb3BlLiR3YXRjaChkcm9wZG93bkN0cmwuaXNPcGVuLCBmdW5jdGlvbiggaXNPcGVuICkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAhIWlzT3Blbik7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnVuYmluZCgnY2xpY2snLCB0b2dnbGVEcm9wZG93bik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5tb2RhbCcsIFtdKVxuXG4vKipcbiAqIEEgaGVscGVyLCBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZSB0aGF0IGFjdHMgYXMgYSBtYXAgYnV0IGFsc28gYWxsb3dzIGdldHRpbmcgLyByZW1vdmluZ1xuICogZWxlbWVudHMgaW4gdGhlIExJRk8gb3JkZXJcbiAqL1xuICAuZmFjdG9yeSgnJCRzdGFja2VkTWFwJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFjayA9IFtdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWRkOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGFja1tpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBrZXlzLnB1c2goc3RhY2tbaV0ua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkgPT0gc3RhY2tbaV0ua2V5KSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnNwbGljZShpZHgsIDEpWzBdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlVG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoIC0gMSwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuLyoqXG4gKiBBIGhlbHBlciwgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBzdG9yZXMgYWxsIHJlZmVyZW5jZXMgYXR0YWNoZWQgdG8ga2V5XG4gKi9cbiAgLmZhY3RvcnkoJyQkbXVsdGlNYXAnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlTmV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1hcCA9IHt9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZW50cmllczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1hcFtrZXldXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYXNLZXk6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICEhbWFwW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIW1hcFtrZXldKSB7XG4gICAgICAgICAgICAgIG1hcFtrZXldID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hcFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gbWFwW2tleV07XG5cbiAgICAgICAgICAgIGlmICghdmFsdWVzKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGlkeCA9IHZhbHVlcy5pbmRleE9mKHZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgdmFsdWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIG1hcFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4vKipcbiAqIEEgaGVscGVyIGRpcmVjdGl2ZSBmb3IgdGhlICRtb2RhbCBzZXJ2aWNlLiBJdCBjcmVhdGVzIGEgYmFja2Ryb3AgZWxlbWVudC5cbiAqL1xuICAuZGlyZWN0aXZlKCdtb2RhbEJhY2tkcm9wJywgW1xuICAgICAgICAgICAnJGFuaW1hdGUnLCAnJGluamVjdG9yJywgJyRtb2RhbFN0YWNrJyxcbiAgZnVuY3Rpb24oJGFuaW1hdGUgLCAgJGluamVjdG9yLCAgICRtb2RhbFN0YWNrKSB7XG4gICAgdmFyICRhbmltYXRlQ3NzID0gbnVsbDtcblxuICAgIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgICAkYW5pbWF0ZUNzcyA9ICRpbmplY3Rvci5nZXQoJyRhbmltYXRlQ3NzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCcsXG4gICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgIHRFbGVtZW50LmFkZENsYXNzKHRBdHRycy5iYWNrZHJvcENsYXNzKTtcbiAgICAgICAgcmV0dXJuIGxpbmtGbjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgaWYgKGF0dHJzLm1vZGFsSW5DbGFzcykge1xuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICBhZGRDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgfSkuc3RhcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBhdHRycy5tb2RhbEluQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJG9uKCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBmdW5jdGlvbihlLCBzZXRJc0FzeW5jKSB7XG4gICAgICAgICAgdmFyIGRvbmUgPSBzZXRJc0FzeW5jKCk7XG4gICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBhdHRycy5tb2RhbEluQ2xhc3NcbiAgICAgICAgICAgIH0pLnN0YXJ0KCkudGhlbihkb25lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgYXR0cnMubW9kYWxJbkNsYXNzKS50aGVuKGRvbmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbFdpbmRvdycsIFtcbiAgICAgICAgICAgJyRtb2RhbFN0YWNrJywgJyRxJywgJyRhbmltYXRlJywgJyRpbmplY3RvcicsXG4gIGZ1bmN0aW9uKCRtb2RhbFN0YWNrICwgICRxICwgICRhbmltYXRlLCAgICRpbmplY3Rvcikge1xuICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XG5cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xuICAgICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGluZGV4OiAnQCdcbiAgICAgIH0sXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgIHJldHVybiB0QXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sJztcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy53aW5kb3dDbGFzcyB8fCAnJyk7XG4gICAgICAgIHNjb3BlLnNpemUgPSBhdHRycy5zaXplO1xuXG4gICAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgdmFyIG1vZGFsID0gJG1vZGFsU3RhY2suZ2V0VG9wKCk7XG4gICAgICAgICAgaWYgKG1vZGFsICYmIG1vZGFsLnZhbHVlLmJhY2tkcm9wICYmIG1vZGFsLnZhbHVlLmJhY2tkcm9wICE9PSAnc3RhdGljJyAmJiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnYmFja2Ryb3AgY2xpY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IGFkZGVkIHRvIHRoZSBzY29wZSBmb3IgdGhlIHB1cnBvc2Ugb2YgZGV0ZWN0aW5nIHdoZW4gdGhpcyBkaXJlY3RpdmUgaXMgcmVuZGVyZWQuXG4gICAgICAgIC8vIFdlIGNhbiBkZXRlY3QgdGhhdCBieSB1c2luZyB0aGlzIHByb3BlcnR5IGluIHRoZSB0ZW1wbGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBkaXJlY3RpdmUgYW5kIHRoZW4gdXNlXG4gICAgICAgIC8vIHtAbGluayBBdHRyaWJ1dGUjJG9ic2VydmV9IG9uIGl0LiBGb3IgbW9yZSBkZXRhaWxzIHBsZWFzZSBzZWUge0BsaW5rIFRhYmxlQ29sdW1uUmVzaXplfS5cbiAgICAgICAgc2NvcGUuJGlzUmVuZGVyZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIERlZmVycmVkIG9iamVjdCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGlzIG1vZGFsIGlzIHJlbmRlci5cbiAgICAgICAgdmFyIG1vZGFsUmVuZGVyRGVmZXJPYmogPSAkcS5kZWZlcigpO1xuICAgICAgICAvLyBPYnNlcnZlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9uIG5leHQgZGlnZXN0IGN5Y2xlIGFmdGVyIGNvbXBpbGF0aW9uLCBlbnN1cmluZyB0aGF0IHRoZSBET00gaXMgcmVhZHkuXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIHVzZSB0aGlzIHdheSBvZiBmaW5kaW5nIHdoZXRoZXIgRE9NIGlzIHJlYWR5LCB3ZSBuZWVkIHRvIG9ic2VydmUgYSBzY29wZSBwcm9wZXJ0eSB1c2VkIGluIG1vZGFsJ3MgdGVtcGxhdGUuXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdtb2RhbFJlbmRlcicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHZhbHVlID09ICd0cnVlJykge1xuICAgICAgICAgICAgbW9kYWxSZW5kZXJEZWZlck9iai5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBtb2RhbFJlbmRlckRlZmVyT2JqLnByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYW5pbWF0aW9uUHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoYXR0cnMubW9kYWxJbkNsYXNzKSB7XG4gICAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUHJvbWlzZSA9ICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbmltYXRpb25Qcm9taXNlID0gJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgYXR0cnMubW9kYWxJbkNsYXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2NvcGUuJG9uKCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBmdW5jdGlvbihlLCBzZXRJc0FzeW5jKSB7XG4gICAgICAgICAgICAgIHZhciBkb25lID0gc2V0SXNBc3luYygpO1xuICAgICAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICAgICAgfSkuc3RhcnQoKS50aGVuKGRvbmUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgICAkcS53aGVuKGFuaW1hdGlvblByb21pc2UpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRzV2l0aEF1dG9mb2N1cyA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnW2F1dG9mb2N1c10nKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXV0by1mb2N1c2luZyBvZiBhIGZyZXNobHktb3BlbmVkIG1vZGFsIGVsZW1lbnQgY2F1c2VzIGFueSBjaGlsZCBlbGVtZW50c1xuICAgICAgICAgICAgICogd2l0aCB0aGUgYXV0b2ZvY3VzIGF0dHJpYnV0ZSB0byBsb3NlIGZvY3VzLiBUaGlzIGlzIGFuIGlzc3VlIG9uIHRvdWNoXG4gICAgICAgICAgICAgKiBiYXNlZCBkZXZpY2VzIHdoaWNoIHdpbGwgc2hvdyBhbmQgdGhlbiBoaWRlIHRoZSBvbnNjcmVlbiBrZXlib2FyZC5cbiAgICAgICAgICAgICAqIEF0dGVtcHRzIHRvIHJlZm9jdXMgdGhlIGF1dG9mb2N1cyBlbGVtZW50IHZpYSBKYXZhU2NyaXB0IHdpbGwgbm90IHJlb3BlblxuICAgICAgICAgICAgICogdGhlIG9uc2NyZWVuIGtleWJvYXJkLiBGaXhlZCBieSB1cGRhdGVkIHRoZSBmb2N1c2luZyBsb2dpYyB0byBvbmx5IGF1dG9mb2N1c1xuICAgICAgICAgICAgICogdGhlIG1vZGFsIGVsZW1lbnQgaWYgdGhlIG1vZGFsIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0b2ZvY3VzIGVsZW1lbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpbnB1dHNXaXRoQXV0b2ZvY3VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpbnB1dHNXaXRoQXV0b2ZvY3VzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBOb3RpZnkge0BsaW5rICRtb2RhbFN0YWNrfSB0aGF0IG1vZGFsIGlzIHJlbmRlcmVkLlxuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCkge1xuICAgICAgICAgICAgJG1vZGFsU3RhY2subW9kYWxSZW5kZXJlZChtb2RhbC5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxBbmltYXRpb25DbGFzcycsIFtcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgICAgaWYgKHRBdHRycy5tb2RhbEFuaW1hdGlvbikge1xuICAgICAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3ModEF0dHJzLm1vZGFsQW5pbWF0aW9uQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbFRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICAkdHJhbnNjbHVkZSgkc2NvcGUuJHBhcmVudCwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgICAgICRlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbiAgLmZhY3RvcnkoJyRtb2RhbFN0YWNrJywgW1xuICAgICAgICAgICAgICckYW5pbWF0ZScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsXG4gICAgICAgICAgICAgJyRxJyxcbiAgICAgICAgICAgICAnJGluamVjdG9yJyxcbiAgICAgICAgICAgICAnJCRtdWx0aU1hcCcsXG4gICAgICAgICAgICAgJyQkc3RhY2tlZE1hcCcsXG4gICAgZnVuY3Rpb24oJGFuaW1hdGUgLCAgJHRpbWVvdXQgLCAgJGRvY3VtZW50ICwgICRjb21waWxlICwgICRyb290U2NvcGUgLFxuICAgICAgICAgICAgICAkcSxcbiAgICAgICAgICAgICAgJGluamVjdG9yLFxuICAgICAgICAgICAgICAkJG11bHRpTWFwLFxuICAgICAgICAgICAgICAkJHN0YWNrZWRNYXApIHtcbiAgICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XG5cbiAgICAgIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgICAgICRhbmltYXRlQ3NzID0gJGluamVjdG9yLmdldCgnJGFuaW1hdGVDc3MnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIE9QRU5FRF9NT0RBTF9DTEFTUyA9ICdtb2RhbC1vcGVuJztcblxuICAgICAgdmFyIGJhY2tkcm9wRG9tRWwsIGJhY2tkcm9wU2NvcGU7XG4gICAgICB2YXIgb3BlbmVkV2luZG93cyA9ICQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciBvcGVuZWRDbGFzc2VzID0gJCRtdWx0aU1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciAkbW9kYWxTdGFjayA9IHtcbiAgICAgICAgTk9XX0NMT1NJTkdfRVZFTlQ6ICdtb2RhbC5zdGFjay5ub3ctY2xvc2luZydcbiAgICAgIH07XG5cbiAgICAgIC8vTW9kYWwgZm9jdXMgYmVoYXZpb3JcbiAgICAgIHZhciBmb2N1c2FibGVFbGVtZW50TGlzdDtcbiAgICAgIHZhciBmb2N1c0luZGV4ID0gMDtcbiAgICAgIHZhciB0YWJhYmJsZVNlbGVjdG9yID0gJ2FbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgJyArXG4gICAgICAgICdidXR0b246bm90KFtkaXNhYmxlZF0pLHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgJyArXG4gICAgICAgICdpZnJhbWUsIG9iamVjdCwgZW1iZWQsICpbdGFiaW5kZXhdLCAqW2NvbnRlbnRlZGl0YWJsZT10cnVlXSc7XG5cbiAgICAgIGZ1bmN0aW9uIGJhY2tkcm9wSW5kZXgoKSB7XG4gICAgICAgIHZhciB0b3BCYWNrZHJvcEluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvcGVuZWQgPSBvcGVuZWRXaW5kb3dzLmtleXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVuZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAob3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCkge1xuICAgICAgICAgICAgdG9wQmFja2Ryb3BJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3BCYWNrZHJvcEluZGV4O1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChiYWNrZHJvcEluZGV4LCBmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KSB7XG4gICAgICAgIGlmIChiYWNrZHJvcFNjb3BlKSB7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZS5pbmRleCA9IG5ld0JhY2tkcm9wSW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBlbGVtZW50VG9SZWNlaXZlRm9jdXMpIHtcbiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApO1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKS52YWx1ZTtcblxuICAgICAgICAvL2NsZWFuIHVwIHRoZSBzdGFja1xuICAgICAgICBvcGVuZWRXaW5kb3dzLnJlbW92ZShtb2RhbEluc3RhbmNlKTtcblxuICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUobW9kYWxXaW5kb3cubW9kYWxEb21FbCwgbW9kYWxXaW5kb3cubW9kYWxTY29wZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIG1vZGFsQm9keUNsYXNzID0gbW9kYWxXaW5kb3cub3BlbmVkQ2xhc3MgfHwgT1BFTkVEX01PREFMX0NMQVNTO1xuICAgICAgICAgIG9wZW5lZENsYXNzZXMucmVtb3ZlKG1vZGFsQm9keUNsYXNzLCBtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgICBib2R5LnRvZ2dsZUNsYXNzKG1vZGFsQm9keUNsYXNzLCBvcGVuZWRDbGFzc2VzLmhhc0tleShtb2RhbEJvZHlDbGFzcykpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tSZW1vdmVCYWNrZHJvcCgpO1xuXG4gICAgICAgIC8vbW92ZSBmb2N1cyB0byBzcGVjaWZpZWQgZWxlbWVudCBpZiBhdmFpbGFibGUsIG9yIGVsc2UgdG8gYm9keVxuICAgICAgICBpZiAoZWxlbWVudFRvUmVjZWl2ZUZvY3VzICYmIGVsZW1lbnRUb1JlY2VpdmVGb2N1cy5mb2N1cykge1xuICAgICAgICAgIGVsZW1lbnRUb1JlY2VpdmVGb2N1cy5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJvZHkuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGVja1JlbW92ZUJhY2tkcm9wKCkge1xuICAgICAgICAgIC8vcmVtb3ZlIGJhY2tkcm9wIGlmIG5vIGxvbmdlciBuZWVkZWRcbiAgICAgICAgICBpZiAoYmFja2Ryb3BEb21FbCAmJiBiYWNrZHJvcEluZGV4KCkgPT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBiYWNrZHJvcFNjb3BlUmVmID0gYmFja2Ryb3BTY29wZTtcbiAgICAgICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgYmFja2Ryb3BTY29wZVJlZiA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJhY2tkcm9wRG9tRWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlQWZ0ZXJBbmltYXRlKGRvbUVsLCBzY29wZSwgZG9uZSkge1xuICAgICAgICB2YXIgYXN5bmNEZWZlcnJlZDtcbiAgICAgICAgdmFyIGFzeW5jUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHZhciBzZXRJc0FzeW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFhc3luY0RlZmVycmVkKSB7XG4gICAgICAgICAgICBhc3luY0RlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIGFzeW5jUHJvbWlzZSA9IGFzeW5jRGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNEb25lKCkge1xuICAgICAgICAgICAgYXN5bmNEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgc2V0SXNBc3luYyk7XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCBhc3luY1Byb21pc2UgbWlnaHQgYmUgbnVsbC5cbiAgICAgICAgLy8gVGhhdCdzIHdoZW4gc2V0SXNBc3luYyBoYXMgbm90IGJlZW4gY2FsbGVkIGR1cmluZyB0aGVcbiAgICAgICAgLy8gTk9XX0NMT1NJTkdfRVZFTlQgYnJvYWRjYXN0LlxuICAgICAgICByZXR1cm4gJHEud2hlbihhc3luY1Byb21pc2UpLnRoZW4oYWZ0ZXJBbmltYXRpbmcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCkge1xuICAgICAgICAgIGlmIChhZnRlckFuaW1hdGluZy5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQW5pbWF0aW5nLmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZUNzcyhkb21FbCwge1xuICAgICAgICAgICAgICBldmVudDogJ2xlYXZlJ1xuICAgICAgICAgICAgfSkuc3RhcnQoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBkb21FbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShkb21FbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGRvY3VtZW50LmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGV2dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybiBldnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbW9kYWwgPSBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgICBpZiAobW9kYWwgJiYgbW9kYWwudmFsdWUua2V5Ym9hcmQpIHtcbiAgICAgICAgICBzd2l0Y2ggKGV2dC53aGljaCl7XG4gICAgICAgICAgICBjYXNlIDI3OiB7XG4gICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2VzY2FwZSBrZXkgcHJlc3MnKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSA5OiB7XG4gICAgICAgICAgICAgICRtb2RhbFN0YWNrLmxvYWRGb2N1c0VsZW1lbnRMaXN0KG1vZGFsKTtcbiAgICAgICAgICAgICAgdmFyIGZvY3VzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAoZXZ0LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCRtb2RhbFN0YWNrLmlzRm9jdXNJbkZpcnN0SXRlbShldnQpKSB7XG4gICAgICAgICAgICAgICAgICBmb2N1c0NoYW5nZWQgPSAkbW9kYWxTdGFjay5mb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgkbW9kYWxTdGFjay5pc0ZvY3VzSW5MYXN0SXRlbShldnQpKSB7XG4gICAgICAgICAgICAgICAgICBmb2N1c0NoYW5nZWQgPSAkbW9kYWxTdGFjay5mb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChmb2N1c0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJG1vZGFsU3RhY2sub3BlbiA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsIG1vZGFsKSB7XG4gICAgICAgIHZhciBtb2RhbE9wZW5lciA9ICRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50LFxuICAgICAgICAgIG1vZGFsQm9keUNsYXNzID0gbW9kYWwub3BlbmVkQ2xhc3MgfHwgT1BFTkVEX01PREFMX0NMQVNTO1xuXG4gICAgICAgIG9wZW5lZFdpbmRvd3MuYWRkKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICBkZWZlcnJlZDogbW9kYWwuZGVmZXJyZWQsXG4gICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsLnJlbmRlckRlZmVycmVkLFxuICAgICAgICAgIG1vZGFsU2NvcGU6IG1vZGFsLnNjb3BlLFxuICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbC5iYWNrZHJvcCxcbiAgICAgICAgICBrZXlib2FyZDogbW9kYWwua2V5Ym9hcmQsXG4gICAgICAgICAgb3BlbmVkQ2xhc3M6IG1vZGFsLm9wZW5lZENsYXNzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9wZW5lZENsYXNzZXMucHV0KG1vZGFsQm9keUNsYXNzLCBtb2RhbEluc3RhbmNlKTtcblxuICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCksXG4gICAgICAgICAgICBjdXJyQmFja2Ryb3BJbmRleCA9IGJhY2tkcm9wSW5kZXgoKTtcblxuICAgICAgICBpZiAoY3VyckJhY2tkcm9wSW5kZXggPj0gMCAmJiAhYmFja2Ryb3BEb21FbCkge1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUgPSAkcm9vdFNjb3BlLiRuZXcodHJ1ZSk7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZS5pbmRleCA9IGN1cnJCYWNrZHJvcEluZGV4O1xuICAgICAgICAgIHZhciBhbmd1bGFyQmFja2dyb3VuZERvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLWJhY2tkcm9wPVwibW9kYWwtYmFja2Ryb3BcIj48L2Rpdj4nKTtcbiAgICAgICAgICBhbmd1bGFyQmFja2dyb3VuZERvbUVsLmF0dHIoJ2JhY2tkcm9wLWNsYXNzJywgbW9kYWwuYmFja2Ryb3BDbGFzcyk7XG4gICAgICAgICAgaWYgKG1vZGFsLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5ndWxhckJhY2tncm91bmREb21FbC5hdHRyKCdtb2RhbC1hbmltYXRpb24nLCAndHJ1ZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiYWNrZHJvcERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckJhY2tncm91bmREb21FbCkoYmFja2Ryb3BTY29wZSk7XG4gICAgICAgICAgYm9keS5hcHBlbmQoYmFja2Ryb3BEb21FbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYW5ndWxhckRvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLXdpbmRvdz1cIm1vZGFsLXdpbmRvd1wiPjwvZGl2PicpO1xuICAgICAgICBhbmd1bGFyRG9tRWwuYXR0cih7XG4gICAgICAgICAgJ3RlbXBsYXRlLXVybCc6IG1vZGFsLndpbmRvd1RlbXBsYXRlVXJsLFxuICAgICAgICAgICd3aW5kb3ctY2xhc3MnOiBtb2RhbC53aW5kb3dDbGFzcyxcbiAgICAgICAgICAnc2l6ZSc6IG1vZGFsLnNpemUsXG4gICAgICAgICAgJ2luZGV4Jzogb3BlbmVkV2luZG93cy5sZW5ndGgoKSAtIDEsXG4gICAgICAgICAgJ2FuaW1hdGUnOiAnYW5pbWF0ZSdcbiAgICAgICAgfSkuaHRtbChtb2RhbC5jb250ZW50KTtcbiAgICAgICAgaWYgKG1vZGFsLmFuaW1hdGlvbikge1xuICAgICAgICAgIGFuZ3VsYXJEb21FbC5hdHRyKCdtb2RhbC1hbmltYXRpb24nLCAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1vZGFsRG9tRWwgPSAkY29tcGlsZShhbmd1bGFyRG9tRWwpKG1vZGFsLnNjb3BlKTtcbiAgICAgICAgb3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbERvbUVsID0gbW9kYWxEb21FbDtcbiAgICAgICAgb3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbE9wZW5lciA9IG1vZGFsT3BlbmVyO1xuICAgICAgICBib2R5LmFwcGVuZChtb2RhbERvbUVsKTtcbiAgICAgICAgYm9keS5hZGRDbGFzcyhtb2RhbEJvZHlDbGFzcyk7XG5cbiAgICAgICAgJG1vZGFsU3RhY2suY2xlYXJGb2N1c0xpc3RDYWNoZSgpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVzdWx0T3JSZWFzb24sIGNsb3NpbmcpIHtcbiAgICAgICAgICByZXR1cm4gIW1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJGJyb2FkY2FzdCgnbW9kYWwuY2xvc2luZycsIHJlc3VsdE9yUmVhc29uLCBjbG9zaW5nKS5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgfVxuXG4gICAgICAkbW9kYWxTdGFjay5jbG9zZSA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCkge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93ICYmIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlc3VsdCwgdHJ1ZSkpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MgPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlLCByZWFzb24pIHtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIGlmIChtb2RhbFdpbmRvdyAmJiBicm9hZGNhc3RDbG9zaW5nKG1vZGFsV2luZG93LCByZWFzb24sIGZhbHNlKSkge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSwgbW9kYWxXaW5kb3cudmFsdWUubW9kYWxPcGVuZXIpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhbW9kYWxXaW5kb3c7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5kaXNtaXNzQWxsID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIHZhciB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7XG4gICAgICAgIHdoaWxlICh0b3BNb2RhbCAmJiB0aGlzLmRpc21pc3ModG9wTW9kYWwua2V5LCByZWFzb24pKSB7XG4gICAgICAgICAgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5nZXRUb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG9wZW5lZFdpbmRvd3MudG9wKCk7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5tb2RhbFJlbmRlcmVkID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSkge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUucmVuZGVyRGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5mb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRMaXN0WzBdLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcbiAgICAgICRtb2RhbFN0YWNrLmZvY3VzTGFzdEZvY3VzYWJsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb2N1c2FibGVFbGVtZW50TGlzdFtmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggLSAxXS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmlzRm9jdXNJbkZpcnN0SXRlbSA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiAoZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudCkgPT0gZm9jdXNhYmxlRWxlbWVudExpc3RbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suaXNGb2N1c0luTGFzdEl0ZW0gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gKGV2dC50YXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpID09IGZvY3VzYWJsZUVsZW1lbnRMaXN0W2ZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmNsZWFyRm9jdXNMaXN0Q2FjaGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3QgPSBbXTtcbiAgICAgICAgZm9jdXNJbmRleCA9IDA7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5sb2FkRm9jdXNFbGVtZW50TGlzdCA9IGZ1bmN0aW9uKG1vZGFsV2luZG93KSB7XG4gICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50TGlzdCA9PT0gdW5kZWZpbmVkIHx8ICFmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGgwKSB7XG4gICAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7XG4gICAgICAgICAgICB2YXIgbW9kYWxEb21FMSA9IG1vZGFsV2luZG93LnZhbHVlLm1vZGFsRG9tRWw7XG4gICAgICAgICAgICBpZiAobW9kYWxEb21FMSAmJiBtb2RhbERvbUUxLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmb2N1c2FibGVFbGVtZW50TGlzdCA9IG1vZGFsRG9tRTFbMF0ucXVlcnlTZWxlY3RvckFsbCh0YWJhYmJsZVNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAkbW9kYWxTdGFjaztcbiAgICB9XSlcblxuICAucHJvdmlkZXIoJyRtb2RhbCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkbW9kYWxQcm92aWRlciA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICBiYWNrZHJvcDogdHJ1ZSwgLy9jYW4gYWxzbyBiZSBmYWxzZSBvciAnc3RhdGljJ1xuICAgICAgICBrZXlib2FyZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgICRnZXQ6IFsnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckY29udHJvbGxlcicsICckbW9kYWxTdGFjaycsXG4gICAgICAgIGZ1bmN0aW9uICgkaW5qZWN0b3IsICRyb290U2NvcGUsICRxLCAkdGVtcGxhdGVSZXF1ZXN0LCAkY29udHJvbGxlciwgJG1vZGFsU3RhY2spIHtcbiAgICAgICAgICB2YXIgJG1vZGFsID0ge307XG5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZVByb21pc2Uob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudGVtcGxhdGUgPyAkcS53aGVuKG9wdGlvbnMudGVtcGxhdGUpIDpcbiAgICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChhbmd1bGFyLmlzRnVuY3Rpb24ob3B0aW9ucy50ZW1wbGF0ZVVybCkgPyAob3B0aW9ucy50ZW1wbGF0ZVVybCkoKSA6IG9wdGlvbnMudGVtcGxhdGVVcmwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGdldFJlc29sdmVQcm9taXNlcyhyZXNvbHZlcykge1xuICAgICAgICAgICAgdmFyIHByb21pc2VzQXJyID0gW107XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzb2x2ZXMsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWUpIHx8IGFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzQXJyLnB1c2goJHEud2hlbigkaW5qZWN0b3IuZ2V0KHZhbHVlKSkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2VzQXJyLnB1c2goJHEud2hlbih2YWx1ZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlc0FycjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcHJvbWlzZUNoYWluID0gbnVsbDtcbiAgICAgICAgICAkbW9kYWwuZ2V0UHJvbWlzZUNoYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZUNoYWluO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkbW9kYWwub3BlbiA9IGZ1bmN0aW9uIChtb2RhbE9wdGlvbnMpIHtcblxuICAgICAgICAgICAgdmFyIG1vZGFsUmVzdWx0RGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIG1vZGFsT3BlbmVkRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIG1vZGFsUmVuZGVyRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICAvL3ByZXBhcmUgYW4gaW5zdGFuY2Ugb2YgYSBtb2RhbCB0byBiZSBpbmplY3RlZCBpbnRvIGNvbnRyb2xsZXJzIGFuZCByZXR1cm5lZCB0byBhIGNhbGxlclxuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSB7XG4gICAgICAgICAgICAgIHJlc3VsdDogbW9kYWxSZXN1bHREZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgICAgICBvcGVuZWQ6IG1vZGFsT3BlbmVkRGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgcmVuZGVyZWQ6IG1vZGFsUmVuZGVyRGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJG1vZGFsU3RhY2suY2xvc2UobW9kYWxJbnN0YW5jZSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGlzbWlzczogZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsSW5zdGFuY2UsIHJlYXNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vbWVyZ2UgYW5kIGNsZWFuIHVwIG9wdGlvbnNcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbW9kYWxQcm92aWRlci5vcHRpb25zLCBtb2RhbE9wdGlvbnMpO1xuICAgICAgICAgICAgbW9kYWxPcHRpb25zLnJlc29sdmUgPSBtb2RhbE9wdGlvbnMucmVzb2x2ZSB8fCB7fTtcblxuICAgICAgICAgICAgLy92ZXJpZnkgb3B0aW9uc1xuICAgICAgICAgICAgaWYgKCFtb2RhbE9wdGlvbnMudGVtcGxhdGUgJiYgIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvZiB0ZW1wbGF0ZSBvciB0ZW1wbGF0ZVVybCBvcHRpb25zIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSA9XG4gICAgICAgICAgICAgICRxLmFsbChbZ2V0VGVtcGxhdGVQcm9taXNlKG1vZGFsT3B0aW9ucyldLmNvbmNhdChnZXRSZXNvbHZlUHJvbWlzZXMobW9kYWxPcHRpb25zLnJlc29sdmUpKSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBleGlzdGluZyBwcm9taXNlIGNoYWluLlxuICAgICAgICAgICAgLy8gVGhlbiBzd2l0Y2ggdG8gb3VyIG93biBjb21iaW5lZCBwcm9taXNlIGRlcGVuZGVuY3kgKHJlZ2FyZGxlc3Mgb2YgaG93IHRoZSBwcmV2aW91cyBtb2RhbCBmYXJlZCkuXG4gICAgICAgICAgICAvLyBUaGVuIGFkZCB0byAkbW9kYWxTdGFjayBhbmQgcmVzb2x2ZSBvcGVuZWQuXG4gICAgICAgICAgICAvLyBGaW5hbGx5IGNsZWFuIHVwIHRoZSBjaGFpbiB2YXJpYWJsZSBpZiBubyBzdWJzZXF1ZW50IG1vZGFsIGhhcyBvdmVyd3JpdHRlbiBpdC5cbiAgICAgICAgICAgIHZhciBzYW1lUHJvbWlzZTtcbiAgICAgICAgICAgIHNhbWVQcm9taXNlID0gcHJvbWlzZUNoYWluID0gJHEuYWxsKFtwcm9taXNlQ2hhaW5dKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHsgcmV0dXJuIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2U7IH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZTsgfSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gcmVzb2x2ZVN1Y2Nlc3ModHBsQW5kVmFycykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsU2NvcGUgPSAobW9kYWxPcHRpb25zLnNjb3BlIHx8ICRyb290U2NvcGUpLiRuZXcoKTtcbiAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRjbG9zZSA9IG1vZGFsSW5zdGFuY2UuY2xvc2U7XG4gICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcyA9IG1vZGFsSW5zdGFuY2UuZGlzbWlzcztcblxuICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFtb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcygnJHVpYlVuc2NoZWR1bGVkRGVzdHJ1Y3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBjdHJsSW5zdGFuY2UsIGN0cmxMb2NhbHMgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZUl0ZXIgPSAxO1xuXG4gICAgICAgICAgICAgICAgLy9jb250cm9sbGVyc1xuICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgY3RybExvY2Fscy4kc2NvcGUgPSBtb2RhbFNjb3BlO1xuICAgICAgICAgICAgICAgICAgY3RybExvY2Fscy4kbW9kYWxJbnN0YW5jZSA9IG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobW9kYWxPcHRpb25zLnJlc29sdmUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3RybExvY2Fsc1trZXldID0gdHBsQW5kVmFyc1tyZXNvbHZlSXRlcisrXTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBjdHJsSW5zdGFuY2UgPSAkY29udHJvbGxlcihtb2RhbE9wdGlvbnMuY29udHJvbGxlciwgY3RybExvY2Fscyk7XG4gICAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmJpbmRUb0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChjdHJsSW5zdGFuY2UsIG1vZGFsU2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbW9kYWxTY29wZVttb2RhbE9wdGlvbnMuY29udHJvbGxlckFzXSA9IGN0cmxJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5vcGVuKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlOiBtb2RhbFNjb3BlLFxuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICByZW5kZXJEZWZlcnJlZDogbW9kYWxSZW5kZXJEZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRwbEFuZFZhcnNbMF0sXG4gICAgICAgICAgICAgICAgICBhbmltYXRpb246IG1vZGFsT3B0aW9ucy5hbmltYXRpb24sXG4gICAgICAgICAgICAgICAgICBiYWNrZHJvcDogbW9kYWxPcHRpb25zLmJhY2tkcm9wLFxuICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IG1vZGFsT3B0aW9ucy5rZXlib2FyZCxcbiAgICAgICAgICAgICAgICAgIGJhY2tkcm9wQ2xhc3M6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcENsYXNzLFxuICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6IG1vZGFsT3B0aW9ucy53aW5kb3dDbGFzcyxcbiAgICAgICAgICAgICAgICAgIHdpbmRvd1RlbXBsYXRlVXJsOiBtb2RhbE9wdGlvbnMud2luZG93VGVtcGxhdGVVcmwsXG4gICAgICAgICAgICAgICAgICBzaXplOiBtb2RhbE9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICAgICAgICAgIG9wZW5lZENsYXNzOiBtb2RhbE9wdGlvbnMub3BlbmVkQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtb2RhbE9wZW5lZERlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIHJlc29sdmVFcnJvcihyZWFzb24pIHtcbiAgICAgICAgICAgICAgbW9kYWxPcGVuZWREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgICAgbW9kYWxSZXN1bHREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKHByb21pc2VDaGFpbiA9PT0gc2FtZVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlQ2hhaW4gPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiAkbW9kYWw7XG4gICAgICAgIH1dXG4gICAgfTtcblxuICAgIHJldHVybiAkbW9kYWxQcm92aWRlcjtcbiAgfSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucGFnaW5hdGlvbicsIFtdKVxuLmNvbnRyb2xsZXIoJ1BhZ2luYXRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXG4gICAgICBzZXROdW1QYWdlcyA9ICRhdHRycy5udW1QYWdlcyA/ICRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbiA6IGFuZ3VsYXIubm9vcDtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGNvbmZpZykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgaWYgKCRhdHRycy5pdGVtc1BlclBhZ2UpIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGYuaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zUGVyUGFnZSA9IGNvbmZpZy5pdGVtc1BlclBhZ2U7XG4gICAgfVxuXG4gICAgJHNjb3BlLiR3YXRjaCgndG90YWxJdGVtcycsIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsUGFnZXMnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgc2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsIHZhbHVlKTsgLy8gUmVhZG9ubHkgdmFyaWFibGVcblxuICAgICAgaWYgKCAkc2NvcGUucGFnZSA+IHZhbHVlICkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0UGFnZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRvdGFsUGFnZXMgPSB0aGlzLml0ZW1zUGVyUGFnZSA8IDEgPyAxIDogTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gdGhpcy5pdGVtc1BlclBhZ2UpO1xuICAgIHJldHVybiBNYXRoLm1heCh0b3RhbFBhZ2VzIHx8IDAsIDEpO1xuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnBhZ2UgPSBwYXJzZUludChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCAxMCkgfHwgMTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0UGFnZSA9IGZ1bmN0aW9uKHBhZ2UsIGV2dCkge1xuICAgIGlmIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHZhciBjbGlja0FsbG93ZWQgPSAhJHNjb3BlLm5nRGlzYWJsZWQgfHwgIWV2dDtcbiAgICBpZiAoY2xpY2tBbGxvd2VkICYmICRzY29wZS5wYWdlICE9PSBwYWdlICYmIHBhZ2UgPiAwICYmIHBhZ2UgPD0gJHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgIGlmIChldnQgJiYgZXZ0LnRhcmdldCkge1xuICAgICAgICBldnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgIH1cbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuICRzY29wZVtrZXkgKyAnVGV4dCddIHx8IHNlbGYuY29uZmlnW2tleSArICdUZXh0J107XG4gIH07XG5cbiAgJHNjb3BlLm5vUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09IDE7XG4gIH07XG5cbiAgJHNjb3BlLm5vTmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkc2NvcGUucGFnZSA9PT0gJHNjb3BlLnRvdGFsUGFnZXM7XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCdwYWdpbmF0aW9uQ29uZmlnJywge1xuICBpdGVtc1BlclBhZ2U6IDEwLFxuICBib3VuZGFyeUxpbmtzOiBmYWxzZSxcbiAgZGlyZWN0aW9uTGlua3M6IHRydWUsXG4gIGZpcnN0VGV4dDogJ0ZpcnN0JyxcbiAgcHJldmlvdXNUZXh0OiAnUHJldmlvdXMnLFxuICBuZXh0VGV4dDogJ05leHQnLFxuICBsYXN0VGV4dDogJ0xhc3QnLFxuICByb3RhdGU6IHRydWVcbn0pXG5cbi5kaXJlY3RpdmUoJ3BhZ2luYXRpb24nLCBbJyRwYXJzZScsICdwYWdpbmF0aW9uQ29uZmlnJywgZnVuY3Rpb24oJHBhcnNlLCBwYWdpbmF0aW9uQ29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRvdGFsSXRlbXM6ICc9JyxcbiAgICAgIGZpcnN0VGV4dDogJ0AnLFxuICAgICAgcHJldmlvdXNUZXh0OiAnQCcsXG4gICAgICBuZXh0VGV4dDogJ0AnLFxuICAgICAgbGFzdFRleHQ6ICdAJyxcbiAgICAgIG5nRGlzYWJsZWQ6Jz0nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ3BhZ2luYXRpb24nLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnUGFnaW5hdGlvbkNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ3BhZ2luYXRpb24nLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCc7XG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICB2YXIgbWF4U2l6ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm1heFNpemUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5tYXhTaXplKSA6IHBhZ2luYXRpb25Db25maWcubWF4U2l6ZSxcbiAgICAgICAgICByb3RhdGUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5yb3RhdGUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5yb3RhdGUpIDogcGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7XG4gICAgICBzY29wZS5ib3VuZGFyeUxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYm91bmRhcnlMaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzO1xuICAgICAgc2NvcGUuZGlyZWN0aW9uTGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kaXJlY3Rpb25MaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA6IHBhZ2luYXRpb25Db25maWcuZGlyZWN0aW9uTGlua3M7XG5cbiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2luYXRpb25Db25maWcpO1xuXG4gICAgICBpZiAoYXR0cnMubWF4U2l6ZSkge1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMubWF4U2l6ZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbWF4U2l6ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBpbiB0ZW1wbGF0ZVxuICAgICAgZnVuY3Rpb24gbWFrZVBhZ2UobnVtYmVyLCB0ZXh0LCBpc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG51bWJlcjogbnVtYmVyLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgYWN0aXZlOiBpc0FjdGl2ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSwgdG90YWxQYWdlcykge1xuICAgICAgICB2YXIgcGFnZXMgPSBbXTtcblxuICAgICAgICAvLyBEZWZhdWx0IHBhZ2UgbGltaXRzXG4gICAgICAgIHZhciBzdGFydFBhZ2UgPSAxLCBlbmRQYWdlID0gdG90YWxQYWdlcztcbiAgICAgICAgdmFyIGlzTWF4U2l6ZWQgPSBhbmd1bGFyLmlzRGVmaW5lZChtYXhTaXplKSAmJiBtYXhTaXplIDwgdG90YWxQYWdlcztcblxuICAgICAgICAvLyByZWNvbXB1dGUgaWYgbWF4U2l6ZVxuICAgICAgICBpZiAoaXNNYXhTaXplZCkge1xuICAgICAgICAgIGlmIChyb3RhdGUpIHtcbiAgICAgICAgICAgIC8vIEN1cnJlbnQgcGFnZSBpcyBkaXNwbGF5ZWQgaW4gdGhlIG1pZGRsZSBvZiB0aGUgdmlzaWJsZSBvbmVzXG4gICAgICAgICAgICBzdGFydFBhZ2UgPSBNYXRoLm1heChjdXJyZW50UGFnZSAtIE1hdGguZmxvb3IobWF4U2l6ZS8yKSwgMSk7XG4gICAgICAgICAgICBlbmRQYWdlICAgPSBzdGFydFBhZ2UgKyBtYXhTaXplIC0gMTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IGlmIGxpbWl0IGlzIGV4Y2VlZGVkXG4gICAgICAgICAgICBpZiAoZW5kUGFnZSA+IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgICAgZW5kUGFnZSAgID0gdG90YWxQYWdlcztcbiAgICAgICAgICAgICAgc3RhcnRQYWdlID0gZW5kUGFnZSAtIG1heFNpemUgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBWaXNpYmxlIHBhZ2VzIGFyZSBwYWdpbmF0ZWQgd2l0aCBtYXhTaXplXG4gICAgICAgICAgICBzdGFydFBhZ2UgPSAoKE1hdGguY2VpbChjdXJyZW50UGFnZSAvIG1heFNpemUpIC0gMSkgKiBtYXhTaXplKSArIDE7XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBsYXN0IHBhZ2UgaWYgbGltaXQgaXMgZXhjZWVkZWRcbiAgICAgICAgICAgIGVuZFBhZ2UgPSBNYXRoLm1pbihzdGFydFBhZ2UgKyBtYXhTaXplIC0gMSwgdG90YWxQYWdlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHBhZ2UgbnVtYmVyIGxpbmtzXG4gICAgICAgIGZvciAodmFyIG51bWJlciA9IHN0YXJ0UGFnZTsgbnVtYmVyIDw9IGVuZFBhZ2U7IG51bWJlcisrKSB7XG4gICAgICAgICAgdmFyIHBhZ2UgPSBtYWtlUGFnZShudW1iZXIsIG51bWJlciwgbnVtYmVyID09PSBjdXJyZW50UGFnZSk7XG4gICAgICAgICAgcGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBsaW5rcyB0byBtb3ZlIGJldHdlZW4gcGFnZSBzZXRzXG4gICAgICAgIGlmIChpc01heFNpemVkICYmICEgcm90YXRlKSB7XG4gICAgICAgICAgaWYgKHN0YXJ0UGFnZSA+IDEpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1BhZ2VTZXQgPSBtYWtlUGFnZShzdGFydFBhZ2UgLSAxLCAnLi4uJywgZmFsc2UpO1xuICAgICAgICAgICAgcGFnZXMudW5zaGlmdChwcmV2aW91c1BhZ2VTZXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbmRQYWdlIDwgdG90YWxQYWdlcykge1xuICAgICAgICAgICAgdmFyIG5leHRQYWdlU2V0ID0gbWFrZVBhZ2UoZW5kUGFnZSArIDEsICcuLi4nLCBmYWxzZSk7XG4gICAgICAgICAgICBwYWdlcy5wdXNoKG5leHRQYWdlU2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBvcmlnaW5hbFJlbmRlciA9IHBhZ2luYXRpb25DdHJsLnJlbmRlcjtcbiAgICAgIHBhZ2luYXRpb25DdHJsLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBvcmlnaW5hbFJlbmRlcigpO1xuICAgICAgICBpZiAoc2NvcGUucGFnZSA+IDAgJiYgc2NvcGUucGFnZSA8PSBzY29wZS50b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgc2NvcGUucGFnZXMgPSBnZXRQYWdlcyhzY29wZS5wYWdlLCBzY29wZS50b3RhbFBhZ2VzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCdwYWdlckNvbmZpZycsIHtcbiAgaXRlbXNQZXJQYWdlOiAxMCxcbiAgcHJldmlvdXNUZXh0OiAnwqsgUHJldmlvdXMnLFxuICBuZXh0VGV4dDogJ05leHQgwrsnLFxuICBhbGlnbjogdHJ1ZVxufSlcblxuLmRpcmVjdGl2ZSgncGFnZXInLCBbJ3BhZ2VyQ29uZmlnJywgZnVuY3Rpb24ocGFnZXJDb25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICBzY29wZToge1xuICAgICAgdG90YWxJdGVtczogJz0nLFxuICAgICAgcHJldmlvdXNUZXh0OiAnQCcsXG4gICAgICBuZXh0VGV4dDogJ0AnLFxuICAgICAgbmdEaXNhYmxlZDogJz0nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ3BhZ2VyJywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdwYWdpbmF0aW9uJyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sJztcbiAgICB9LFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHBhZ2luYXRpb25DdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHtcbiAgICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxuICAgICAgfVxuXG4gICAgICBzY29wZS5hbGlnbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmFsaWduKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYWxpZ24pIDogcGFnZXJDb25maWcuYWxpZ247XG4gICAgICBwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBwYWdlckNvbmZpZyk7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBhbmltYXRpb24gYXMgYVxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxuICoganVzdCBtb3VzZSBlbnRlci9sZWF2ZSwgaHRtbCB0b29sdGlwcywgYW5kIHNlbGVjdG9yIGRlbGVnYXRpb24uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudG9vbHRpcCcsIFsndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCddKVxuXG4vKipcbiAqIFRoZSAkdG9vbHRpcCBzZXJ2aWNlIGNyZWF0ZXMgdG9vbHRpcC0gYW5kIHBvcG92ZXItbGlrZSBkaXJlY3RpdmVzIGFzIHdlbGwgYXNcbiAqIGhvdXNlcyBnbG9iYWwgb3B0aW9ucyBmb3IgdGhlbS5cbiAqL1xuLnByb3ZpZGVyKCckdG9vbHRpcCcsIGZ1bmN0aW9uKCkge1xuICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zIHRvb2x0aXAgYW5kIHBvcG92ZXIuXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwb3B1cERlbGF5OiAwLFxuICAgIHVzZUNvbnRlbnRFeHA6IGZhbHNlXG4gIH07XG5cbiAgLy8gRGVmYXVsdCBoaWRlIHRyaWdnZXJzIGZvciBlYWNoIHNob3cgdHJpZ2dlclxuICB2YXIgdHJpZ2dlck1hcCA9IHtcbiAgICAnbW91c2VlbnRlcic6ICdtb3VzZWxlYXZlJyxcbiAgICAnY2xpY2snOiAnY2xpY2snLFxuICAgICdmb2N1cyc6ICdibHVyJyxcbiAgICAnbm9uZSc6ICcnXG4gIH07XG5cbiAgLy8gVGhlIG9wdGlvbnMgc3BlY2lmaWVkIHRvIHRoZSBwcm92aWRlciBnbG9iYWxseS5cbiAgdmFyIGdsb2JhbE9wdGlvbnMgPSB7fTtcblxuICAvKipcbiAgICogYG9wdGlvbnMoe30pYCBhbGxvd3MgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gb2YgYWxsIHRvb2x0aXBzIGluIHRoZVxuICAgKiBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoICdBcHAnLCBbJ3VpLmJvb3RzdHJhcC50b29sdGlwJ10sIGZ1bmN0aW9uKCAkdG9vbHRpcFByb3ZpZGVyICkge1xuICAgKiAgICAgLy8gcGxhY2UgdG9vbHRpcHMgbGVmdCBpbnN0ZWFkIG9mIHRvcCBieSBkZWZhdWx0XG4gICAqICAgICAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnMoIHsgcGxhY2VtZW50OiAnbGVmdCcgfSApO1xuICAgKiAgIH0pO1xuICAgKi9cblx0dGhpcy5vcHRpb25zID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRhbmd1bGFyLmV4dGVuZChnbG9iYWxPcHRpb25zLCB2YWx1ZSk7XG5cdH07XG5cbiAgLyoqXG4gICAqIFRoaXMgYWxsb3dzIHlvdSB0byBleHRlbmQgdGhlIHNldCBvZiB0cmlnZ2VyIG1hcHBpbmdzIGF2YWlsYWJsZS4gRS5nLjpcbiAgICpcbiAgICogICAkdG9vbHRpcFByb3ZpZGVyLnNldFRyaWdnZXJzKCAnb3BlblRyaWdnZXInOiAnY2xvc2VUcmlnZ2VyJyApO1xuICAgKi9cbiAgdGhpcy5zZXRUcmlnZ2VycyA9IGZ1bmN0aW9uIHNldFRyaWdnZXJzKHRyaWdnZXJzKSB7XG4gICAgYW5ndWxhci5leHRlbmQodHJpZ2dlck1hcCwgdHJpZ2dlcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIGZvciB0cmFuc2xhdGluZyBjYW1lbC1jYXNlIHRvIHNuYWtlLWNhc2UuXG4gICAqL1xuICBmdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUpIHtcbiAgICB2YXIgcmVnZXhwID0gL1tBLVpdL2c7XG4gICAgdmFyIHNlcGFyYXRvciA9ICctJztcbiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHtcbiAgICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSAkdG9vbHRpcCBzZXJ2aWNlLlxuICAgKiBUT0RPIHN1cHBvcnQgbXVsdGlwbGUgdHJpZ2dlcnNcbiAgICovXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckY29tcGlsZScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJHBvc2l0aW9uJywgJyRpbnRlcnBvbGF0ZScsICckcm9vdFNjb3BlJywgJyRwYXJzZScsIGZ1bmN0aW9uKCR3aW5kb3csICRjb21waWxlLCAkdGltZW91dCwgJGRvY3VtZW50LCAkcG9zaXRpb24sICRpbnRlcnBvbGF0ZSwgJHJvb3RTY29wZSwgJHBhcnNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICR0b29sdGlwKHR5cGUsIHByZWZpeCwgZGVmYXVsdFRyaWdnZXJTaG93LCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBnbG9iYWxPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBzaG93IGFuZCBoaWRlIHRyaWdnZXJzLlxuICAgICAgICpcbiAgICAgICAqIElmIGEgdHJpZ2dlciBpcyBzdXBwbGllZCxcbiAgICAgICAqIGl0IGlzIHVzZWQgdG8gc2hvdyB0aGUgdG9vbHRpcDsgb3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRyaWdnZXJgXG4gICAgICAgKiBvcHRpb24gcGFzc2VkIHRvIHRoZSBgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zYCBtZXRob2Q7IGVsc2UgaXQgd2lsbFxuICAgICAgICogZGVmYXVsdCB0byB0aGUgdHJpZ2dlciBzdXBwbGllZCB0byB0aGlzIGRpcmVjdGl2ZSBmYWN0b3J5LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBoaWRlIHRyaWdnZXIgaXMgYmFzZWQgb24gdGhlIHNob3cgdHJpZ2dlci4gSWYgdGhlIGB0cmlnZ2VyYCBvcHRpb25cbiAgICAgICAqIHdhcyBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZCwgaXQgd2lsbCB1c2UgdGhlXG4gICAgICAgKiBtYXBwZWQgdHJpZ2dlciBmcm9tIGB0cmlnZ2VyTWFwYCBvciB0aGUgcGFzc2VkIHRyaWdnZXIgaWYgdGhlIG1hcCBpc1xuICAgICAgICogdW5kZWZpbmVkOyBvdGhlcndpc2UsIGl0IHVzZXMgdGhlIGB0cmlnZ2VyTWFwYCB2YWx1ZSBvZiB0aGUgc2hvd1xuICAgICAgICogdHJpZ2dlcjsgZWxzZSBpdCB3aWxsIGp1c3QgdXNlIHRoZSBzaG93IHRyaWdnZXIuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGdldFRyaWdnZXJzKHRyaWdnZXIpIHtcbiAgICAgICAgdmFyIHNob3cgPSAodHJpZ2dlciB8fCBvcHRpb25zLnRyaWdnZXIgfHwgZGVmYXVsdFRyaWdnZXJTaG93KS5zcGxpdCgnICcpO1xuICAgICAgICB2YXIgaGlkZSA9IHNob3cubWFwKGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlck1hcFt0cmlnZ2VyXSB8fCB0cmlnZ2VyO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaG93OiBzaG93LFxuICAgICAgICAgIGhpZGU6IGhpZGVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpcmVjdGl2ZU5hbWUgPSBzbmFrZV9jYXNlKHR5cGUpO1xuXG4gICAgICB2YXIgc3RhcnRTeW0gPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKTtcbiAgICAgIHZhciBlbmRTeW0gPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7XG4gICAgICB2YXIgdGVtcGxhdGUgPVxuICAgICAgICAnPGRpdiAnKyBkaXJlY3RpdmVOYW1lICsnLXBvcHVwICcrXG4gICAgICAgICAgJ3RpdGxlPVwiJytzdGFydFN5bSsndGl0bGUnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAob3B0aW9ucy51c2VDb250ZW50RXhwID9cbiAgICAgICAgICAgICdjb250ZW50LWV4cD1cImNvbnRlbnRFeHAoKVwiICcgOlxuICAgICAgICAgICAgJ2NvbnRlbnQ9XCInK3N0YXJ0U3ltKydjb250ZW50JytlbmRTeW0rJ1wiICcpICtcbiAgICAgICAgICAncGxhY2VtZW50PVwiJytzdGFydFN5bSsncGxhY2VtZW50JytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgJ3BvcHVwLWNsYXNzPVwiJytzdGFydFN5bSsncG9wdXBDbGFzcycrZW5kU3ltKydcIiAnK1xuICAgICAgICAgICdhbmltYXRpb249XCJhbmltYXRpb25cIiAnK1xuICAgICAgICAgICdpcy1vcGVuPVwiaXNPcGVuXCInK1xuICAgICAgICAgICdvcmlnaW4tc2NvcGU9XCJvcmlnU2NvcGVcIiAnK1xuICAgICAgICAgICc+JytcbiAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbSwgdEF0dHJzKSB7XG4gICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZXIgPSAkY29tcGlsZSggdGVtcGxhdGUgKTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdG9vbHRpcEN0cmwpIHtcbiAgICAgICAgICAgIHZhciB0b29sdGlwO1xuICAgICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZWRTY29wZTtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHZhciBwb3B1cFRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb25UaW1lb3V0O1xuICAgICAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMuYXBwZW5kVG9Cb2R5KSA/IG9wdGlvbnMuYXBwZW5kVG9Cb2R5IDogZmFsc2U7XG4gICAgICAgICAgICB2YXIgdHJpZ2dlcnMgPSBnZXRUcmlnZ2Vycyh1bmRlZmluZWQpO1xuICAgICAgICAgICAgdmFyIGhhc0VuYWJsZUV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdFbmFibGUnXSk7XG4gICAgICAgICAgICB2YXIgdHRTY29wZSA9IHNjb3BlLiRuZXcodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcmVwb3NpdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGlzT3BlbkV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdJc09wZW4nXSkgPyAkcGFyc2UoYXR0cnNbcHJlZml4ICsgJ0lzT3BlbiddKSA6IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25Ub29sdGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghdG9vbHRpcCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgICBpZiAoIXBvc2l0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHBvc2l0aW9uaW5nIGFuZCBib3ggc2l6ZSBmb3IgY29ycmVjdCB3aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCB3aWR0aDogJ2F1dG8nLCBoZWlnaHQ6ICdhdXRvJyB9KTtcblxuICAgICAgICAgICAgICAgICAgdmFyIHR0Qm94ID0gJHBvc2l0aW9uLnBvc2l0aW9uKHRvb2x0aXApO1xuICAgICAgICAgICAgICAgICAgdmFyIHR0Q3NzID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCwgdG9vbHRpcCwgdHRTY29wZS5wbGFjZW1lbnQsIGFwcGVuZFRvQm9keSk7XG4gICAgICAgICAgICAgICAgICB0dENzcy50b3AgKz0gJ3B4JztcbiAgICAgICAgICAgICAgICAgIHR0Q3NzLmxlZnQgKz0gJ3B4JztcblxuICAgICAgICAgICAgICAgICAgdHRDc3Mud2lkdGggPSB0dEJveC53aWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgICB0dENzcy5oZWlnaHQgPSB0dEJveC5oZWlnaHQgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAvLyBOb3cgc2V0IHRoZSBjYWxjdWxhdGVkIHBvc2l0aW9uaW5nIGFuZCBzaXplLlxuICAgICAgICAgICAgICAgICAgdG9vbHRpcC5jc3ModHRDc3MpO1xuXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTZXQgdXAgdGhlIGNvcnJlY3Qgc2NvcGUgdG8gYWxsb3cgdHJhbnNjbHVzaW9uIGxhdGVyXG4gICAgICAgICAgICB0dFNjb3BlLm9yaWdTY29wZSA9IHNjb3BlO1xuXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCB0aGUgdG9vbHRpcCBpcyBub3Qgb3Blbi5cbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIGFiaWxpdHkgdG8gc3RhcnQgdG9vbHRpcCBvcGVuZWRcbiAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvb2x0aXBCaW5kKCkge1xuICAgICAgICAgICAgICBpZiAoIXR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGlkZVRvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCB3aXRoIGRlbGF5IGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNob3cgaXQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwQmluZCgpIHtcbiAgICAgICAgICAgICAgaWYgKGhhc0VuYWJsZUV4cCAmJiAhc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0VuYWJsZSddKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHByZXBhcmVUb29sdGlwKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHR0U2NvcGUucG9wdXBEZWxheSkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHRvb2x0aXAgd2FzIGFscmVhZHkgc2NoZWR1bGVkIHRvIHBvcC11cC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgc2hvdyBpcyB0cmlnZ2VyZWQgbXVsdGlwbGUgdGltZXMgYmVmb3JlIGFueSBoaWRlIGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICAgICAgICBpZiAoIXBvcHVwVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gJHRpbWVvdXQoc2hvdywgdHRTY29wZS5wb3B1cERlbGF5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBoaWRlVG9vbHRpcEJpbmQgKCkge1xuICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCBwb3B1cCBlbGVtZW50LlxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgcmVtb3ZlIHRyYW5zaXRpb24sIHdlIG11c3QgY2FuY2VsIGl0LCBsZXN0IHRoZVxuICAgICAgICAgICAgICAvLyB0b29sdGlwIGJlIG15c3RlcmlvdXNseSByZW1vdmVkLlxuICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIERvbid0IHNob3cgZW1wdHkgdG9vbHRpcHMuXG4gICAgICAgICAgICAgIGlmICghKG9wdGlvbnMudXNlQ29udGVudEV4cCA/IHR0U2NvcGUuY29udGVudEV4cCgpIDogdHRTY29wZS5jb250ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLm5vb3A7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjcmVhdGVUb29sdGlwKCk7XG5cbiAgICAgICAgICAgICAgLy8gQW5kIHNob3cgdGhlIHRvb2x0aXAuXG4gICAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYgKGlzT3BlbkV4cCkge1xuICAgICAgICAgICAgICAgIGlzT3BlbkV4cC5hc3NpZ24odHRTY29wZS5vcmlnU2NvcGUsIHR0U2NvcGUuaXNPcGVuKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgdHRTY29wZS4kYXBwbHkoKTsgLy8gZGlnZXN0IHJlcXVpcmVkIGFzICRhcHBseSBpcyBub3QgY2FsbGVkXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0b29sdGlwLmNzcyh7IGRpc3BsYXk6ICdibG9jaycgfSk7XG5cbiAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgIC8vIEZpcnN0IHRoaW5ncyBmaXJzdDogd2UgZG9uJ3Qgc2hvdyBpdCBhbnltb3JlLlxuICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAoaXNPcGVuRXhwKSB7XG4gICAgICAgICAgICAgICAgaXNPcGVuRXhwLmFzc2lnbih0dFNjb3BlLm9yaWdTY29wZSwgdHRTY29wZS5pc09wZW4pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy9pZiB0b29sdGlwIGlzIGdvaW5nIHRvIGJlIHNob3duIGFmdGVyIGRlbGF5LCB3ZSBtdXN0IGNhbmNlbCB0aGlzXG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3NpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBub3cgd2UgcmVtb3ZlIGl0IGZyb20gdGhlIERPTS4gSG93ZXZlciwgaWYgd2UgaGF2ZSBhbmltYXRpb24sIHdlXG4gICAgICAgICAgICAgIC8vIG5lZWQgdG8gd2FpdCBmb3IgaXQgdG8gZXhwaXJlIGJlZm9yZWhhbmQuXG4gICAgICAgICAgICAgIC8vIEZJWE1FOiB0aGlzIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGEgcG9ydCBvZiB0aGUgdHJhbnNpdGlvbnMgbGlicmFyeS5cbiAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2l0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSAkdGltZW91dChyZW1vdmVUb29sdGlwLCA1MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlVG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgLy8gVGhlcmUgY2FuIG9ubHkgYmUgb25lIHRvb2x0aXAgZWxlbWVudCBwZXIgZGlyZWN0aXZlIHNob3duIGF0IG9uY2UuXG4gICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZSA9IHR0U2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICB0b29sdGlwID0gdG9vbHRpcExpbmtlcih0b29sdGlwTGlua2VkU2NvcGUsIGZ1bmN0aW9uKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCh0b29sdGlwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZnRlcih0b29sdGlwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNvbnRlbnRFeHApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJHdhdGNoKCdjb250ZW50RXhwKCknLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghdmFsICYmIHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXJlcG9zaXRpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3NpdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVwb3NpdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0b29sdGlwTGlua2VkU2NvcGUpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVUb29sdGlwKCkge1xuICAgICAgICAgICAgICBwcmVwUG9wdXBDbGFzcygpO1xuICAgICAgICAgICAgICBwcmVwUGxhY2VtZW50KCk7XG4gICAgICAgICAgICAgIHByZXBQb3B1cERlbGF5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHR0U2NvcGUuY29udGVudEV4cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuJGV2YWwoYXR0cnNbdHlwZV0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPYnNlcnZlIHRoZSByZWxldmFudCBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudXNlQ29udGVudEV4cCkge1xuICAgICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSh0eXBlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICB0dFNjb3BlLmNvbnRlbnQgPSB2YWw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGlzYWJsZWQnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgaWYgKHBvcHVwVGltZW91dCAmJiB2YWwpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHByZWZpeCArICdUaXRsZScsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICB0dFNjb3BlLnRpdGxlID0gdmFsO1xuICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShwcmVmaXggKyAnUGxhY2VtZW50JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICh0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIHByZXBQbGFjZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChpc09wZW5FeHApIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGlzT3BlbkV4cCwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCAhPT0gdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZVRvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBvcHVwQ2xhc3MoKSB7XG4gICAgICAgICAgICAgIHR0U2NvcGUucG9wdXBDbGFzcyA9IGF0dHJzW3ByZWZpeCArICdDbGFzcyddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwUGxhY2VtZW50KCkge1xuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1BsYWNlbWVudCddO1xuICAgICAgICAgICAgICB0dFNjb3BlLnBsYWNlbWVudCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCkgPyB2YWwgOiBvcHRpb25zLnBsYWNlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBvcHVwRGVsYXkoKSB7XG4gICAgICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1twcmVmaXggKyAnUG9wdXBEZWxheSddO1xuICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBwYXJzZUludCh2YWwsIDEwKTtcbiAgICAgICAgICAgICAgdHRTY29wZS5wb3B1cERlbGF5ID0gIWlzTmFOKGRlbGF5KSA/IGRlbGF5IDogb3B0aW9ucy5wb3B1cERlbGF5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdW5yZWdpc3RlclRyaWdnZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHRyaWdnZXJzLnNob3cuZm9yRWFjaChmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlciwgc2hvd1Rvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRyaWdnZXJzLmhpZGUuZm9yRWFjaChmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlciwgaGlkZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwVHJpZ2dlcnMoKSB7XG4gICAgICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1twcmVmaXggKyAnVHJpZ2dlciddO1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcblxuICAgICAgICAgICAgICB0cmlnZ2VycyA9IGdldFRyaWdnZXJzKHZhbCk7XG5cbiAgICAgICAgICAgICAgaWYgKHRyaWdnZXJzLnNob3cgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJzLnNob3cuZm9yRWFjaChmdW5jdGlvbih0cmlnZ2VyLCBpZHgpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFVzaW5nIHJhdyBhZGRFdmVudExpc3RlbmVyIGR1ZSB0byBqcUxpdGUvalF1ZXJ5IGJ1ZyAtICM0MDYwXG4gICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlciA9PT0gdHJpZ2dlcnMuaGlkZVtpZHhdKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcih0cmlnZ2VyLCB0b2dnbGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKHRyaWdnZXIsIHNob3dUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcih0cmlnZ2Vycy5oaWRlW2lkeF0sIGhpZGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXBUcmlnZ2VycygpO1xuXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0FuaW1hdGlvbiddKTtcbiAgICAgICAgICAgIHR0U2NvcGUuYW5pbWF0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKSA/ICEhYW5pbWF0aW9uIDogb3B0aW9ucy5hbmltYXRpb247XG5cbiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHlWYWwgPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQXBwZW5kVG9Cb2R5J10pO1xuICAgICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoYXBwZW5kVG9Cb2R5VmFsKSA/IGFwcGVuZFRvQm9keVZhbCA6IGFwcGVuZFRvQm9keTtcblxuICAgICAgICAgICAgLy8gaWYgYSB0b29sdGlwIGlzIGF0dGFjaGVkIHRvIDxib2R5PiB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBvblxuICAgICAgICAgICAgLy8gbG9jYXRpb24gY2hhbmdlIGFzIGl0cyBwYXJlbnQgc2NvcGUgd2lsbCBwcm9iYWJseSBub3QgYmUgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBieSB0aGUgY2hhbmdlLlxuICAgICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICAgICBzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiBjbG9zZVRvb2x0aXBPbkxvY2F0aW9uQ2hhbmdlU3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICBpZiAodHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdG9vbHRpcCBpcyBkZXN0cm95ZWQgYW5kIHJlbW92ZWQuXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gb25EZXN0cm95VG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KTtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCk7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3NpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcbiAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB0dFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfV07XG59KVxuXG4vLyBUaGlzIGlzIG1vc3RseSBuZ0luY2x1ZGUgY29kZSBidXQgd2l0aCBhIGN1c3RvbSBzY29wZVxuLmRpcmVjdGl2ZSgndG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZScsIFtcbiAgICAgICAgICckYW5pbWF0ZScsICckc2NlJywgJyRjb21waWxlJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLFxuZnVuY3Rpb24gKCRhbmltYXRlICwgICRzY2UgLCAgJGNvbXBpbGUgLCAgJHRlbXBsYXRlUmVxdWVzdCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgdmFyIG9yaWdTY29wZSA9IHNjb3BlLiRldmFsKGF0dHJzLnRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGVTY29wZSk7XG5cbiAgICAgIHZhciBjaGFuZ2VDb3VudGVyID0gMCxcbiAgICAgICAgY3VycmVudFNjb3BlLFxuICAgICAgICBwcmV2aW91c0VsZW1lbnQsXG4gICAgICAgIGN1cnJlbnRFbGVtZW50O1xuXG4gICAgICB2YXIgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgcHJldmlvdXNFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xuICAgICAgICAgIGN1cnJlbnRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKGF0dHJzLnRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUpLCBmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgdmFyIHRoaXNDaGFuZ2VJZCA9ICsrY2hhbmdlQ291bnRlcjtcblxuICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgLy9zZXQgdGhlIDJuZCBwYXJhbSB0byB0cnVlIHRvIGlnbm9yZSB0aGUgdGVtcGxhdGUgcmVxdWVzdCBlcnJvciBzbyB0aGF0IHRoZSBpbm5lclxuICAgICAgICAgIC8vY29udGVudHMgYW5kIHNjb3BlIGNhbiBiZSBjbGVhbmVkIHVwLlxuICAgICAgICAgICR0ZW1wbGF0ZVJlcXVlc3Qoc3JjLCB0cnVlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkICE9PSBjaGFuZ2VDb3VudGVyKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgdmFyIG5ld1Njb3BlID0gb3JpZ1Njb3BlLiRuZXcoKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICB2YXIgY2xvbmUgPSAkY29tcGlsZSh0ZW1wbGF0ZSkobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIGVsZW0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjbG9uZTtcblxuICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRMb2FkZWQnLCBzcmMpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCA9PT0gY2hhbmdlQ291bnRlcikge1xuICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4vKipcbiAqIE5vdGUgdGhhdCBpdCdzIGludGVudGlvbmFsIHRoYXQgdGhlc2UgY2xhc3NlcyBhcmUgKm5vdCogYXBwbGllZCB0aHJvdWdoICRhbmltYXRlLlxuICogVGhleSBtdXN0IG5vdCBiZSBhbmltYXRlZCBhcyB0aGV5J3JlIGV4cGVjdGVkIHRvIGJlIHByZXNlbnQgb24gdGhlIHRvb2x0aXAgb25cbiAqIGluaXRpYWxpemF0aW9uLlxuICovXG4uZGlyZWN0aXZlKCd0b29sdGlwQ2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBpZiAoc2NvcGUucGxhY2VtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Moc2NvcGUucGxhY2VtZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChzY29wZS5wb3B1cENsYXNzKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Moc2NvcGUucG9wdXBDbGFzcyk7XG4gICAgICB9XG4gICAgICBpZiAoc2NvcGUuYW5pbWF0aW9uKCkpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy50b29sdGlwQW5pbWF0aW9uQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcCcsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicpO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBUZW1wbGF0ZVBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50RXhwOiAnJicsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyxcbiAgICAgIG9yaWdpblNjb3BlOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcFRlbXBsYXRlJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcFRlbXBsYXRlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcEh0bWwnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwSHRtbCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKVxuXG4vKlxuRGVwcmVjYXRlZFxuKi9cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sVW5zYWZlUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi52YWx1ZSgndG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sVW5zYWZlJywgW1xuICAgICAgICAgICckdG9vbHRpcCcsICd0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsICckbG9nJyxcbmZ1bmN0aW9uKCR0b29sdGlwICwgIHRvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkICwgICRsb2cpIHtcbiAgaWYgKCF0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICRsb2cud2FybigndG9vbHRpcC1odG1sLXVuc2FmZSBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHRvb2x0aXAtaHRtbCBvciB0b29sdGlwLXRlbXBsYXRlIGluc3RlYWQuJyk7XG4gIH1cbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwSHRtbFVuc2FmZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInKTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogcG9wdXAgZGVsYXksIGFuaW1hdGlvbiBhcyBhXG4gKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGF0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC5wb3BvdmVyJywgWyd1aS5ib290c3RyYXAudG9vbHRpcCddKVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVyVGVtcGxhdGVQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgdGl0bGU6ICdAJywgY29udGVudEV4cDogJyYnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicsXG4gICAgICBvcmlnaW5TY29wZTogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXJUZW1wbGF0ZScsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3BvcG92ZXJUZW1wbGF0ZScsICdwb3BvdmVyJywgJ2NsaWNrJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgncG9wb3Zlckh0bWxQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCB0aXRsZTogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci1odG1sLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVySHRtbCcsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVySHRtbCcsICdwb3BvdmVyJywgJ2NsaWNrJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgncG9wb3ZlclBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyB0aXRsZTogJ0AnLCBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVyJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCggJ3BvcG92ZXInLCAncG9wb3ZlcicsICdjbGljaycgKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wcm9ncmVzc2JhcicsIFtdKVxuXG4uY29uc3RhbnQoJ3Byb2dyZXNzQ29uZmlnJywge1xuICBhbmltYXRlOiB0cnVlLFxuICBtYXg6IDEwMFxufSlcblxuLnZhbHVlKCckcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcnLCBmYWxzZSlcblxuLmNvbnRyb2xsZXIoJ1Byb2dyZXNzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdwcm9ncmVzc0NvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCBwcm9ncmVzc0NvbmZpZykge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBhbmltYXRlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmFuaW1hdGUpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFuaW1hdGUpIDogcHJvZ3Jlc3NDb25maWcuYW5pbWF0ZTtcblxuICB0aGlzLmJhcnMgPSBbXTtcbiAgJHNjb3BlLm1heCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRzY29wZS5tYXgpID8gJHNjb3BlLm1heCA6IHByb2dyZXNzQ29uZmlnLm1heDtcblxuICB0aGlzLmFkZEJhciA9IGZ1bmN0aW9uKGJhciwgZWxlbWVudCkge1xuICAgIGlmICghYW5pbWF0ZSkge1xuICAgICAgZWxlbWVudC5jc3Moeyd0cmFuc2l0aW9uJzogJ25vbmUnfSk7XG4gICAgfVxuXG4gICAgdGhpcy5iYXJzLnB1c2goYmFyKTtcblxuICAgIGJhci5tYXggPSAkc2NvcGUubWF4O1xuXG4gICAgYmFyLiR3YXRjaCgndmFsdWUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgYmFyLnJlY2FsY3VsYXRlUGVyY2VudGFnZSgpO1xuICAgIH0pO1xuXG4gICAgYmFyLnJlY2FsY3VsYXRlUGVyY2VudGFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgYmFyLnBlcmNlbnQgPSArKDEwMCAqIGJhci52YWx1ZSAvIGJhci5tYXgpLnRvRml4ZWQoMik7XG5cbiAgICAgIHZhciB0b3RhbFBlcmNlbnRhZ2UgPSBzZWxmLmJhcnMucmVkdWNlKGZ1bmN0aW9uKHRvdGFsLCBiYXIpIHtcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgYmFyLnBlcmNlbnQ7XG4gICAgICB9LCAwKTtcblxuICAgICAgaWYgKHRvdGFsUGVyY2VudGFnZSA+IDEwMCkge1xuICAgICAgICBiYXIucGVyY2VudCAtPSB0b3RhbFBlcmNlbnRhZ2UgLSAxMDA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGJhci4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgIHNlbGYucmVtb3ZlQmFyKGJhcik7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5yZW1vdmVCYXIgPSBmdW5jdGlvbihiYXIpIHtcbiAgICAgIHRoaXMuYmFycy5zcGxpY2UodGhpcy5iYXJzLmluZGV4T2YoYmFyKSwgMSk7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnbWF4JywgZnVuY3Rpb24obWF4KSB7XG4gICAgc2VsZi5iYXJzLmZvckVhY2goZnVuY3Rpb24oYmFyKSB7XG4gICAgICBiYXIubWF4ID0gJHNjb3BlLm1heDtcbiAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcbiAgICB9KTtcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgndWliUHJvZ3Jlc3MnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgcmVxdWlyZTogJ3VpYlByb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgbWF4OiAnPT8nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzcycsIFsnJGxvZycsICckcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcnLCBmdW5jdGlvbigkbG9nLCAkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgcmVxdWlyZTogJ3Byb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgbWF4OiAnPT8nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xuICAgICAgICAkbG9nLndhcm4oJ3Byb2dyZXNzIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXByb2dyZXNzIGluc3RlYWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndWliQmFyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcXVpcmU6ICdedWliUHJvZ3Jlc3MnLFxuICAgIHNjb3BlOiB7XG4gICAgICB2YWx1ZTogJz0nLFxuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xuICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgZWxlbWVudCk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnYmFyJywgWyckbG9nJywgJyRwcm9ncmVzc1N1cHByZXNzV2FybmluZycsIGZ1bmN0aW9uKCRsb2csICRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXF1aXJlOiAnXnByb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgdmFsdWU6ICc9JyxcbiAgICAgIHR5cGU6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgIGlmICgkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgICAgICAgJGxvZy53YXJuKCdiYXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItYmFyIGluc3RlYWQnKTtcbiAgICAgIH1cbiAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzc2JhcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICBzY29wZToge1xuICAgICAgdmFsdWU6ICc9JyxcbiAgICAgIG1heDogJz0/JyxcbiAgICAgIHR5cGU6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xuICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuY2hpbGRyZW4oKVswXSkpO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnJhdGluZycsIFtdKVxuXG4uY29uc3RhbnQoJ3JhdGluZ0NvbmZpZycsIHtcbiAgbWF4OiA1LFxuICBzdGF0ZU9uOiBudWxsLFxuICBzdGF0ZU9mZjogbnVsbCxcbiAgdGl0bGVzIDogWydvbmUnLCAndHdvJywgJ3RocmVlJywgJ2ZvdXInLCAnZml2ZSddXG59KVxuXG4uY29udHJvbGxlcignUmF0aW5nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdyYXRpbmdDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcmF0aW5nQ29uZmlnKSB7XG4gIHZhciBuZ01vZGVsQ3RybCAgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA8PCAwICE9PSB2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdGF0ZU9uID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT24pID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT24pIDogcmF0aW5nQ29uZmlnLnN0YXRlT247XG4gICAgdGhpcy5zdGF0ZU9mZiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9mZikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPZmYpIDogcmF0aW5nQ29uZmlnLnN0YXRlT2ZmO1xuICAgIHZhciB0bXBUaXRsZXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMudGl0bGVzKSAgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMudGl0bGVzKSA6IHJhdGluZ0NvbmZpZy50aXRsZXMgOyAgICBcbiAgICB0aGlzLnRpdGxlcyA9IGFuZ3VsYXIuaXNBcnJheSh0bXBUaXRsZXMpICYmIHRtcFRpdGxlcy5sZW5ndGggPiAwID9cbiAgICAgIHRtcFRpdGxlcyA6IHJhdGluZ0NvbmZpZy50aXRsZXM7XG4gICAgXG4gICAgdmFyIHJhdGluZ1N0YXRlcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yYXRpbmdTdGF0ZXMpID9cbiAgICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yYXRpbmdTdGF0ZXMpIDpcbiAgICAgIG5ldyBBcnJheShhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpIDogcmF0aW5nQ29uZmlnLm1heCk7XG4gICAgJHNjb3BlLnJhbmdlID0gdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpO1xuICB9O1xuXG4gIHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMgPSBmdW5jdGlvbihzdGF0ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHN0YXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHN0YXRlc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKHsgaW5kZXg6IGkgfSwgeyBzdGF0ZU9uOiB0aGlzLnN0YXRlT24sIHN0YXRlT2ZmOiB0aGlzLnN0YXRlT2ZmLCB0aXRsZTogdGhpcy5nZXRUaXRsZShpKSB9LCBzdGF0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGVzO1xuICB9O1xuICBcbiAgdGhpcy5nZXRUaXRsZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID49IHRoaXMudGl0bGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMudGl0bGVzW2luZGV4XTtcbiAgICB9XG4gIH07XG4gIFxuICAkc2NvcGUucmF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCEkc2NvcGUucmVhZG9ubHkgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAkc2NvcGUucmFuZ2UubGVuZ3RoKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPT09IHZhbHVlID8gMCA6IHZhbHVlKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmVudGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoISRzY29wZS5yZWFkb25seSkge1xuICAgICAgJHNjb3BlLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgICRzY29wZS5vbkhvdmVyKHt2YWx1ZTogdmFsdWV9KTtcbiAgfTtcblxuICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICAgICRzY29wZS5vbkxlYXZlKCk7XG4gIH07XG5cbiAgJHNjb3BlLm9uS2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmICgvKDM3fDM4fDM5fDQwKS8udGVzdChldnQud2hpY2gpKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICRzY29wZS5yYXRlKCRzY29wZS52YWx1ZSArIChldnQud2hpY2ggPT09IDM4IHx8IGV2dC53aGljaCA9PT0gMzkgPyAxIDogLTEpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3JhdGluZycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6IFsncmF0aW5nJywgJ25nTW9kZWwnXSxcbiAgICBzY29wZToge1xuICAgICAgcmVhZG9ubHk6ICc9PycsXG4gICAgICBvbkhvdmVyOiAnJicsXG4gICAgICBvbkxlYXZlOiAnJidcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdSYXRpbmdDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCcsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgcmF0aW5nQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgcmF0aW5nQ3RybC5pbml0KCBuZ01vZGVsQ3RybCApO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFic1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQW5ndWxhckpTIHZlcnNpb24gb2YgdGhlIHRhYnMgZGlyZWN0aXZlLlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudGFicycsIFtdKVxuXG4uY29udHJvbGxlcignVGFic2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24gVGFic2V0Q3RybCgkc2NvcGUpIHtcbiAgdmFyIGN0cmwgPSB0aGlzLFxuICAgICAgdGFicyA9IGN0cmwudGFicyA9ICRzY29wZS50YWJzID0gW107XG5cbiAgY3RybC5zZWxlY3QgPSBmdW5jdGlvbihzZWxlY3RlZFRhYikge1xuICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJzLCBmdW5jdGlvbih0YWIpIHtcbiAgICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYiAhPT0gc2VsZWN0ZWRUYWIpIHtcbiAgICAgICAgdGFiLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0YWIub25EZXNlbGVjdCgpO1xuICAgICAgICBzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxlY3RlZFRhYi5hY3RpdmUgPSB0cnVlO1xuICAgIC8vIG9ubHkgY2FsbCBzZWxlY3QgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2FsbGVkXG4gICAgaWYgKCFzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQpIHtcbiAgICAgIHNlbGVjdGVkVGFiLm9uU2VsZWN0KCk7XG4gICAgICBzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBjdHJsLmFkZFRhYiA9IGZ1bmN0aW9uIGFkZFRhYih0YWIpIHtcbiAgICB0YWJzLnB1c2godGFiKTtcbiAgICAvLyB3ZSBjYW4ndCBydW4gdGhlIHNlbGVjdCBmdW5jdGlvbiBvbiB0aGUgZmlyc3QgdGFiXG4gICAgLy8gc2luY2UgdGhhdCB3b3VsZCBzZWxlY3QgaXQgdHdpY2VcbiAgICBpZiAodGFicy5sZW5ndGggPT09IDEgJiYgdGFiLmFjdGl2ZSAhPT0gZmFsc2UpIHtcbiAgICAgIHRhYi5hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGFiLmFjdGl2ZSkge1xuICAgICAgY3RybC5zZWxlY3QodGFiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFiLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBjdHJsLnJlbW92ZVRhYiA9IGZ1bmN0aW9uIHJlbW92ZVRhYih0YWIpIHtcbiAgICB2YXIgaW5kZXggPSB0YWJzLmluZGV4T2YodGFiKTtcbiAgICAvL1NlbGVjdCBhIG5ldyB0YWIgaWYgdGhlIHRhYiB0byBiZSByZW1vdmVkIGlzIHNlbGVjdGVkIGFuZCBub3QgZGVzdHJveWVkXG4gICAgaWYgKHRhYi5hY3RpdmUgJiYgdGFicy5sZW5ndGggPiAxICYmICFkZXN0cm95ZWQpIHtcbiAgICAgIC8vSWYgdGhpcyBpcyB0aGUgbGFzdCB0YWIsIHNlbGVjdCB0aGUgcHJldmlvdXMgdGFiLiBlbHNlLCB0aGUgbmV4dCB0YWIuXG4gICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBpbmRleCA9PSB0YWJzLmxlbmd0aCAtIDEgPyBpbmRleCAtIDEgOiBpbmRleCArIDE7XG4gICAgICBjdHJsLnNlbGVjdCh0YWJzW25ld0FjdGl2ZUluZGV4XSk7XG4gICAgfVxuICAgIHRhYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcblxuICB2YXIgZGVzdHJveWVkO1xuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gIH0pO1xufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldFxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUYWJzZXQgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgdGhlIHRhYnMgZGlyZWN0aXZlXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gdmVydGljYWwgV2hldGhlciBvciBub3QgdG8gdXNlIHZlcnRpY2FsIHN0eWxpbmcgZm9yIHRoZSB0YWJzLlxuICogQHBhcmFtIHtib29sZWFuPX0ganVzdGlmaWVkIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBqdXN0aWZpZWQgc3R5bGluZyBmb3IgdGhlIHRhYnMuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDx0YWJzZXQ+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPjxiPkZpcnN0PC9iPiBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDJcIj48aT5TZWNvbmQ8L2k+IENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gICAgPGhyIC8+XG4gICAgPHRhYnNldCB2ZXJ0aWNhbD1cInRydWVcIj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlZlcnRpY2FsIFRhYiAxXCI+PGI+Rmlyc3Q8L2I+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMlwiPjxpPlNlY29uZDwvaT4gVmVydGljYWwgQ29udGVudCE8L3RhYj5cbiAgICA8L3RhYnNldD5cbiAgICA8dGFic2V0IGp1c3RpZmllZD1cInRydWVcIj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIkp1c3RpZmllZCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBKdXN0aWZpZWQgQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIkp1c3RpZmllZCBUYWIgMlwiPjxpPlNlY29uZDwvaT4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndGFic2V0JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdUYWJzZXRDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgc2NvcGUudmVydGljYWwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy52ZXJ0aWNhbCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnZlcnRpY2FsKSA6IGZhbHNlO1xuICAgICAgc2NvcGUuanVzdGlmaWVkID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuanVzdGlmaWVkKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuanVzdGlmaWVkKSA6IGZhbHNlO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYlxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBoZWFkaW5nIFRoZSB2aXNpYmxlIGhlYWRpbmcsIG9yIHRpdGxlLCBvZiB0aGUgdGFiLiBTZXQgSFRNTCBoZWFkaW5ncyB3aXRoIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZyB0YWJIZWFkaW5nfS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gc2VsZWN0IEFuIGV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiB0aGUgdGFiIGlzIHNlbGVjdGVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGRpc2FibGVkIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBkaXNhYmxlZC5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSB0YWIgd2l0aCBhIGhlYWRpbmcgYW5kIGNvbnRlbnQuIE11c3QgYmUgcGxhY2VkIHdpdGhpbiBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFic2V0IHRhYnNldH0uXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRhYnNEZW1vQ3RybFwiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc21hbGxcIiBuZy1jbGljaz1cIml0ZW1zWzBdLmFjdGl2ZSA9IHRydWVcIj5cbiAgICAgICAgU2VsZWN0IGl0ZW0gMSwgdXNpbmcgYWN0aXZlIGJpbmRpbmdcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc21hbGxcIiBuZy1jbGljaz1cIml0ZW1zWzFdLmRpc2FibGVkID0gIWl0ZW1zWzFdLmRpc2FibGVkXCI+XG4gICAgICAgIEVuYWJsZS9kaXNhYmxlIGl0ZW0gMiwgdXNpbmcgZGlzYWJsZWQgYmluZGluZ1xuICAgICAgPC9idXR0b24+XG4gICAgICA8YnIgLz5cbiAgICAgIDx0YWJzZXQ+XG4gICAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAxXCI+Rmlyc3QgVGFiPC90YWI+XG4gICAgICAgIDx0YWIgc2VsZWN0PVwiYWxlcnRNZSgpXCI+XG4gICAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPVwiaWNvbi1iZWxsXCI+PC9pPiBBbGVydCBtZSE8L3RhYi1oZWFkaW5nPlxuICAgICAgICAgIFNlY29uZCBUYWIsIHdpdGggYWxlcnQgY2FsbGJhY2sgYW5kIGh0bWwgaGVhZGluZyFcbiAgICAgICAgPC90YWI+XG4gICAgICAgIDx0YWIgbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtc1wiXG4gICAgICAgICAgaGVhZGluZz1cInt7aXRlbS50aXRsZX19XCJcbiAgICAgICAgICBkaXNhYmxlZD1cIml0ZW0uZGlzYWJsZWRcIlxuICAgICAgICAgIGFjdGl2ZT1cIml0ZW0uYWN0aXZlXCI+XG4gICAgICAgICAge3tpdGVtLmNvbnRlbnR9fVxuICAgICAgICA8L3RhYj5cbiAgICAgIDwvdGFic2V0PlxuICAgIDwvZGl2PlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICBmdW5jdGlvbiBUYWJzRGVtb0N0cmwoJHNjb3BlKSB7XG4gICAgICAkc2NvcGUuaXRlbXMgPSBbXG4gICAgICAgIHsgdGl0bGU6XCJEeW5hbWljIFRpdGxlIDFcIiwgY29udGVudDpcIkR5bmFtaWMgSXRlbSAwXCIgfSxcbiAgICAgICAgeyB0aXRsZTpcIkR5bmFtaWMgVGl0bGUgMlwiLCBjb250ZW50OlwiRHluYW1pYyBJdGVtIDFcIiwgZGlzYWJsZWQ6IHRydWUgfVxuICAgICAgXTtcblxuICAgICAgJHNjb3BlLmFsZXJ0TWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBhbGVydChcIllvdSd2ZSBzZWxlY3RlZCB0aGUgYWxlcnQgdGFiIVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJIZWFkaW5nXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYW4gSFRNTCBoZWFkaW5nIGZvciBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiIHRhYn0uIE11c3QgYmUgcGxhY2VkIGFzIGEgY2hpbGQgb2YgYSB0YWIgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPHRhYnNldD5cbiAgICAgIDx0YWI+XG4gICAgICAgIDx0YWItaGVhZGluZz48Yj5IVE1MPC9iPiBpbiBteSB0aXRsZXM/ITwvdGFiLWhlYWRpbmc+XG4gICAgICAgIEFuZCBzb21lIGNvbnRlbnQsIHRvbyFcbiAgICAgIDwvdGFiPlxuICAgICAgPHRhYj5cbiAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPVwiaWNvbi1oZWFydFwiPjwvaT4gSWNvbiBoZWFkaW5nPyE/PC90YWItaGVhZGluZz5cbiAgICAgICAgVGhhdCdzIHJpZ2h0LlxuICAgICAgPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndGFiJywgWyckcGFyc2UnLCAnJGxvZycsIGZ1bmN0aW9uKCRwYXJzZSwgJGxvZykge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdedGFic2V0JyxcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdGFicy90YWIuaHRtbCcsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgYWN0aXZlOiAnPT8nLFxuICAgICAgaGVhZGluZzogJ0AnLFxuICAgICAgb25TZWxlY3Q6ICcmc2VsZWN0JywgLy9UaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBpbiBjb250ZW50SGVhZGluZ1RyYW5zY2x1ZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmNlIGl0IGluc2VydHMgdGhlIHRhYidzIGNvbnRlbnQgaW50byB0aGUgZG9tXG4gICAgICBvbkRlc2VsZWN0OiAnJmRlc2VsZWN0J1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAvL0VtcHR5IGNvbnRyb2xsZXIgc28gb3RoZXIgZGlyZWN0aXZlcyBjYW4gcmVxdWlyZSBiZWluZyAndW5kZXInIGEgdGFiXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycywgdGFic2V0Q3RybCwgdHJhbnNjbHVkZSkge1xuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIHRhYnNldEN0cmwuc2VsZWN0KHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoYXR0cnMuZGlzYWJsZSkge1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSAhISB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIERlcHJlY2F0aW9uIHN1cHBvcnQgb2YgXCJkaXNhYmxlZFwiIHBhcmFtZXRlclxuICAgICAgLy8gZml4KHRhYik6IElFOSBkaXNhYmxlZCBhdHRyIHJlbmRlcnMgZ3JleSB0ZXh0IG9uIGVuYWJsZWQgdGFiICMyNjc3XG4gICAgICAvLyBUaGlzIGNvZGUgaXMgZHVwbGljYXRlZCBmcm9tIHRoZSBsaW5lcyBhYm92ZSB0byBtYWtlIGl0IGVhc3kgdG8gcmVtb3ZlIG9uY2VcbiAgICAgIC8vIHRoZSBmZWF0dXJlIGhhcyBiZWVuIGNvbXBsZXRlbHkgZGVwcmVjYXRlZFxuICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICRsb2cud2FybignVXNlIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBcImRpc2FibGVcIicpO1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZWQpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFzY29wZS5kaXNhYmxlZCkge1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRhYnNldEN0cmwuYWRkVGFiKHNjb3BlKTtcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdGFic2V0Q3RybC5yZW1vdmVUYWIoc2NvcGUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vV2UgbmVlZCB0byB0cmFuc2NsdWRlIGxhdGVyLCBvbmNlIHRoZSBjb250ZW50IGNvbnRhaW5lciBpcyByZWFkeS5cbiAgICAgIC8vd2hlbiB0aGlzIGxpbmsgaGFwcGVucywgd2UncmUgaW5zaWRlIGEgdGFiIGhlYWRpbmcuXG4gICAgICBzY29wZS4kdHJhbnNjbHVkZUZuID0gdHJhbnNjbHVkZTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndGFiSGVhZGluZ1RyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdedGFiJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycywgdGFiQ3RybCkge1xuICAgICAgc2NvcGUuJHdhdGNoKCdoZWFkaW5nRWxlbWVudCcsIGZ1bmN0aW9uIHVwZGF0ZUhlYWRpbmdFbGVtZW50KGhlYWRpbmcpIHtcbiAgICAgICAgaWYgKGhlYWRpbmcpIHtcbiAgICAgICAgICBlbG0uaHRtbCgnJyk7XG4gICAgICAgICAgZWxtLmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndGFiQ29udGVudFRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdedGFic2V0JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycykge1xuICAgICAgdmFyIHRhYiA9IHNjb3BlLiRldmFsKGF0dHJzLnRhYkNvbnRlbnRUcmFuc2NsdWRlKTtcblxuICAgICAgLy9Ob3cgb3VyIHRhYiBpcyByZWFkeSB0byBiZSB0cmFuc2NsdWRlZDogYm90aCB0aGUgdGFiIGhlYWRpbmcgYXJlYVxuICAgICAgLy9hbmQgdGhlIHRhYiBjb250ZW50IGFyZWEgYXJlIGxvYWRlZC4gIFRyYW5zY2x1ZGUgJ2VtIGJvdGguXG4gICAgICB0YWIuJHRyYW5zY2x1ZGVGbih0YWIuJHBhcmVudCwgZnVuY3Rpb24oY29udGVudHMpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNvbnRlbnRzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgaWYgKGlzVGFiSGVhZGluZyhub2RlKSkge1xuICAgICAgICAgICAgLy9MZXQgdGFiSGVhZGluZ1RyYW5zY2x1ZGUga25vdy5cbiAgICAgICAgICAgIHRhYi5oZWFkaW5nRWxlbWVudCA9IG5vZGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsbS5hcHBlbmQobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBpc1RhYkhlYWRpbmcobm9kZSkge1xuICAgIHJldHVybiBub2RlLnRhZ05hbWUgJiYgKFxuICAgICAgbm9kZS5oYXNBdHRyaWJ1dGUoJ3RhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCdkYXRhLXRhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd4LXRhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGFiLWhlYWRpbmcnIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2RhdGEtdGFiLWhlYWRpbmcnIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3gtdGFiLWhlYWRpbmcnXG4gICAgKTtcbiAgfVxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudGltZXBpY2tlcicsIFtdKVxuXG4uY29uc3RhbnQoJ3RpbWVwaWNrZXJDb25maWcnLCB7XG4gIGhvdXJTdGVwOiAxLFxuICBtaW51dGVTdGVwOiAxLFxuICBzaG93TWVyaWRpYW46IHRydWUsXG4gIG1lcmlkaWFuczogbnVsbCxcbiAgcmVhZG9ubHlJbnB1dDogZmFsc2UsXG4gIG1vdXNld2hlZWw6IHRydWUsXG4gIGFycm93a2V5czogdHJ1ZSxcbiAgc2hvd1NwaW5uZXJzOiB0cnVlXG59KVxuXG4uY29udHJvbGxlcignVGltZXBpY2tlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJyRsb2cnLCAnJGxvY2FsZScsICd0aW1lcGlja2VyQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgJGxvZywgJGxvY2FsZSwgdGltZXBpY2tlckNvbmZpZykge1xuICB2YXIgc2VsZWN0ZWQgPSBuZXcgRGF0ZSgpLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXG4gICAgICBtZXJpZGlhbnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWVyaWRpYW5zKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tZXJpZGlhbnMpIDogdGltZXBpY2tlckNvbmZpZy5tZXJpZGlhbnMgfHwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkFNUE1TO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXywgaW5wdXRzKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyO1xuXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICByZXR1cm4gbW9kZWxWYWx1ZSA/IG5ldyBEYXRlKG1vZGVsVmFsdWUpIDogbnVsbDtcbiAgICB9KTtcblxuICAgIHZhciBob3Vyc0lucHV0RWwgPSBpbnB1dHMuZXEoMCksXG4gICAgICAgIG1pbnV0ZXNJbnB1dEVsID0gaW5wdXRzLmVxKDEpO1xuXG4gICAgdmFyIG1vdXNld2hlZWwgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubW91c2V3aGVlbCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubW91c2V3aGVlbCkgOiB0aW1lcGlja2VyQ29uZmlnLm1vdXNld2hlZWw7XG4gICAgaWYgKG1vdXNld2hlZWwpIHtcbiAgICAgIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpO1xuICAgIH1cblxuICAgIHZhciBhcnJvd2tleXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYXJyb3drZXlzKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5hcnJvd2tleXMpIDogdGltZXBpY2tlckNvbmZpZy5hcnJvd2tleXM7XG4gICAgaWYgKGFycm93a2V5cykge1xuICAgICAgdGhpcy5zZXR1cEFycm93a2V5RXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpO1xuICAgIH1cblxuICAgICRzY29wZS5yZWFkb25seUlucHV0ID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJlYWRvbmx5SW5wdXQpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJlYWRvbmx5SW5wdXQpIDogdGltZXBpY2tlckNvbmZpZy5yZWFkb25seUlucHV0O1xuICAgIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKTtcbiAgfTtcblxuICB2YXIgaG91clN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwO1xuICBpZiAoJGF0dHJzLmhvdXJTdGVwKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaG91clN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaG91clN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1pbnV0ZVN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLm1pbnV0ZVN0ZXA7XG4gIGlmICgkYXR0cnMubWludXRlU3RlcCkge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgbWludXRlU3RlcCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWluO1xuICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5taW4pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICBtaW4gPSBpc05hTihkdCkgPyB1bmRlZmluZWQgOiBkdDtcbiAgfSk7XG5cbiAgdmFyIG1heDtcbiAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWF4KSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgbWF4ID0gaXNOYU4oZHQpID8gdW5kZWZpbmVkIDogZHQ7XG4gIH0pO1xuXG4gICRzY29wZS5ub0luY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCBob3VyU3RlcCAqIDYwKTtcbiAgICByZXR1cm4gaW5jcmVtZW50ZWRTZWxlY3RlZCA+IG1heCB8fFxuICAgICAgKGluY3JlbWVudGVkU2VsZWN0ZWQgPCBzZWxlY3RlZCAmJiBpbmNyZW1lbnRlZFNlbGVjdGVkIDwgbWluKTtcbiAgfTtcblxuICAkc2NvcGUubm9EZWNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgLWhvdXJTdGVwICogNjApO1xuICAgIHJldHVybiBkZWNyZW1lbnRlZFNlbGVjdGVkIDwgbWluIHx8XG4gICAgICAoZGVjcmVtZW50ZWRTZWxlY3RlZCA+IHNlbGVjdGVkICYmIGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBtYXgpO1xuICB9O1xuXG4gICRzY29wZS5ub0luY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5jcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIG1pbnV0ZVN0ZXApO1xuICAgIHJldHVybiBpbmNyZW1lbnRlZFNlbGVjdGVkID4gbWF4IHx8XG4gICAgICAoaW5jcmVtZW50ZWRTZWxlY3RlZCA8IHNlbGVjdGVkICYmIGluY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW4pO1xuICB9O1xuXG4gICRzY29wZS5ub0RlY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGVjcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC1taW51dGVTdGVwKTtcbiAgICByZXR1cm4gZGVjcmVtZW50ZWRTZWxlY3RlZCA8IG1pbiB8fFxuICAgICAgKGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBzZWxlY3RlZCAmJiBkZWNyZW1lbnRlZFNlbGVjdGVkID4gbWF4KTtcbiAgfTtcblxuICAkc2NvcGUubm9Ub2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxlY3RlZC5nZXRIb3VycygpIDwgMTMpIHtcbiAgICAgIHJldHVybiBhZGRNaW51dGVzKHNlbGVjdGVkLCAxMiAqIDYwKSA+IG1heDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC0xMiAqIDYwKSA8IG1pbjtcbiAgICB9XG4gIH07XG5cbiAgLy8gMTJIIC8gMjRIIG1vZGVcbiAgJHNjb3BlLnNob3dNZXJpZGlhbiA9IHRpbWVwaWNrZXJDb25maWcuc2hvd01lcmlkaWFuO1xuICBpZiAoJGF0dHJzLnNob3dNZXJpZGlhbikge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLnNob3dNZXJpZGlhbiksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAkc2NvcGUuc2hvd01lcmlkaWFuID0gISF2YWx1ZTtcblxuICAgICAgaWYgKG5nTW9kZWxDdHJsLiRlcnJvci50aW1lKSB7XG4gICAgICAgIC8vIEV2YWx1YXRlIGZyb20gdGVtcGxhdGVcbiAgICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSwgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSkge1xuICAgICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKTtcbiAgICAgICAgICByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBHZXQgJHNjb3BlLmhvdXJzIGluIDI0SCBtb2RlIGlmIHZhbGlkXG4gIGZ1bmN0aW9uIGdldEhvdXJzRnJvbVRlbXBsYXRlKCkge1xuICAgIHZhciBob3VycyA9IHBhcnNlSW50KCRzY29wZS5ob3VycywgMTApO1xuICAgIHZhciB2YWxpZCA9ICRzY29wZS5zaG93TWVyaWRpYW4gPyAoaG91cnMgPiAwICYmIGhvdXJzIDwgMTMpIDogKGhvdXJzID49IDAgJiYgaG91cnMgPCAyNCk7XG4gICAgaWYgKCF2YWxpZCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoJHNjb3BlLnNob3dNZXJpZGlhbikge1xuICAgICAgaWYgKGhvdXJzID09PSAxMikge1xuICAgICAgICBob3VycyA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoJHNjb3BlLm1lcmlkaWFuID09PSBtZXJpZGlhbnNbMV0pIHtcbiAgICAgICAgaG91cnMgPSBob3VycyArIDEyO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaG91cnM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCkge1xuICAgIHZhciBtaW51dGVzID0gcGFyc2VJbnQoJHNjb3BlLm1pbnV0ZXMsIDEwKTtcbiAgICByZXR1cm4gKG1pbnV0ZXMgPj0gMCAmJiBtaW51dGVzIDwgNjApID8gbWludXRlcyA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhZCh2YWx1ZSkge1xuICAgIHJldHVybiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmIHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoIDwgMikgPyAnMCcgKyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cblxuICAvLyBSZXNwb25kIG9uIG1vdXNld2hlZWwgc3BpblxuICB0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cyA9IGZ1bmN0aW9uKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpIHtcbiAgICB2YXIgaXNTY3JvbGxpbmdVcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgICAgIH1cbiAgICAgIC8vcGljayBjb3JyZWN0IGRlbHRhIHZhcmlhYmxlIGRlcGVuZGluZyBvbiBldmVudFxuICAgICAgdmFyIGRlbHRhID0gKGUud2hlZWxEZWx0YSkgPyBlLndoZWVsRGVsdGEgOiAtZS5kZWx0YVk7XG4gICAgICByZXR1cm4gKGUuZGV0YWlsIHx8IGRlbHRhID4gMCk7XG4gICAgfTtcblxuICAgIGhvdXJzSW5wdXRFbC5iaW5kKCdtb3VzZXdoZWVsIHdoZWVsJywgZnVuY3Rpb24oZSkge1xuICAgICAgJHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpID8gJHNjb3BlLmluY3JlbWVudEhvdXJzKCkgOiAkc2NvcGUuZGVjcmVtZW50SG91cnMoKSk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdtb3VzZXdoZWVsIHdoZWVsJywgZnVuY3Rpb24oZSkge1xuICAgICAgJHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpID8gJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKSA6ICRzY29wZS5kZWNyZW1lbnRNaW51dGVzKCkpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gIH07XG5cbiAgLy8gUmVzcG9uZCBvbiB1cC9kb3duIGFycm93a2V5c1xuICB0aGlzLnNldHVwQXJyb3drZXlFdmVudHMgPSBmdW5jdGlvbihob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKSB7XG4gICAgaG91cnNJbnB1dEVsLmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PT0gMzgpIHsgLy8gdXBcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuaW5jcmVtZW50SG91cnMoKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSA0MCkgeyAvLyBkb3duXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmRlY3JlbWVudEhvdXJzKCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PT0gMzgpIHsgLy8gdXBcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT09IDQwKSB7IC8vIGRvd25cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuZGVjcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zZXR1cElucHV0RXZlbnRzID0gZnVuY3Rpb24oaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCkge1xuICAgIGlmICgkc2NvcGUucmVhZG9ubHlJbnB1dCkge1xuICAgICAgJHNjb3BlLnVwZGF0ZUhvdXJzID0gYW5ndWxhci5ub29wO1xuICAgICAgJHNjb3BlLnVwZGF0ZU1pbnV0ZXMgPSBhbmd1bGFyLm5vb3A7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGludmFsaWRhdGUgPSBmdW5jdGlvbihpbnZhbGlkSG91cnMsIGludmFsaWRNaW51dGVzKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG51bGwpO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRIb3VycykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRIb3VycyA9IGludmFsaWRIb3VycztcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gaW52YWxpZE1pbnV0ZXM7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSxcbiAgICAgICAgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSkge1xuICAgICAgICBzZWxlY3RlZC5zZXRIb3Vycyhob3Vycyk7XG4gICAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xuICAgICAgICAgIGludmFsaWRhdGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVmcmVzaCgnaCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlKHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghJHNjb3BlLmludmFsaWRIb3VycyAmJiAkc2NvcGUuaG91cnMgPCAxMCkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5ob3VycyA9IHBhZCgkc2NvcGUuaG91cnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKSxcbiAgICAgICAgaG91cnMgPSBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpO1xuXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQobWludXRlcykgJiYgYW5ndWxhci5pc0RlZmluZWQoaG91cnMpKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldE1pbnV0ZXMobWludXRlcyk7XG4gICAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xuICAgICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZyZXNoKCdtJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghJHNjb3BlLmludmFsaWRNaW51dGVzICYmICRzY29wZS5taW51dGVzIDwgMTApIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUubWludXRlcyA9IHBhZCgkc2NvcGUubWludXRlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG5cbiAgICBpZiAoaXNOYU4oZGF0ZSkpIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcbiAgICAgICRsb2cuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiBcIm5nLW1vZGVsXCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGF0ZSkge1xuICAgICAgICBzZWxlY3RlZCA9IGRhdGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xuICAgICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XG4gICAgICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFrZVZhbGlkKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVUZW1wbGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDYWxsIGludGVybmFsbHkgd2hlbiB3ZSBrbm93IHRoYXQgbW9kZWwgaXMgdmFsaWQuXG4gIGZ1bmN0aW9uIHJlZnJlc2goa2V5Ym9hcmRDaGFuZ2UpIHtcbiAgICBtYWtlVmFsaWQoKTtcbiAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5ldyBEYXRlKHNlbGVjdGVkKSk7XG4gICAgdXBkYXRlVGVtcGxhdGUoa2V5Ym9hcmRDaGFuZ2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVZhbGlkKCkge1xuICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIHRydWUpO1xuICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBmYWxzZTtcbiAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKSB7XG4gICAgdmFyIGhvdXJzID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSwgbWludXRlcyA9IHNlbGVjdGVkLmdldE1pbnV0ZXMoKTtcblxuICAgIGlmICgkc2NvcGUuc2hvd01lcmlkaWFuKSB7XG4gICAgICBob3VycyA9IChob3VycyA9PT0gMCB8fCBob3VycyA9PT0gMTIpID8gMTIgOiBob3VycyAlIDEyOyAvLyBDb252ZXJ0IDI0IHRvIDEyIGhvdXIgc3lzdGVtXG4gICAgfVxuXG4gICAgJHNjb3BlLmhvdXJzID0ga2V5Ym9hcmRDaGFuZ2UgPT09ICdoJyA/IGhvdXJzIDogcGFkKGhvdXJzKTtcbiAgICBpZiAoa2V5Ym9hcmRDaGFuZ2UgIT09ICdtJykge1xuICAgICAgJHNjb3BlLm1pbnV0ZXMgPSBwYWQobWludXRlcyk7XG4gICAgfVxuICAgICRzY29wZS5tZXJpZGlhbiA9IHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IG1lcmlkaWFuc1swXSA6IG1lcmlkaWFuc1sxXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE1pbnV0ZXMoZGF0ZSwgbWludXRlcykge1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgbWludXRlcyAqIDYwMDAwKTtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIG5ld0RhdGUuc2V0SG91cnMoZHQuZ2V0SG91cnMoKSwgZHQuZ2V0TWludXRlcygpKTtcbiAgICByZXR1cm4gbmV3RGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKG1pbnV0ZXMpIHtcbiAgICBzZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIG1pbnV0ZXMpO1xuICAgIHJlZnJlc2goKTtcbiAgfVxuXG4gICRzY29wZS5zaG93U3Bpbm5lcnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc2hvd1NwaW5uZXJzKSA/XG4gICAgJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnNob3dTcGlubmVycykgOiB0aW1lcGlja2VyQ29uZmlnLnNob3dTcGlubmVycztcblxuICAkc2NvcGUuaW5jcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0luY3JlbWVudEhvdXJzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKGhvdXJTdGVwICogNjApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0RlY3JlbWVudEhvdXJzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKC1ob3VyU3RlcCAqIDYwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0luY3JlbWVudE1pbnV0ZXMoKSkge1xuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQobWludXRlU3RlcCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5kZWNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9EZWNyZW1lbnRNaW51dGVzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKC1taW51dGVTdGVwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZU1lcmlkaWFuID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9Ub2dnbGVNZXJpZGlhbigpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZCgxMiAqIDYwICogKHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IDEgOiAtMSkpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0aW1lcGlja2VyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogWyd0aW1lcGlja2VyJywgJz9ebmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6J1RpbWVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICd0aW1lcGlja2VyJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7fSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwnO1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHRpbWVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmIChuZ01vZGVsQ3RybCkge1xuICAgICAgICB0aW1lcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBlbGVtZW50LmZpbmQoJ2lucHV0JykpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nLCBbXSlcblxuLnZhbHVlKCckdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCcsIGZhbHNlKVxuLyoqXG4gKiAkdHJhbnNpdGlvbiBzZXJ2aWNlIHByb3ZpZGVzIGEgY29uc2lzdGVudCBpbnRlcmZhY2UgdG8gdHJpZ2dlciBDU1MgMyB0cmFuc2l0aW9ucyBhbmQgdG8gYmUgaW5mb3JtZWQgd2hlbiB0aGV5IGNvbXBsZXRlLlxuICogQHBhcmFtICB7RE9NRWxlbWVudH0gZWxlbWVudCAgVGhlIERPTUVsZW1lbnQgdGhhdCB3aWxsIGJlIGFuaW1hdGVkLlxuICogQHBhcmFtICB7c3RyaW5nfG9iamVjdHxmdW5jdGlvbn0gdHJpZ2dlciAgVGhlIHRoaW5nIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBzdGFydDpcbiAqICAgLSBBcyBhIHN0cmluZywgaXQgcmVwcmVzZW50cyB0aGUgY3NzIGNsYXNzIHRvIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50LlxuICogICAtIEFzIGFuIG9iamVjdCwgaXQgcmVwcmVzZW50cyBhIGhhc2ggb2Ygc3R5bGUgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICogICAtIEFzIGEgZnVuY3Rpb24sIGl0IHJlcHJlc2VudHMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgdGhhdCB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIG9jY3VyLlxuICogQHJldHVybiB7UHJvbWlzZX0gIEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHRyYW5zaXRpb24gZmluaXNoZXMuXG4gKi9cbi5mYWN0b3J5KCckdHJhbnNpdGlvbicsIFtcbiAgICAgICAgJyRxJywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCAnJGxvZycsICckdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCcsXG5mdW5jdGlvbigkcSAsICAkdGltZW91dCAsICAkcm9vdFNjb3BlICwgICRsb2cgLCAgJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQpIHtcblxuICBpZiAoISR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkKSB7XG4gICAgJGxvZy53YXJuKCckdHJhbnNpdGlvbiBpcyBub3cgZGVwcmVjYXRlZC4gVXNlICRhbmltYXRlIGZyb20gbmdBbmltYXRlIGluc3RlYWQuJyk7XG4gIH1cblxuICB2YXIgJHRyYW5zaXRpb24gPSBmdW5jdGlvbihlbGVtZW50LCB0cmlnZ2VyLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICB2YXIgZW5kRXZlbnROYW1lID0gJHRyYW5zaXRpb25bb3B0aW9ucy5hbmltYXRpb24gPyAnYW5pbWF0aW9uRW5kRXZlbnROYW1lJyA6ICd0cmFuc2l0aW9uRW5kRXZlbnROYW1lJ107XG5cbiAgICB2YXIgdHJhbnNpdGlvbkVuZEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChlbmRFdmVudE5hbWUpIHtcbiAgICAgIGVsZW1lbnQuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvLyBXcmFwIGluIGEgdGltZW91dCB0byBhbGxvdyB0aGUgYnJvd3NlciB0aW1lIHRvIHVwZGF0ZSB0aGUgRE9NIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBpcyB0byBvY2N1clxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCBhbmd1bGFyLmlzU3RyaW5nKHRyaWdnZXIpICkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHRyaWdnZXIpO1xuICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc0Z1bmN0aW9uKHRyaWdnZXIpICkge1xuICAgICAgICB0cmlnZ2VyKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc09iamVjdCh0cmlnZ2VyKSApIHtcbiAgICAgICAgZWxlbWVudC5jc3ModHJpZ2dlcik7XG4gICAgICB9XG4gICAgICAvL0lmIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0cmFuc2l0aW9ucywgaW5zdGFudGx5IHJlc29sdmVcbiAgICAgIGlmICggIWVuZEV2ZW50TmFtZSApIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFkZCBvdXIgY3VzdG9tIGNhbmNlbCBmdW5jdGlvbiB0byB0aGUgcHJvbWlzZSB0aGF0IGlzIHJldHVybmVkXG4gICAgLy8gV2UgY2FuIGNhbGwgdGhpcyBpZiB3ZSBhcmUgYWJvdXQgdG8gcnVuIGEgbmV3IHRyYW5zaXRpb24sIHdoaWNoIHdlIGtub3cgd2lsbCBwcmV2ZW50IHRoaXMgdHJhbnNpdGlvbiBmcm9tIGVuZGluZyxcbiAgICAvLyBpLmUuIGl0IHdpbGwgdGhlcmVmb3JlIG5ldmVyIHJhaXNlIGEgdHJhbnNpdGlvbkVuZCBldmVudCBmb3IgdGhhdCB0cmFuc2l0aW9uXG4gICAgZGVmZXJyZWQucHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICggZW5kRXZlbnROYW1lICkge1xuICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICAgIH1cbiAgICAgIGRlZmVycmVkLnJlamVjdCgnVHJhbnNpdGlvbiBjYW5jZWxsZWQnKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH07XG5cbiAgLy8gV29yayBvdXQgdGhlIG5hbWUgb2YgdGhlIHRyYW5zaXRpb25FbmQgZXZlbnRcbiAgdmFyIHRyYW5zRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyYW5zJyk7XG4gIHZhciB0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAnTW96VHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLFxuICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnXG4gIH07XG4gIHZhciBhbmltYXRpb25FbmRFdmVudE5hbWVzID0ge1xuICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAnYW5pbWF0aW9uZW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAnb0FuaW1hdGlvbkVuZCcsXG4gICAgJ3RyYW5zaXRpb24nOiAnYW5pbWF0aW9uZW5kJ1xuICB9O1xuICBmdW5jdGlvbiBmaW5kRW5kRXZlbnROYW1lKGVuZEV2ZW50TmFtZXMpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIGVuZEV2ZW50TmFtZXMpe1xuICAgICAgaWYgKHRyYW5zRWxlbWVudC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBlbmRFdmVudE5hbWVzW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAkdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lID0gZmluZEVuZEV2ZW50TmFtZSh0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyk7XG4gICR0cmFuc2l0aW9uLmFuaW1hdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUoYW5pbWF0aW9uRW5kRXZlbnROYW1lcyk7XG4gIHJldHVybiAkdHJhbnNpdGlvbjtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50eXBlYWhlYWQnLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4vKipcbiAqIEEgaGVscGVyIHNlcnZpY2UgdGhhdCBjYW4gcGFyc2UgdHlwZWFoZWFkJ3Mgc3ludGF4IChzdHJpbmcgcHJvdmlkZWQgYnkgdXNlcnMpXG4gKiBFeHRyYWN0ZWQgdG8gYSBzZXBhcmF0ZSBzZXJ2aWNlIGZvciBlYXNlIG9mIHVuaXQgdGVzdGluZ1xuICovXG4gIC5mYWN0b3J5KCd0eXBlYWhlYWRQYXJzZXInLCBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuXG4gIC8vICAgICAgICAgICAgICAgICAgICAgIDAwMDAwMTExMDAwMDAwMDAwMDAwMDIyMjAwMDAwMDAwMDAwMDAwMDAzMzMzMzMzMzMzMzMzMzMwMDAwMDAwMDAwMDQ0MDAwXG4gIHZhciBUWVBFQUhFQURfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XFxkXSopKVxccytpblxccysoW1xcc1xcU10rPykkLztcblxuICByZXR1cm4ge1xuICAgIHBhcnNlOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgdmFyIG1hdGNoID0gaW5wdXQubWF0Y2goVFlQRUFIRUFEX1JFR0VYUCk7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnRXhwZWN0ZWQgdHlwZWFoZWFkIHNwZWNpZmljYXRpb24gaW4gZm9ybSBvZiBcIl9tb2RlbFZhbHVlXyAoYXMgX2xhYmVsXyk/IGZvciBfaXRlbV8gaW4gX2NvbGxlY3Rpb25fXCInICtcbiAgICAgICAgICAgICcgYnV0IGdvdCBcIicgKyBpbnB1dCArICdcIi4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbU5hbWU6bWF0Y2hbM10sXG4gICAgICAgIHNvdXJjZTokcGFyc2UobWF0Y2hbNF0pLFxuICAgICAgICB2aWV3TWFwcGVyOiRwYXJzZShtYXRjaFsyXSB8fCBtYXRjaFsxXSksXG4gICAgICAgIG1vZGVsTWFwcGVyOiRwYXJzZShtYXRjaFsxXSlcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG5cbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJHEnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsICckcG9zaXRpb24nLCAndHlwZWFoZWFkUGFyc2VyJyxcbiAgICBmdW5jdGlvbigkY29tcGlsZSwgJHBhcnNlLCAkcSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHdpbmRvdywgJHJvb3RTY29wZSwgJHBvc2l0aW9uLCB0eXBlYWhlYWRQYXJzZXIpIHtcbiAgICB2YXIgSE9UX0tFWVMgPSBbOSwgMTMsIDI3LCAzOCwgNDBdO1xuICAgIHZhciBldmVudERlYm91bmNlVGltZSA9IDIwMDtcblxuICAgIHJldHVybiB7XG4gICAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9uZ01vZGVsT3B0aW9ucyddLFxuICAgICAgbGluazogZnVuY3Rpb24ob3JpZ2luYWxTY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAgIHZhciBtb2RlbEN0cmwgPSBjdHJsc1swXTtcbiAgICAgICAgdmFyIG5nTW9kZWxPcHRpb25zID0gY3RybHNbMV07XG4gICAgICAgIC8vU1VQUE9SVEVEIEFUVFJJQlVURVMgKE9QVElPTlMpXG5cbiAgICAgICAgLy9taW5pbWFsIG5vIG9mIGNoYXJhY3RlcnMgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGJlZm9yZSB0eXBlYWhlYWQga2lja3MtaW5cbiAgICAgICAgdmFyIG1pbkxlbmd0aCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkTWluTGVuZ3RoKTtcbiAgICAgICAgaWYgKCFtaW5MZW5ndGggJiYgbWluTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgbWluTGVuZ3RoID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vbWluaW1hbCB3YWl0IHRpbWUgYWZ0ZXIgbGFzdCBjaGFyYWN0ZXIgdHlwZWQgYmVmb3JlIHR5cGVhaGVhZCBraWNrcy1pblxuICAgICAgICB2YXIgd2FpdFRpbWUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFdhaXRNcykgfHwgMDtcblxuICAgICAgICAvL3Nob3VsZCBpdCByZXN0cmljdCBtb2RlbCB2YWx1ZXMgdG8gdGhlIG9uZXMgc2VsZWN0ZWQgZnJvbSB0aGUgcG9wdXAgb25seT9cbiAgICAgICAgdmFyIGlzRWRpdGFibGUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlKSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLy9iaW5kaW5nIHRvIGEgdmFyaWFibGUgdGhhdCBpbmRpY2F0ZXMgaWYgbWF0Y2hlcyBhcmUgYmVpbmcgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIHZhciBpc0xvYWRpbmdTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTG9hZGluZykuYXNzaWduIHx8IGFuZ3VsYXIubm9vcDtcblxuICAgICAgICAvL2EgY2FsbGJhY2sgZXhlY3V0ZWQgd2hlbiBhIG1hdGNoIGlzIHNlbGVjdGVkXG4gICAgICAgIHZhciBvblNlbGVjdENhbGxiYWNrID0gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZE9uU2VsZWN0KTtcblxuICAgICAgICAvL3Nob3VsZCBpdCBzZWxlY3QgaGlnaGxpZ2h0ZWQgcG9wdXAgdmFsdWUgd2hlbiBsb3NpbmcgZm9jdXM/XG4gICAgICAgIHZhciBpc1NlbGVjdE9uQmx1ciA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgOiBmYWxzZTtcblxuICAgICAgICAvL2JpbmRpbmcgdG8gYSB2YXJpYWJsZSB0aGF0IGluZGljYXRlcyBpZiB0aGVyZSB3ZXJlIG5vIHJlc3VsdHMgYWZ0ZXIgdGhlIHF1ZXJ5IGlzIGNvbXBsZXRlZFxuICAgICAgICB2YXIgaXNOb1Jlc3VsdHNTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTm9SZXN1bHRzKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAgIHZhciBpbnB1dEZvcm1hdHRlciA9IGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyID8gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gIGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KSA6IGZhbHNlO1xuXG4gICAgICAgIHZhciBmb2N1c0ZpcnN0ID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRGb2N1c0ZpcnN0KSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLy9JZiBpbnB1dCBtYXRjaGVzIGFuIGl0ZW0gb2YgdGhlIGxpc3QgZXhhY3RseSwgc2VsZWN0IGl0IGF1dG9tYXRpY2FsbHlcbiAgICAgICAgdmFyIHNlbGVjdE9uRXhhY3QgPSBhdHRycy50eXBlYWhlYWRTZWxlY3RPbkV4YWN0ID8gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRTZWxlY3RPbkV4YWN0KSA6IGZhbHNlO1xuXG4gICAgICAgIC8vSU5URVJOQUwgVkFSSUFCTEVTXG5cbiAgICAgICAgLy9tb2RlbCBzZXR0ZXIgZXhlY3V0ZWQgdXBvbiBtYXRjaCBzZWxlY3Rpb25cbiAgICAgICAgdmFyIHBhcnNlZE1vZGVsID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwpO1xuICAgICAgICB2YXIgaW52b2tlTW9kZWxTZXR0ZXIgPSAkcGFyc2UoYXR0cnMubmdNb2RlbCArICcoJCQkcCknKTtcbiAgICAgICAgdmFyICRzZXRNb2RlbFZhbHVlID0gZnVuY3Rpb24oc2NvcGUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihwYXJzZWRNb2RlbChvcmlnaW5hbFNjb3BlKSkgJiZcbiAgICAgICAgICAgIG5nTW9kZWxPcHRpb25zICYmIG5nTW9kZWxPcHRpb25zLiRvcHRpb25zICYmIG5nTW9kZWxPcHRpb25zLiRvcHRpb25zLmdldHRlclNldHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZU1vZGVsU2V0dGVyKHNjb3BlLCB7JCQkcDogbmV3VmFsdWV9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZE1vZGVsLmFzc2lnbihzY29wZSwgbmV3VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvL2V4cHJlc3Npb25zIHVzZWQgYnkgdHlwZWFoZWFkXG4gICAgICAgIHZhciBwYXJzZXJSZXN1bHQgPSB0eXBlYWhlYWRQYXJzZXIucGFyc2UoYXR0cnMudHlwZWFoZWFkKTtcblxuICAgICAgICB2YXIgaGFzRm9jdXM7XG5cbiAgICAgICAgLy9Vc2VkIHRvIGF2b2lkIGJ1ZyBpbiBpT1Mgd2VidmlldyB3aGVyZSBpT1Mga2V5Ym9hcmQgZG9lcyBub3QgZmlyZVxuICAgICAgICAvL21vdXNlZG93biAmIG1vdXNldXAgZXZlbnRzXG4gICAgICAgIC8vSXNzdWUgIzM2OTlcbiAgICAgICAgdmFyIHNlbGVjdGVkO1xuXG4gICAgICAgIC8vY3JlYXRlIGEgY2hpbGQgc2NvcGUgZm9yIHRoZSB0eXBlYWhlYWQgZGlyZWN0aXZlIHNvIHdlIGFyZSBub3QgcG9sbHV0aW5nIG9yaWdpbmFsIHNjb3BlXG4gICAgICAgIC8vd2l0aCB0eXBlYWhlYWQtc3BlY2lmaWMgZGF0YSAobWF0Y2hlcywgcXVlcnkgZXRjLilcbiAgICAgICAgdmFyIHNjb3BlID0gb3JpZ2luYWxTY29wZS4kbmV3KCk7XG4gICAgICAgIHZhciBvZmZEZXN0cm95ID0gb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBvZmZEZXN0cm95KTtcblxuICAgICAgICAvLyBXQUktQVJJQVxuICAgICAgICB2YXIgcG9wdXBJZCA9ICd0eXBlYWhlYWQtJyArIHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgICAgICAgZWxlbWVudC5hdHRyKHtcbiAgICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG4gICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSxcbiAgICAgICAgICAnYXJpYS1vd25zJzogcG9wdXBJZFxuICAgICAgICB9KTtcblxuICAgICAgICAvL3BvcC11cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBtYXRjaGVzXG4gICAgICAgIHZhciBwb3BVcEVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IHR5cGVhaGVhZC1wb3B1cD48L2Rpdj4nKTtcbiAgICAgICAgcG9wVXBFbC5hdHRyKHtcbiAgICAgICAgICBpZDogcG9wdXBJZCxcbiAgICAgICAgICBtYXRjaGVzOiAnbWF0Y2hlcycsXG4gICAgICAgICAgYWN0aXZlOiAnYWN0aXZlSWR4JyxcbiAgICAgICAgICBzZWxlY3Q6ICdzZWxlY3QoYWN0aXZlSWR4KScsXG4gICAgICAgICAgJ21vdmUtaW4tcHJvZ3Jlc3MnOiAnbW92ZUluUHJvZ3Jlc3MnLFxuICAgICAgICAgIHF1ZXJ5OiAncXVlcnknLFxuICAgICAgICAgIHBvc2l0aW9uOiAncG9zaXRpb24nXG4gICAgICAgIH0pO1xuICAgICAgICAvL2N1c3RvbSBpdGVtIHRlbXBsYXRlXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCkpIHtcbiAgICAgICAgICBwb3BVcEVsLmF0dHIoJ3RlbXBsYXRlLXVybCcsIGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRQb3B1cFRlbXBsYXRlVXJsKSkge1xuICAgICAgICAgIHBvcFVwRWwuYXR0cigncG9wdXAtdGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzZXRNYXRjaGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUubWF0Y2hlcyA9IFtdO1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IC0xO1xuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0TWF0Y2hJZCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHBvcHVwSWQgKyAnLW9wdGlvbi0nICsgaW5kZXg7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW5kaWNhdGUgdGhhdCB0aGUgc3BlY2lmaWVkIG1hdGNoIGlzIHRoZSBhY3RpdmUgKHByZS1zZWxlY3RlZCkgaXRlbSBpbiB0aGUgbGlzdCBvd25lZCBieSB0aGlzIHR5cGVhaGVhZC5cbiAgICAgICAgLy8gVGhpcyBhdHRyaWJ1dGUgaXMgYWRkZWQgb3IgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGBhY3RpdmVJZHhgIGNoYW5nZXMuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlSWR4JywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsIGdldE1hdGNoSWQoaW5kZXgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBpbnB1dElzRXhhY3RNYXRjaCA9IGZ1bmN0aW9uKGlucHV0VmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gaW5kZXggJiYgaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0VmFsdWUudG9VcHBlckNhc2UoKSA9PT0gc2NvcGUubWF0Y2hlc1tpbmRleF0ubGFiZWwudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldE1hdGNoZXNBc3luYyA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcbiAgICAgICAgICB2YXIgbG9jYWxzID0geyR2aWV3VmFsdWU6IGlucHV0VmFsdWV9O1xuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcbiAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgJHEud2hlbihwYXJzZXJSZXN1bHQuc291cmNlKG9yaWdpbmFsU2NvcGUsIGxvY2FscykpLnRoZW4oZnVuY3Rpb24obWF0Y2hlcykge1xuICAgICAgICAgICAgLy9pdCBtaWdodCBoYXBwZW4gdGhhdCBzZXZlcmFsIGFzeW5jIHF1ZXJpZXMgd2VyZSBpbiBwcm9ncmVzcyBpZiBhIHVzZXIgd2VyZSB0eXBpbmcgZmFzdFxuICAgICAgICAgICAgLy9idXQgd2UgYXJlIGludGVyZXN0ZWQgb25seSBpbiByZXNwb25zZXMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBjdXJyZW50IHZpZXcgdmFsdWVcbiAgICAgICAgICAgIHZhciBvbkN1cnJlbnRSZXF1ZXN0ID0gKGlucHV0VmFsdWUgPT09IG1vZGVsQ3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICAgIGlmIChvbkN1cnJlbnRSZXF1ZXN0ICYmIGhhc0ZvY3VzKSB7XG4gICAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gZm9jdXNGaXJzdCA/IDAgOiAtMTtcbiAgICAgICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgICAgLy90cmFuc2Zvcm0gbGFiZWxzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1hdGNoZXNbaV07XG4gICAgICAgICAgICAgICAgICBzY29wZS5tYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogZ2V0TWF0Y2hJZChpKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKHNjb3BlLCBsb2NhbHMpLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbDogbWF0Y2hlc1tpXVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUucXVlcnkgPSBpbnB1dFZhbHVlO1xuICAgICAgICAgICAgICAgIC8vcG9zaXRpb24gcG9wLXVwIHdpdGggbWF0Y2hlcyAtIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlIGl0cyBwb3NpdGlvbiBlYWNoIHRpbWUgd2UgYXJlIG9wZW5pbmcgYSB3aW5kb3dcbiAgICAgICAgICAgICAgICAvL3dpdGggbWF0Y2hlcyBhcyBhIHBvcC11cCBtaWdodCBiZSBhYnNvbHV0ZS1wb3NpdGlvbmVkIGFuZCBwb3NpdGlvbiBvZiBhbiBpbnB1dCBtaWdodCBoYXZlIGNoYW5nZWQgb24gYSBwYWdlXG4gICAgICAgICAgICAgICAgLy9kdWUgdG8gb3RoZXIgZWxlbWVudHMgYmVpbmcgcmVuZGVyZWRcbiAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vU2VsZWN0IHRoZSBzaW5nbGUgcmVtYWluaW5nIG9wdGlvbiBpZiB1c2VyIGlucHV0IG1hdGNoZXNcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0T25FeGFjdCAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCA9PT0gMSAmJiBpbnB1dElzRXhhY3RNYXRjaChpbnB1dFZhbHVlLCAwKSkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0KDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGJpbmQgZXZlbnRzIG9ubHkgaWYgYXBwZW5kVG9Cb2R5IHBhcmFtcyBleGlzdCAtIHBlcmZvcm1hbmNlIGZlYXR1cmVcbiAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdyZXNpemUnLCBmaXJlUmVjYWxjdWxhdGluZyk7XG4gICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5iaW5kKCdzY3JvbGwnLCBmaXJlUmVjYWxjdWxhdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWNsYXJlIHRoZSB0aW1lb3V0IHByb21pc2UgdmFyIG91dHNpZGUgdGhlIGZ1bmN0aW9uIHNjb3BlIHNvIHRoYXQgc3RhY2tlZCBjYWxscyBjYW4gYmUgY2FuY2VsbGVkIGxhdGVyXG4gICAgICAgIHZhciB0aW1lb3V0RXZlbnRQcm9taXNlO1xuXG4gICAgICAgIC8vIERlZmF1bHQgcHJvZ3Jlc3MgdHlwZVxuICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGZpcmVSZWNhbGN1bGF0aW5nKCkge1xuICAgICAgICAgIGlmICghc2NvcGUubW92ZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHNjb3BlLm1vdmVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDYW5jZWwgcHJldmlvdXMgdGltZW91dFxuICAgICAgICAgIGlmICh0aW1lb3V0RXZlbnRQcm9taXNlKSB7XG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZW91dEV2ZW50UHJvbWlzZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGVib3VuY2VkIGV4ZWN1dGluZyByZWNhbGN1bGF0ZSBhZnRlciBldmVudHMgZmlyZWRcbiAgICAgICAgICB0aW1lb3V0RXZlbnRQcm9taXNlID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBpZiBwb3B1cCBpcyB2aXNpYmxlXG4gICAgICAgICAgICBpZiAoc2NvcGUubWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVjYWxjdWxhdGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIH0sIGV2ZW50RGVib3VuY2VUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIGFjdHVhbCBwb3NpdGlvbiBhbmQgc2V0IG5ldyB2YWx1ZXMgdG8gc2NvcGVcbiAgICAgICAgLy8gYWZ0ZXIgZGlnZXN0IGxvb3AgaXMgcG9wdXAgaW4gcmlnaHQgcG9zaXRpb25cbiAgICAgICAgZnVuY3Rpb24gcmVjYWxjdWxhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbiA9IGFwcGVuZFRvQm9keSA/ICRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCkgOiAkcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCk7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24udG9wICs9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNldE1hdGNoZXMoKTtcblxuICAgICAgICAvL3dlIG5lZWQgdG8gcHJvcGFnYXRlIHVzZXIncyBxdWVyeSBzbyB3ZSBjYW4gaGlnbGlnaHQgbWF0Y2hlc1xuICAgICAgICBzY29wZS5xdWVyeSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvL0RlY2xhcmUgdGhlIHRpbWVvdXQgcHJvbWlzZSB2YXIgb3V0c2lkZSB0aGUgZnVuY3Rpb24gc2NvcGUgc28gdGhhdCBzdGFja2VkIGNhbGxzIGNhbiBiZSBjYW5jZWxsZWQgbGF0ZXJcbiAgICAgICAgdmFyIHRpbWVvdXRQcm9taXNlO1xuXG4gICAgICAgIHZhciBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0ID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuICAgICAgICAgIHRpbWVvdXRQcm9taXNlID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfSwgd2FpdFRpbWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjYW5jZWxQcmV2aW91c1RpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGltZW91dFByb21pc2UpIHtcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vcGx1ZyBpbnRvICRwYXJzZXJzIHBpcGVsaW5lIHRvIG9wZW4gYSB0eXBlYWhlYWQgb24gdmlldyBjaGFuZ2VzIGluaXRpYXRlZCBmcm9tIERPTVxuICAgICAgICAvLyRwYXJzZXJzIGtpY2staW4gb24gYWxsIHRoZSBjaGFuZ2VzIGNvbWluZyBmcm9tIHRoZSB2aWV3IGFzIHdlbGwgYXMgbWFudWFsbHkgdHJpZ2dlcmVkIGJ5ICRzZXRWaWV3VmFsdWVcbiAgICAgICAgbW9kZWxDdHJsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuICAgICAgICAgIGhhc0ZvY3VzID0gdHJ1ZTtcblxuICAgICAgICAgIGlmIChtaW5MZW5ndGggPT09IDAgfHwgaW5wdXRWYWx1ZSAmJiBpbnB1dFZhbHVlLmxlbmd0aCA+PSBtaW5MZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh3YWl0VGltZSA+IDApIHtcbiAgICAgICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgICAgIHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICBjYW5jZWxQcmV2aW91c1RpbWVvdXQoKTtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICAgIC8vIFJlc2V0IGluIGNhc2UgdXNlciBoYWQgdHlwZWQgc29tZXRoaW5nIHByZXZpb3VzbHkuXG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBtb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICAgICAgdmFyIGNhbmRpZGF0ZVZpZXdWYWx1ZSwgZW1wdHlWaWV3VmFsdWU7XG4gICAgICAgICAgdmFyIGxvY2FscyA9IHt9O1xuXG4gICAgICAgICAgLy8gVGhlIHZhbGlkaXR5IG1heSBiZSBzZXQgdG8gZmFsc2UgdmlhICRwYXJzZXJzIChzZWUgYWJvdmUpIGlmXG4gICAgICAgICAgLy8gdGhlIG1vZGVsIGlzIHJlc3RyaWN0ZWQgdG8gc2VsZWN0ZWQgdmFsdWVzLiBJZiB0aGUgbW9kZWxcbiAgICAgICAgICAvLyBpcyBzZXQgbWFudWFsbHkgaXQgaXMgY29uc2lkZXJlZCB0byBiZSB2YWxpZC5cbiAgICAgICAgICBpZiAoIWlzRWRpdGFibGUpIHtcbiAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlucHV0Rm9ybWF0dGVyKSB7XG4gICAgICAgICAgICBsb2NhbHMuJG1vZGVsID0gbW9kZWxWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHdlIGRvbid0IGhhdmUgZW5vdWdoIGluZm8gdG8gcHJvcGVybHkgcmVuZGVyIGlucHV0IHZhbHVlXG4gICAgICAgICAgICAvL3dlIG5lZWQgdG8gY2hlY2sgZm9yIHRoaXMgc2l0dWF0aW9uIGFuZCBzaW1wbHkgcmV0dXJuIG1vZGVsIHZhbHVlIGlmIHdlIGNhbid0IGFwcGx5IGN1c3RvbSBmb3JtYXR0aW5nXG4gICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1vZGVsVmFsdWU7XG4gICAgICAgICAgICBjYW5kaWRhdGVWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBlbXB0eVZpZXdWYWx1ZSA9IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG5cbiAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGVWaWV3VmFsdWUhPT0gZW1wdHlWaWV3VmFsdWUgPyBjYW5kaWRhdGVWaWV3VmFsdWUgOiBtb2RlbFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oYWN0aXZlSWR4KSB7XG4gICAgICAgICAgLy9jYWxsZWQgZnJvbSB3aXRoaW4gdGhlICRkaWdlc3QoKSBjeWNsZVxuICAgICAgICAgIHZhciBsb2NhbHMgPSB7fTtcbiAgICAgICAgICB2YXIgbW9kZWwsIGl0ZW07XG5cbiAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBpdGVtID0gc2NvcGUubWF0Y2hlc1thY3RpdmVJZHhdLm1vZGVsO1xuICAgICAgICAgIG1vZGVsID0gcGFyc2VyUmVzdWx0Lm1vZGVsTWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgJHNldE1vZGVsVmFsdWUob3JpZ2luYWxTY29wZSwgbW9kZWwpO1xuICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgncGFyc2UnLCB0cnVlKTtcblxuICAgICAgICAgIG9uU2VsZWN0Q2FsbGJhY2sob3JpZ2luYWxTY29wZSwge1xuICAgICAgICAgICAgJGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAkbW9kZWw6IG1vZGVsLFxuICAgICAgICAgICAgJGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNldE1hdGNoZXMoKTtcblxuICAgICAgICAgIC8vcmV0dXJuIGZvY3VzIHRvIHRoZSBpbnB1dCBlbGVtZW50IGlmIGEgbWF0Y2ggd2FzIHNlbGVjdGVkIHZpYSBhIG1vdXNlIGNsaWNrIGV2ZW50XG4gICAgICAgICAgLy8gdXNlIHRpbWVvdXQgdG8gYXZvaWQgJHJvb3RTY29wZTppbnByb2cgZXJyb3JcbiAgICAgICAgICBpZiAoc2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRm9jdXNPblNlbGVjdCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgZWxlbWVudFswXS5mb2N1cygpOyB9LCAwLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vYmluZCBrZXlib2FyZCBldmVudHM6IGFycm93cyB1cCgzOCkgLyBkb3duKDQwKSwgZW50ZXIoMTMpIGFuZCB0YWIoOSksIGVzYygyNylcbiAgICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgLy90eXBlYWhlYWQgaXMgb3BlbiBhbmQgYW4gXCJpbnRlcmVzdGluZ1wiIGtleSB3YXMgcHJlc3NlZFxuICAgICAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCA9PT0gMCB8fCBIT1RfS0VZUy5pbmRleE9mKGV2dC53aGljaCkgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gaWYgdGhlcmUncyBub3RoaW5nIHNlbGVjdGVkIChpLmUuIGZvY3VzRmlyc3QpIGFuZCBlbnRlciBvciB0YWIgaXMgaGl0LCBjbGVhciB0aGUgcmVzdWx0c1xuICAgICAgICAgIGlmIChzY29wZS5hY3RpdmVJZHggPT09IC0xICYmIChldnQud2hpY2ggPT09IDkgfHwgZXZ0LndoaWNoID09PSAxMykpIHtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gNDApIHtcbiAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IChzY29wZS5hY3RpdmVJZHggKyAxKSAlIHNjb3BlLm1hdGNoZXMubGVuZ3RoO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDM4KSB7XG4gICAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAoc2NvcGUuYWN0aXZlSWR4ID4gMCA/IHNjb3BlLmFjdGl2ZUlkeCA6IHNjb3BlLm1hdGNoZXMubGVuZ3RoKSAtIDE7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMTMgfHwgZXZ0LndoaWNoID09PSA5KSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudC5iaW5kKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGlzU2VsZWN0T25CbHVyICYmIHNjb3BlLm1hdGNoZXMubGVuZ3RoICYmIHNjb3BlLmFjdGl2ZUlkeCAhPT0gLTEgJiYgIXNlbGVjdGVkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhc0ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gS2VlcCByZWZlcmVuY2UgdG8gY2xpY2sgaGFuZGxlciB0byB1bmJpbmQgaXQuXG4gICAgICAgIHZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgLy8gSXNzdWUgIzM5NzNcbiAgICAgICAgICAvLyBGaXJlZm94IHRyZWF0cyByaWdodCBjbGljayBhcyBhIGNsaWNrIG9uIGRvY3VtZW50XG4gICAgICAgICAgaWYgKGVsZW1lbnRbMF0gIT09IGV2dC50YXJnZXQgJiYgZXZ0LndoaWNoICE9PSAzICYmIHNjb3BlLm1hdGNoZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7XG5cbiAgICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgICAkcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFByZXZlbnQgalF1ZXJ5IGNhY2hlIG1lbW9yeSBsZWFrXG4gICAgICAgICAgcG9wVXBFbC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyICRwb3B1cCA9ICRjb21waWxlKHBvcFVwRWwpKHNjb3BlKTtcblxuICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoJHBvcHVwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKCRwb3B1cCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZFBvcHVwJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgbWF0Y2hlczogJz0nLFxuICAgICAgICBxdWVyeTogJz0nLFxuICAgICAgICBhY3RpdmU6ICc9JyxcbiAgICAgICAgcG9zaXRpb246ICcmJyxcbiAgICAgICAgbW92ZUluUHJvZ3Jlc3M6ICc9JyxcbiAgICAgICAgc2VsZWN0OiAnJidcbiAgICAgIH0sXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHJldHVybiBhdHRycy5wb3B1cFRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwnO1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBzY29wZS50ZW1wbGF0ZVVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuXG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5tYXRjaGVzLmxlbmd0aCA+IDA7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihtYXRjaElkeCkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5hY3RpdmUgPT0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0QWN0aXZlID0gZnVuY3Rpb24obWF0Y2hJZHgpIHtcbiAgICAgICAgICBzY29wZS5hY3RpdmUgPSBtYXRjaElkeDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5zZWxlY3RNYXRjaCA9IGZ1bmN0aW9uKGFjdGl2ZUlkeCkge1xuICAgICAgICAgIHNjb3BlLnNlbGVjdCh7YWN0aXZlSWR4OmFjdGl2ZUlkeH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkTWF0Y2gnLCBbJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgZnVuY3Rpb24oJHRlbXBsYXRlUmVxdWVzdCwgJGNvbXBpbGUsICRwYXJzZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGluZGV4OiAnPScsXG4gICAgICAgIG1hdGNoOiAnPScsXG4gICAgICAgIHF1ZXJ5OiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgdHBsVXJsID0gJHBhcnNlKGF0dHJzLnRlbXBsYXRlVXJsKShzY29wZS4kcGFyZW50KSB8fCAndGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sJztcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdCh0cGxVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xuICAgICAgICAgICRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKShzY29wZSwgZnVuY3Rpb24oY2xvbmVkRWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aChjbG9uZWRFbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmZpbHRlcigndHlwZWFoZWFkSGlnaGxpZ2h0JywgWyckc2NlJywgJyRpbmplY3RvcicsICckbG9nJywgZnVuY3Rpb24oJHNjZSwgJGluamVjdG9yLCAkbG9nKSB7XG4gICAgdmFyIGlzU2FuaXRpemVQcmVzZW50O1xuICAgIGlzU2FuaXRpemVQcmVzZW50ID0gJGluamVjdG9yLmhhcygnJHNhbml0aXplJyk7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdleHAocXVlcnlUb0VzY2FwZSkge1xuICAgICAgLy8gUmVnZXg6IGNhcHR1cmUgdGhlIHdob2xlIHF1ZXJ5IHN0cmluZyBhbmQgcmVwbGFjZSBpdCB3aXRoIHRoZSBzdHJpbmcgdGhhdCB3aWxsIGJlIHVzZWQgdG8gbWF0Y2hcbiAgICAgIC8vIHRoZSByZXN1bHRzLCBmb3IgZXhhbXBsZSBpZiB0aGUgY2FwdHVyZSBpcyBcImFcIiB0aGUgcmVzdWx0IHdpbGwgYmUgXFxhXG4gICAgICByZXR1cm4gcXVlcnlUb0VzY2FwZS5yZXBsYWNlKC8oWy4/KiteJFtcXF1cXFxcKCl7fXwtXSkvZywgJ1xcXFwkMScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zSHRtbChtYXRjaEl0ZW0pIHtcbiAgICAgIHJldHVybiAvPC4qPi9nLnRlc3QobWF0Y2hJdGVtKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24obWF0Y2hJdGVtLCBxdWVyeSkge1xuICAgICAgaWYgKCFpc1Nhbml0aXplUHJlc2VudCAmJiBjb250YWluc0h0bWwobWF0Y2hJdGVtKSkge1xuICAgICAgICAkbG9nLndhcm4oJ1Vuc2FmZSB1c2Ugb2YgdHlwZWFoZWFkIHBsZWFzZSB1c2UgbmdTYW5pdGl6ZScpOyAvLyBXYXJuIHRoZSB1c2VyIGFib3V0IHRoZSBkYW5nZXJcbiAgICAgIH1cbiAgICAgIG1hdGNoSXRlbSA9IHF1ZXJ5PyAoJycgKyBtYXRjaEl0ZW0pLnJlcGxhY2UobmV3IFJlZ0V4cChlc2NhcGVSZWdleHAocXVlcnkpLCAnZ2knKSwgJzxzdHJvbmc+JCY8L3N0cm9uZz4nKSA6IG1hdGNoSXRlbTsgLy8gUmVwbGFjZXMgdGhlIGNhcHR1cmUgc3RyaW5nIHdpdGggYSB0aGUgc2FtZSBzdHJpbmcgaW5zaWRlIG9mIGEgXCJzdHJvbmdcIiB0YWdcbiAgICAgIGlmICghaXNTYW5pdGl6ZVByZXNlbnQpIHtcbiAgICAgICAgbWF0Y2hJdGVtID0gJHNjZS50cnVzdEFzSHRtbChtYXRjaEl0ZW0pOyAvLyBJZiAkc2FuaXRpemUgaXMgbm90IHByZXNlbnQgd2UgcGFjayB0aGUgc3RyaW5nIGluIGEgJHNjZSBvYmplY3QgZm9yIHRoZSBuZy1iaW5kLWh0bWwgZGlyZWN0aXZlXG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2hJdGVtO1xuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBhbmVsIHt7cGFuZWxDbGFzcyB8fCAncGFuZWwtZGVmYXVsdCd9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiBuZy1rZXlwcmVzcz1cXFwidG9nZ2xlT3BlbigkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGg0IGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGEgaHJlZiB0YWJpbmRleD1cXFwiMFxcXCIgY2xhc3M9XFxcImFjY29yZGlvbi10b2dnbGVcXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVPcGVuKClcXFwiIGFjY29yZGlvbi10cmFuc2NsdWRlPVxcXCJoZWFkaW5nXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwieyd0ZXh0LW11dGVkJzogaXNEaXNhYmxlZH1cXFwiPnt7aGVhZGluZ319PC9zcGFuPjwvYT5cXG5cIiArXG4gICAgXCIgICAgPC9oND5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicGFuZWwtY29sbGFwc2UgY29sbGFwc2VcXFwiIGNvbGxhcHNlPVxcXCIhaXNPcGVuXFxcIj5cXG5cIiArXG4gICAgXCJcdCAgPGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBhbmVsLWdyb3VwXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwiYWxlcnRcXFwiIG5nLWNsYXNzPVxcXCJbJ2FsZXJ0LScgKyAodHlwZSB8fCAnd2FybmluZycpLCBjbG9zZWFibGUgPyAnYWxlcnQtZGlzbWlzc2libGUnIDogbnVsbF1cXFwiIHJvbGU9XFxcImFsZXJ0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGJ1dHRvbiBuZy1zaG93PVxcXCJjbG9zZWFibGVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5DbG9zZTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWxcIixcbiAgICBcIjxkaXYgbmctbW91c2VlbnRlcj1cXFwicGF1c2UoKVxcXCIgbmctbW91c2VsZWF2ZT1cXFwicGxheSgpXFxcIiBjbGFzcz1cXFwiY2Fyb3VzZWxcXFwiIG5nLXN3aXBlLXJpZ2h0PVxcXCJwcmV2KClcXFwiIG5nLXN3aXBlLWxlZnQ9XFxcIm5leHQoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxvbCBjbGFzcz1cXFwiY2Fyb3VzZWwtaW5kaWNhdG9yc1xcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwic2xpZGUgaW4gc2xpZGVzIHwgb3JkZXJCeTppbmRleE9mU2xpZGUgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXNBY3RpdmUoc2xpZGUpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChzbGlkZSlcXFwiPjwvbGk+XFxuXCIgK1xuICAgIFwiICAgIDwvb2w+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNhcm91c2VsLWlubmVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwibGVmdCBjYXJvdXNlbC1jb250cm9sXFxcIiBuZy1jbGljaz1cXFwicHJldigpXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwicmlnaHQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcIm5leHQoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLWNsYXNzPVxcXCJ7XFxuXCIgK1xuICAgIFwiICAgICdhY3RpdmUnOiBhY3RpdmVcXG5cIiArXG4gICAgXCIgIH1cXFwiIGNsYXNzPVxcXCJpdGVtIHRleHQtY2VudGVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLXN3aXRjaD1cXFwiZGF0ZXBpY2tlck1vZGVcXFwiIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgPGRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwiZGF5XFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9kYXlwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8bW9udGhwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcIm1vbnRoXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9tb250aHBpY2tlcj5cXG5cIiArXG4gICAgXCIgIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJ5ZWFyXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC95ZWFycGlja2VyPlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcInt7Ojo1ICsgc2hvd1dlZWtzfX1cXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIG5nLWlmPVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggbmctcmVwZWF0PVxcXCJsYWJlbCBpbiA6OmxhYmVscyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PHNtYWxsIGFyaWEtbGFiZWw9XFxcInt7OjpsYWJlbC5mdWxsfX1cXFwiPnt7OjpsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1pZj1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXIgaDZcXFwiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIiBuZy1jbGFzcz1cXFwiOjpkdC5jdXN0b21DbGFzc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCI6OnsndGV4dC1tdXRlZCc6IGR0LnNlY29uZGFyeSwgJ3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiIG5nLWNsYXNzPVxcXCI6OmR0LmN1c3RvbUNsYXNzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctaWY9XFxcImlzT3BlblxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrXFxcIiBuZy1zdHlsZT1cXFwie3RvcDogcG9zaXRpb24udG9wKydweCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrJ3B4J31cXFwiIG5nLWtleWRvd249XFxcImtleWRvd24oJGV2ZW50KVxcXCIgbmctY2xpY2s9XFxcIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxcXCI+XFxuXCIgK1xuICAgIFwiXHQ8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxcblwiICtcbiAgICBcIlx0PGxpIG5nLWlmPVxcXCJzaG93QnV0dG9uQmFyXFxcIiBzdHlsZT1cXFwicGFkZGluZzoxMHB4IDlweCAycHhcXFwiPlxcblwiICtcbiAgICBcIlx0XHQ8c3BhbiBjbGFzcz1cXFwiYnRuLWdyb3VwIHB1bGwtbGVmdFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1pbmZvXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KCd0b2RheScpXFxcIiBuZy1kaXNhYmxlZD1cXFwiaXNEaXNhYmxlZCgndG9kYXknKVxcXCI+e3sgZ2V0VGV4dCgnY3VycmVudCcpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QobnVsbClcXFwiPnt7IGdldFRleHQoJ2NsZWFyJykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdFx0PC9zcGFuPlxcblwiICtcbiAgICBcIlx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MgcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcImNsb3NlKClcXFwiPnt7IGdldFRleHQoJ2Nsb3NlJykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdDwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcIjNcXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCIgaWQ9XFxcInt7OjpkdC51aWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xhc3M9XFxcInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZHQuZGlzYWJsZWRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcIjo6eyd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJhY2tkcm9wXFxcIlxcblwiICtcbiAgICBcIiAgICAgbW9kYWwtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgICAgbW9kYWwtaW4tY2xhc3M9XFxcImluXFxcIlxcblwiICtcbiAgICBcIiAgICAgbmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNDAgKyAoaW5kZXggJiYgMSB8fCAwKSArIGluZGV4KjEwfVxcXCJcXG5cIiArXG4gICAgXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIixcbiAgICBcIjxkaXYgbW9kYWwtcmVuZGVyPVxcXCJ7eyRpc1JlbmRlcmVkfX1cXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBjbGFzcz1cXFwibW9kYWxcXFwiXFxuXCIgK1xuICAgIFwiICAgIG1vZGFsLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgICAgbW9kYWwtaW4tY2xhc3M9XFxcImluXFxcIlxcblwiICtcbiAgICBcIlx0bmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNTAgKyBpbmRleCoxMCwgZGlzcGxheTogJ2Jsb2NrJ31cXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZGlhbG9nXFxcIiBuZy1jbGFzcz1cXFwic2l6ZSA/ICdtb2RhbC0nICsgc2l6ZSA6ICcnXFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIiBtb2RhbC10cmFuc2NsdWRlPjwvZGl2PjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwicGFnZXJcXFwiPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKXx8bmdEaXNhYmxlZCwgcHJldmlvdXM6IGFsaWdufVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlIC0gMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkLCBuZXh0OiBhbGlnbn1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwicGFnaW5hdGlvblxcXCI+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6Ym91bmRhcnlMaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tZmlyc3RcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UoMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ2ZpcnN0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWR9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1wcmV2XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgLSAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgncHJldmlvdXMnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctcmVwZWF0PVxcXCJwYWdlIGluIHBhZ2VzIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IHBhZ2UuYWN0aXZlLGRpc2FibGVkOiBuZ0Rpc2FibGVkJiYhcGFnZS5hY3RpdmV9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1wYWdlXFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UubnVtYmVyLCAkZXZlbnQpXFxcIj57e3BhZ2UudGV4dH19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6ZGlyZWN0aW9uTGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tbmV4dFxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6Ym91bmRhcnlMaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCl8fG5nRGlzYWJsZWR9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1sYXN0XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHRvdGFsUGFnZXMsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdsYXN0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgbmctYmluZC1odG1sPVxcXCJjb250ZW50RXhwKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgYmluZC1odG1sLXVuc2FmZT1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIiBuZy1iaW5kPVxcXCJjb250ZW50XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiXFxuXCIgK1xuICAgIFwiICAgIHRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZT1cXFwiY29udGVudEV4cCgpXFxcIlxcblwiICtcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicG9wb3ZlclxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIiBuZy1iaW5kLWh0bWw9XFxcImNvbnRlbnRFeHAoKVxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicG9wb3ZlclxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlPVxcXCJjb250ZW50RXhwKClcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiAwO1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3NcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiAwO1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXG4gICAgXCI8c3BhbiBuZy1tb3VzZWxlYXZlPVxcXCJyZXNldCgpXFxcIiBuZy1rZXlkb3duPVxcXCJvbktleWRvd24oJGV2ZW50KVxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiIHJvbGU9XFxcInNsaWRlclxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwie3tyYW5nZS5sZW5ndGh9fVxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4gbmctcmVwZWF0LXN0YXJ0PVxcXCJyIGluIHJhbmdlIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcInNyLW9ubHlcXFwiPih7eyAkaW5kZXggPCB2YWx1ZSA/ICcqJyA6ICcgJyB9fSk8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxpIG5nLXJlcGVhdC1lbmQgbmctbW91c2VlbnRlcj1cXFwiZW50ZXIoJGluZGV4ICsgMSlcXFwiIG5nLWNsaWNrPVxcXCJyYXRlKCRpbmRleCArIDEpXFxcIiBjbGFzcz1cXFwiZ2x5cGhpY29uXFxcIiBuZy1jbGFzcz1cXFwiJGluZGV4IDwgdmFsdWUgJiYgKHIuc3RhdGVPbiB8fCAnZ2x5cGhpY29uLXN0YXInKSB8fCAoci5zdGF0ZU9mZiB8fCAnZ2x5cGhpY29uLXN0YXItZW1wdHknKVxcXCIgbmctYXR0ci10aXRsZT1cXFwie3tyLnRpdGxlfX1cXFwiID48L2k+XFxuXCIgK1xuICAgIFwiPC9zcGFuPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLFxuICAgIFwiPGxpIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBhY3RpdmUsIGRpc2FibGVkOiBkaXNhYmxlZH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0KClcXFwiIHRhYi1oZWFkaW5nLXRyYW5zY2x1ZGU+e3toZWFkaW5nfX08L2E+XFxuXCIgK1xuICAgIFwiPC9saT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIixcbiAgICBcIjxkaXY+XFxuXCIgK1xuICAgIFwiICA8dWwgY2xhc3M9XFxcIm5hdiBuYXYte3t0eXBlIHx8ICd0YWJzJ319XFxcIiBuZy1jbGFzcz1cXFwieyduYXYtc3RhY2tlZCc6IHZlcnRpY2FsLCAnbmF2LWp1c3RpZmllZCc6IGp1c3RpZmllZH1cXFwiIG5nLXRyYW5zY2x1ZGU+PC91bD5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRhYi1jb250ZW50XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwidGFiLXBhbmVcXFwiIFxcblwiICtcbiAgICBcIiAgICAgICAgIG5nLXJlcGVhdD1cXFwidGFiIGluIHRhYnNcXFwiIFxcblwiICtcbiAgICBcIiAgICAgICAgIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiB0YWIuYWN0aXZlfVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICB0YWItY29udGVudC10cmFuc2NsdWRlPVxcXCJ0YWJcXFwiPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsXG4gICAgXCI8dGFibGU+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIG5nLXNob3c9XFxcIjo6c2hvd1NwaW5uZXJzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudEhvdXJzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vSW5jcmVtZW50SG91cnMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXBcXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+Jm5ic3A7PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudE1pbnV0ZXMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9JbmNyZW1lbnRNaW51dGVzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZEhvdXJzfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgc3R5bGU9XFxcIndpZHRoOjUwcHg7XFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwiaG91cnNcXFwiIG5nLWNoYW5nZT1cXFwidXBkYXRlSG91cnMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctcmVhZG9ubHk9XFxcIjo6cmVhZG9ubHlJbnB1dFxcXCIgbWF4bGVuZ3RoPVxcXCIyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD46PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLWNsYXNzPVxcXCJ7J2hhcy1lcnJvcic6IGludmFsaWRNaW51dGVzfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgc3R5bGU9XFxcIndpZHRoOjUwcHg7XFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwibWludXRlc1xcXCIgbmctY2hhbmdlPVxcXCJ1cGRhdGVNaW51dGVzKClcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXJcXFwiIG5nLXJlYWRvbmx5PVxcXCI6OnJlYWRvbmx5SW5wdXRcXFwiIG1heGxlbmd0aD1cXFwiMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9Ub2dnbGVNZXJpZGlhbigpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCB0ZXh0LWNlbnRlclxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1lcmlkaWFuKClcXFwiPnt7bWVyaWRpYW59fTwvYnV0dG9uPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIG5nLXNob3c9XFxcIjo6c2hvd1NwaW5uZXJzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImRlY3JlbWVudEhvdXJzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vRGVjcmVtZW50SG91cnMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD4mbmJzcDs8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50TWludXRlcygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0RlY3JlbWVudE1pbnV0ZXMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFxuICAgIFwiPGEgaHJlZiB0YWJpbmRleD1cXFwiLTFcXFwiIG5nLWJpbmQtaHRtbD1cXFwibWF0Y2gubGFiZWwgfCB0eXBlYWhlYWRIaWdobGlnaHQ6cXVlcnlcXFwiPjwvYT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIG5nLXNob3c9XFxcImlzT3BlbigpICYmICFtb3ZlSW5Qcm9ncmVzc1xcXCIgbmctc3R5bGU9XFxcInt0b3A6IHBvc2l0aW9uKCkudG9wKydweCcsIGxlZnQ6IHBvc2l0aW9uKCkubGVmdCsncHgnfVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrO1xcXCIgcm9sZT1cXFwibGlzdGJveFxcXCIgYXJpYS1oaWRkZW49XFxcInt7IWlzT3BlbigpfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGkgbmctcmVwZWF0PVxcXCJtYXRjaCBpbiBtYXRjaGVzIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IGlzQWN0aXZlKCRpbmRleCkgfVxcXCIgbmctbW91c2VlbnRlcj1cXFwic2VsZWN0QWN0aXZlKCRpbmRleClcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3RNYXRjaCgkaW5kZXgpXFxcIiByb2xlPVxcXCJvcHRpb25cXFwiIGlkPVxcXCJ7ezo6bWF0Y2guaWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IHR5cGVhaGVhZC1tYXRjaCBpbmRleD1cXFwiJGluZGV4XFxcIiBtYXRjaD1cXFwibWF0Y2hcXFwiIHF1ZXJ5PVxcXCJxdWVyeVxcXCIgdGVtcGxhdGUtdXJsPVxcXCJ0ZW1wbGF0ZVVybFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG4hYW5ndWxhci4kJGNzcCgpICYmIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgnaGVhZCcpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4ubmctYW5pbWF0ZS5pdGVtOm5vdCgubGVmdCk6bm90KC5yaWdodCl7LXdlYmtpdC10cmFuc2l0aW9uOjBzIGVhc2UtaW4tb3V0IGxlZnQ7dHJhbnNpdGlvbjowcyBlYXNlLWluLW91dCBsZWZ0fTwvc3R5bGU+Jyk7XG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIiwgW1wicmlzZXZpc2lvbi5jb21tb24uaTE4blwiXSlcbiAgICAuZGlyZWN0aXZlKFwid2lkZ2V0QnV0dG9uVG9vbGJhclwiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBzYXZlOiBcIiZcIixcbiAgICAgICAgICBjYW5jZWw6IFwiJlwiLFxuICAgICAgICAgIGRpc2FibGVTYXZlOiBcIiZcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyL3dpZGdldC1idXR0b24tdG9vbGJhci5odG1sXCIpXG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL3dpZGdldC1idXR0b24tdG9vbGJhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHVsbC1yaWdodFxcXCI+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIGlkPVxcXCJzYXZlXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1maXhlZC13aWR0aFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwic2F2ZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGlzYWJsZVNhdmUoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zYXZlXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtY2hlY2sgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIGlkPVxcXCJjYW5jZWxcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLWZpeGVkLXdpZHRoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJjYW5jZWwoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuPnt7XFxcImNvbW1vbi5jYW5jZWxcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS10aW1lcyBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsIFtcInVpLmJvb3RzdHJhcFwiXSlcbiAgICAuZGlyZWN0aXZlKFwicnZUb29sdGlwXCIsIFtmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBXCIsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJmYVwiKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmEtcXVlc3Rpb24tY2lyY2xlXCIpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJmYS1sZ1wiKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5nb29nbGUtZHJpdmUtcGlja2VyXCIsIFtcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIl0pXG4gICAgLmRpcmVjdGl2ZShcImdvb2dsZURyaXZlUGlja2VyXCIsIFtcIiR3aW5kb3dcIiwgXCIkZG9jdW1lbnRcIiwgXCIkbG9nXCIsIFwiJHRlbXBsYXRlQ2FjaGVcIiwgXCJhcGlBdXRoXCIsIFwiYXBpR29vZ2xlUGlja2VyXCIsXG4gICAgICBmdW5jdGlvbiAoJHdpbmRvdywgJGRvY3VtZW50LCAkbG9nLCAkdGVtcGxhdGVDYWNoZSwgYXBpQXV0aCwgYXBpR29vZ2xlUGlja2VyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgdmlld0lkOiBcIkBcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiZ29vZ2xlLWRyaXZlLXBpY2tlci10ZW1wbGF0ZS5odG1sXCIpLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsICRlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgIHZhciBkb2N1bWVudCA9ICRkb2N1bWVudFswXSxcbiAgICAgICAgICAgIHZpZXdJZCA9IGF0dHJzLnZpZXdJZCB8fCBcImRvY3NcIjtcblxuICAgICAgICAgIGZ1bmN0aW9uIG9uUGlja2VyQWN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGFwaUdvb2dsZVBpY2tlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChnb29nbGUpIHtcbiAgICAgICAgICAgICAgaWYgKGRhdGFbZ29vZ2xlLnBpY2tlci5SZXNwb25zZS5BQ1RJT05dID09PSBnb29nbGUucGlja2VyLkFjdGlvbi5QSUNLRUQpIHtcbiAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwiRmlsZXMgcGlja2VkXCIsIGRhdGFbZ29vZ2xlLnBpY2tlci5SZXNwb25zZS5ET0NVTUVOVFNdKTtcbiAgICAgICAgICAgICAgICBzY29wZS4kZW1pdChcInBpY2tlZFwiLCBkYXRhW2dvb2dsZS5waWNrZXIuUmVzcG9uc2UuRE9DVU1FTlRTXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVtnb29nbGUucGlja2VyLlJlc3BvbnNlLkFDVElPTl0gPT09IGdvb2dsZS5waWNrZXIuQWN0aW9uLkNBTkNFTCkge1xuICAgICAgICAgICAgICAgICRsb2cuZGVidWcoXCJGaWxlIHBpY2sgY2FuY2VsbGVkXCIpO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KFwiY2FuY2VsXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVQaWNrZXIoZ29vZ2xlKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksXG4gICAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgICAgcGlja2VyO1xuXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVmZXJyZXIpIHtcbiAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lID09PSBcImxvY2FsaG9zdFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29tcG9uZW50IGlzIHdpdGhpbiBhbiBpZnJhbWUsIGJ1dCBsaWtlbHkgd2l0aGluIGEgd2lkZ2V0IHNldHRpbmdzIHRlc3RlZCBsb2NhbGx5IChsb2NhbGhvc3Q6ODAwMClcbiAgICAgICAgICAgICAgICBvcmlnaW4gPSAkd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgJHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENvbXBvbmVudCBpcyB3aXRoaW4gYW4gaWZyYW1lXG4gICAgICAgICAgICAgICAgcGFyc2VyLmhyZWYgPSBkb2N1bWVudC5yZWZlcnJlcjtcbiAgICAgICAgICAgICAgICBvcmlnaW4gPSBwYXJzZXIucHJvdG9jb2wgKyBcIi8vXCIgKyBwYXJzZXIuaG9zdG5hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIENvbXBvbmVudCBpcyBub3Qgd2l0aGluIGFuIGlmcmFtZSwgbGlrZWx5IHRlc3RpbmcgbG9jYWxseSBpbiB0aGlzIHJlcG8gKGxvY2FsaG9zdDo4MDk5KVxuICAgICAgICAgICAgICBvcmlnaW4gPSAkd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgJHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwaWNrZXIgPSBuZXcgZ29vZ2xlLnBpY2tlci5QaWNrZXJCdWlsZGVyKClcbiAgICAgICAgICAgICAgLnNldE9yaWdpbihvcmlnaW4pXG4gICAgICAgICAgICAgIC5hZGRWaWV3KHZpZXdJZClcbiAgICAgICAgICAgICAgLnNldE9BdXRoVG9rZW4oYXBpQXV0aC5nZXRBdXRoVG9rZW4oKSlcbiAgICAgICAgICAgICAgLnNldENhbGxiYWNrKG9uUGlja2VyQWN0aW9uKVxuICAgICAgICAgICAgICAuYnVpbGQoKTtcblxuICAgICAgICAgICAgcGlja2VyLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGVsZW1lbnQub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYXBpQXV0aC5nZXRBdXRoVG9rZW4oKSkge1xuICAgICAgICAgICAgICBhcGlHb29nbGVQaWNrZXIuZ2V0KCkudGhlbihjcmVhdGVQaWNrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWFwaUF1dGguZ2V0QXV0aFRva2VuKCkpIHtcbiAgICAgICAgICAgICAgLy8gQXV0aG9yaXplIHRoaXMgdGltZSB3aXRoIFVJIChpbW1lZGlhdGUgPSBmYWxzZSlcbiAgICAgICAgICAgICAgYXBpQXV0aC5hdXRob3JpemUoZmFsc2UpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGF1dGhSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChhdXRoUmVzdWx0ICYmICFhdXRoUmVzdWx0LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwaUdvb2dsZVBpY2tlci5nZXQoKS50aGVuKGNyZWF0ZVBpY2tlcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBTaWxlbnRseSB0cnkgdG8gYXV0aG9yaXplKGltbWVkaWF0ZSA9IHRydWUpXG4gICAgICAgICAgYXBpQXV0aC5hdXRob3JpemUodHJ1ZSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAkbG9nLndhcm4oZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xuXG59KShhbmd1bGFyKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZ29vZ2xlLWRyaXZlLXBpY2tlclwiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmdvb2dsZS1kcml2ZS1waWNrZXJcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJnb29nbGUtZHJpdmUtcGlja2VyLXRlbXBsYXRlLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcImdvb2dsZS1kcml2ZS1waWNrZXJcXFwiPlxcblwiICtcbiAgICBcIiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPlxcblwiICtcbiAgICBcIiAgICB7e1xcXCJnb29nbGUtZHJpdmUtcGlja2VyLnNlbGVjdFxcXCIgfCB0cmFuc2xhdGUgfX1cXG5cIiArXG4gICAgXCIgICAgPGltZyBjbGFzcz1cXFwiaWNvbi1yaWdodFxcXCIgc3JjPVxcXCIvL3MzLmFtYXpvbmF3cy5jb20vUmlzZS1JbWFnZXMvSWNvbnMvZHJpdmUuc3ZnXFxcIj5cXG5cIiArXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBpc0NsaWVudEpTID0gZmFsc2U7XG5mdW5jdGlvbiBoYW5kbGVDbGllbnRKU0xvYWQoKSB7XG4gIGlzQ2xpZW50SlMgPSB0cnVlO1xuXG4gIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50c1wiKTtcbiAgZXZ0LmluaXRFdmVudChcImdhcGkubG9hZGVkXCIsIHRydWUsIHRydWUpO1xuXG4gIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2dCk7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZ29vZ2xlLWRyaXZlLXBpY2tlclwiKVxuICAgIC5mYWN0b3J5KFwib2F1dGhBUElMb2FkZXJcIiwgW1wiJHFcIiwgXCIkbG9nXCIsIFwiZ2FwaUxvYWRlclwiLFxuICAgICAgZnVuY3Rpb24gKCRxLCAkbG9nLCBnYXBpTG9hZGVyKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIHZhciBwcm9taXNlO1xuXG4gICAgICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgICBnYXBpTG9hZGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKGdBcGkpIHtcbiAgICAgICAgICAgICAgICBnQXBpLmxvYWQoXCJhdXRoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICRsb2cuaW5mbyhcImF1dGggQVBJIGlzIGxvYWRlZFwiKTtcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZ0FwaSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgICAgfV0pXG4gICAgLmZhY3RvcnkoXCJnYXBpTG9hZGVyXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLFxuICAgICAgZnVuY3Rpb24gKCRxLCAkd2luZG93KSB7XG5cbiAgICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgICAgICBnYXBpTG9hZGVkO1xuXG4gICAgICAgICAgICBpZiAoJHdpbmRvdy5pc0NsaWVudEpTKSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nYXBpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGdhcGlMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93LmdhcGkpO1xuICAgICAgICAgICAgICAgICR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImdhcGkubG9hZGVkXCIsIGdhcGlMb2FkZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgJHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZ2FwaS5sb2FkZWRcIiwgZ2FwaUxvYWRlZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgICAgfV0pXG4gICAgLmZhY3RvcnkoXCJwaWNrZXJMb2FkZXJcIiwgW1wiJHFcIiwgXCIkd2luZG93XCIsIFwiJGxvZ1wiLCBcImdhcGlMb2FkZXJcIixcbiAgICAgIGZ1bmN0aW9uKCRxLCAkd2luZG93LCAkbG9nLCBnYXBpTG9hZGVyKSB7XG5cbiAgICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIHByb21pc2U7XG5cbiAgICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgICAgZ2FwaUxvYWRlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChnQXBpKSB7XG4gICAgICAgICAgICAgICAgZ0FwaS5sb2FkKFwicGlja2VyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICRsb2cuaW5mbyhcInBpY2tlciBBUEkgaXMgbG9hZGVkXCIpO1xuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShnQXBpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICAgIH1dKTtcblxufSkoYW5ndWxhcik7XG5cblxuXG4oZnVuY3Rpb24oYW5ndWxhcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5nb29nbGUtZHJpdmUtcGlja2VyXCIpXG5cbiAgICAudmFsdWUoXCJDTElFTlRfSURcIiwgXCI2MTQ1MTM3Njg0NzQtczRtbzQxY2FuaGZvMHBjbzRwc3RuOG01djc4a2Y1bHYuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIilcbiAgICAudmFsdWUoXCJTQ09QRVwiLCBbXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RyaXZlLnJlYWRvbmx5XCJdKVxuXG4gICAgLmZhY3RvcnkoXCJhcGlBdXRoXCIsIFtcIiRxXCIsIFwiJGh0dHBcIiwgXCIkbG9nXCIsIFwiZ2FwaUxvYWRlclwiLCBcIm9hdXRoQVBJTG9hZGVyXCIsIFwiQ0xJRU5UX0lEXCIsIFwiU0NPUEVcIixcbiAgICAgIGZ1bmN0aW9uKCRxLCAkaHR0cCwgJGxvZywgZ2FwaUxvYWRlciwgb2F1dGhBUElMb2FkZXIsIENMSUVOVF9JRCwgU0NPUEUpIHtcblxuICAgICAgICB2YXIgb2F1dGhUb2tlbiA9IG51bGwsXG4gICAgICAgICAgZmFjdG9yeSA9IHt9O1xuXG4gICAgICAgIGZhY3RvcnkuYXV0aG9yaXplID0gZnVuY3Rpb24oYXR0ZW1wdEltbWVkaWF0ZSkge1xuICAgICAgICAgIHZhciBhdXRob3JpemVEZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIGNsaWVudF9pZDogQ0xJRU5UX0lELFxuICAgICAgICAgICAgc2NvcGU6IFNDT1BFLFxuICAgICAgICAgICAgaW1tZWRpYXRlOiBhdHRlbXB0SW1tZWRpYXRlXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIG9hdXRoQVBJTG9hZGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKGdBcGkpIHtcbiAgICAgICAgICAgIGdBcGkuYXV0aC5hdXRob3JpemUob3B0cywgZnVuY3Rpb24gKGF1dGhSZXN1bHQpIHtcblxuICAgICAgICAgICAgICBpZiAoYXV0aFJlc3VsdCAmJiAhYXV0aFJlc3VsdC5lcnJvcikge1xuICAgICAgICAgICAgICAgIG9hdXRoVG9rZW4gPSBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbjtcbiAgICAgICAgICAgICAgICBhdXRob3JpemVEZWZlcnJlZC5yZXNvbHZlKGF1dGhSZXN1bHQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF1dGhvcml6ZURlZmVycmVkLnJlamVjdChcIkF1dGhlbnRpY2F0aW9uIEVycm9yOiBcIiArIGF1dGhSZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgICAgICRsb2cuZGVidWcoXCJhdXRob3JpemUgcmVzdWx0XCIsIGF1dGhSZXN1bHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gYXV0aG9yaXplRGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBmYWN0b3J5LmdldEF1dGhUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb2F1dGhUb2tlbjtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgICAgfV0pO1xuXG59KShhbmd1bGFyKTtcblxuKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZ29vZ2xlLWRyaXZlLXBpY2tlclwiKVxuXG4gICAgLmZhY3RvcnkoXCJhcGlHb29nbGVQaWNrZXJcIiwgW1wiJHFcIiwgXCIkd2luZG93XCIsIFwiJGxvZ1wiLCBcInBpY2tlckxvYWRlclwiLFxuICAgICAgZnVuY3Rpb24gKCRxLCAkd2luZG93LCAkbG9nLCBwaWNrZXJMb2FkZXIpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgdmFyIHByb21pc2U7XG5cbiAgICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICAgIHBpY2tlckxvYWRlci5nZXQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCR3aW5kb3cuZ29vZ2xlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICAgIH1dKTtcblxufSkoYW5ndWxhcik7XG5cbmFuZ3VsYXIubW9kdWxlKCdjb2xvcnBpY2tlci5tb2R1bGUnLCBbXSlcbiAgICAuZmFjdG9yeSgnSGVscGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xvc2VzdFNsaWRlcjogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICB2YXIgbWF0Y2hlc1NlbGVjdG9yID0gZWxlbS5tYXRjaGVzIHx8IGVsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGVsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8IGVsZW0ubXNNYXRjaGVzU2VsZWN0b3I7XG4gICAgICAgICAgaWYgKG1hdGNoZXNTZWxlY3Rvci5iaW5kKGVsZW0pKCdJJykpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtLnBhcmVudE5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICB9LFxuICAgICAgICBnZXRPZmZzZXQ6IGZ1bmN0aW9uIChlbGVtLCBmaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICBzY3JvbGxYID0gMCxcbiAgICAgICAgICAgIHNjcm9sbFkgPSAwLFxuICAgICAgICAgICAgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgd2hpbGUgKGVsZW0gJiYgIWlzTmFOKGVsZW0ub2Zmc2V0TGVmdCkgJiYgIWlzTmFOKGVsZW0ub2Zmc2V0VG9wKSkge1xuICAgICAgICAgICAgaWYgKCFmaXhlZFBvc2l0aW9uICYmIGVsZW0udGFnTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgICAgICAgICAgIHNjcm9sbFggKz0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZWxlbS5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICBzY3JvbGxZICs9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZWxlbS5zY3JvbGxUb3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY3JvbGxYICs9IGVsZW0uc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgc2Nyb2xsWSArPSBlbGVtLnNjcm9sbFRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW0gPSBlbGVtLm9mZnNldFBhcmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgICAgICAgICBzY3JvbGxYOiBzY3JvbGxYLFxuICAgICAgICAgICAgc2Nyb2xsWTogc2Nyb2xsWVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGEgc2V0IG9mIFJFJ3MgdGhhdCBjYW4gbWF0Y2ggc3RyaW5ncyBhbmQgZ2VuZXJhdGUgY29sb3IgdHVwbGVzLiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1jb2xvci9cbiAgICAgICAgc3RyaW5nUGFyc2VyczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlOiAvcmdiYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZXhlY1Jlc3VsdCkge1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGV4ZWNSZXN1bHRbMV0sXG4gICAgICAgICAgICAgICAgZXhlY1Jlc3VsdFsyXSxcbiAgICAgICAgICAgICAgICBleGVjUmVzdWx0WzNdLFxuICAgICAgICAgICAgICAgIGV4ZWNSZXN1bHRbNF1cbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlOiAvcmdiYT9cXChcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZXhlY1Jlc3VsdCkge1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIDIuNTUgKiBleGVjUmVzdWx0WzFdLFxuICAgICAgICAgICAgICAgIDIuNTUgKiBleGVjUmVzdWx0WzJdLFxuICAgICAgICAgICAgICAgIDIuNTUgKiBleGVjUmVzdWx0WzNdLFxuICAgICAgICAgICAgICAgIGV4ZWNSZXN1bHRbNF1cbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlOiAvIyhbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KS8sXG4gICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzFdLCAxNiksXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFsyXSwgMTYpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbM10sIDE2KVxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmU6IC8jKFthLWZBLUYwLTldKShbYS1mQS1GMC05XSkoW2EtZkEtRjAtOV0pLyxcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZXhlY1Jlc3VsdCkge1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbMV0gKyBleGVjUmVzdWx0WzFdLCAxNiksXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFsyXSArIGV4ZWNSZXN1bHRbMl0sIDE2KSxcbiAgICAgICAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzNdICsgZXhlY1Jlc3VsdFszXSwgMTYpXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIH0pXG4gICAgLmZhY3RvcnkoJ0NvbG9yJywgWydIZWxwZXInLCBmdW5jdGlvbiAoSGVscGVyKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGg6IDEsXG4gICAgICAgICAgczogMSxcbiAgICAgICAgICBiOiAxLFxuICAgICAgICAgIGE6IDFcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdHJhbnNsYXRlIGEgZm9ybWF0IGZyb20gQ29sb3Igb2JqZWN0IHRvIGEgc3RyaW5nXG4gICAgICAgICdyZ2InOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SR0IoKTtcbiAgICAgICAgICByZXR1cm4gJ3JnYignICsgcmdiLnIgKyAnLCcgKyByZ2IuZyArICcsJyArIHJnYi5iICsgJyknO1xuICAgICAgICB9LFxuICAgICAgICAncmdiYSc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JHQigpO1xuICAgICAgICAgIHJldHVybiAncmdiYSgnICsgcmdiLnIgKyAnLCcgKyByZ2IuZyArICcsJyArIHJnYi5iICsgJywnICsgcmdiLmEgKyAnKSc7XG4gICAgICAgIH0sXG4gICAgICAgICdoZXgnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICB0aGlzLnRvSGV4KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gSFNCdG9SR0IgZnJvbSBSYXBoYWVsSlNcbiAgICAgICAgUkdCdG9IU0I6IGZ1bmN0aW9uIChyLCBnLCBiLCBhKSB7XG4gICAgICAgICAgciAvPSAyNTU7XG4gICAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgICAgYiAvPSAyNTU7XG5cbiAgICAgICAgICB2YXIgSCwgUywgViwgQztcbiAgICAgICAgICBWID0gTWF0aC5tYXgociwgZywgYik7XG4gICAgICAgICAgQyA9IFYgLSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgICBIID0gKEMgPT09IDAgPyBudWxsIDpcbiAgICAgICAgICAgICAgViA9PT0gciA/IChnIC0gYikgLyBDIDpcbiAgICAgICAgICAgICAgICAgIFYgPT09IGcgPyAoYiAtIHIpIC8gQyArIDIgOlxuICAgICAgICAgICAgICAgICAgICAgIChyIC0gZykgLyBDICsgNFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIEggPSAoKEggKyAzNjApICUgNikgKiA2MCAvIDM2MDtcbiAgICAgICAgICBTID0gQyA9PT0gMCA/IDAgOiBDIC8gVjtcbiAgICAgICAgICByZXR1cm4ge2g6IEggfHwgMSwgczogUywgYjogViwgYTogYSB8fCAxfTtcbiAgICAgICAgfSxcblxuICAgICAgICAvL3BhcnNlIGEgc3RyaW5nIHRvIEhTQlxuICAgICAgICBzZXRDb2xvcjogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgIHZhbCA9ICh2YWwpID8gdmFsLnRvTG93ZXJDYXNlKCkgOiB2YWw7XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIEhlbHBlci5zdHJpbmdQYXJzZXJzKSB7XG4gICAgICAgICAgICBpZiAoSGVscGVyLnN0cmluZ1BhcnNlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gSGVscGVyLnN0cmluZ1BhcnNlcnNba2V5XTtcbiAgICAgICAgICAgICAgdmFyIG1hdGNoID0gcGFyc2VyLnJlLmV4ZWModmFsKSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IG1hdGNoICYmIHBhcnNlci5wYXJzZShtYXRjaCk7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5SR0J0b0hTQi5hcHBseShudWxsLCB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzZXRIdWU6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZS5oID0gMSAtIGg7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0U2F0dXJhdGlvbjogZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlLnMgPSBzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldExpZ2h0bmVzczogZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlLmIgPSAxIC0gYjtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRBbHBoYTogZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlLmEgPSBwYXJzZUludCgoMSAtIGEpICogMTAwLCAxMCkgLyAxMDA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gSFNCdG9SR0IgZnJvbSBSYXBoYWVsSlNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0RtaXRyeUJhcmFub3Zza2l5L3JhcGhhZWwvXG4gICAgICAgIHRvUkdCOiBmdW5jdGlvbiAoaCwgcywgYiwgYSkge1xuICAgICAgICAgIGlmICghaCkge1xuICAgICAgICAgICAgaCA9IHRoaXMudmFsdWUuaDtcbiAgICAgICAgICAgIHMgPSB0aGlzLnZhbHVlLnM7XG4gICAgICAgICAgICBiID0gdGhpcy52YWx1ZS5iO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoICo9IDM2MDtcbiAgICAgICAgICB2YXIgUiwgRywgQiwgWCwgQztcbiAgICAgICAgICBoID0gKGggJSAzNjApIC8gNjA7XG4gICAgICAgICAgQyA9IGIgKiBzO1xuICAgICAgICAgIFggPSBDICogKDEgLSBNYXRoLmFicyhoICUgMiAtIDEpKTtcbiAgICAgICAgICBSID0gRyA9IEIgPSBiIC0gQztcblxuICAgICAgICAgIGggPSB+fmg7XG4gICAgICAgICAgUiArPSBbQywgWCwgMCwgMCwgWCwgQ11baF07XG4gICAgICAgICAgRyArPSBbWCwgQywgQywgWCwgMCwgMF1baF07XG4gICAgICAgICAgQiArPSBbMCwgMCwgWCwgQywgQywgWF1baF07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IE1hdGgucm91bmQoUiAqIDI1NSksXG4gICAgICAgICAgICBnOiBNYXRoLnJvdW5kKEcgKiAyNTUpLFxuICAgICAgICAgICAgYjogTWF0aC5yb3VuZChCICogMjU1KSxcbiAgICAgICAgICAgIGE6IGEgfHwgdGhpcy52YWx1ZS5hXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b0hleDogZnVuY3Rpb24gKGgsIHMsIGIsIGEpIHtcbiAgICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JHQihoLCBzLCBiLCBhKTtcbiAgICAgICAgICByZXR1cm4gJyMnICsgKCgxIDw8IDI0KSB8IChwYXJzZUludChyZ2IuciwgMTApIDw8IDE2KSB8IChwYXJzZUludChyZ2IuZywgMTApIDw8IDgpIHwgcGFyc2VJbnQocmdiLmIsIDEwKSkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSlcbiAgICAuZmFjdG9yeSgnU2xpZGVyJywgWydIZWxwZXInLCBmdW5jdGlvbiAoSGVscGVyKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG4gICAgICB2YXJcbiAgICAgICAgICBzbGlkZXIgPSB7XG4gICAgICAgICAgICBtYXhMZWZ0OiAwLFxuICAgICAgICAgICAgbWF4VG9wOiAwLFxuICAgICAgICAgICAgY2FsbExlZnQ6IG51bGwsXG4gICAgICAgICAgICBjYWxsVG9wOiBudWxsLFxuICAgICAgICAgICAga25vYjoge1xuICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvaW50ZXIgPSB7fTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0U2xpZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gc2xpZGVyO1xuICAgICAgICB9LFxuICAgICAgICBnZXRMZWZ0UG9zaXRpb246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHNsaWRlci5tYXhMZWZ0LCBzbGlkZXIubGVmdCArICgoZXZlbnQucGFnZVggfHwgcG9pbnRlci5sZWZ0KSAtIHBvaW50ZXIubGVmdCkpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VG9wUG9zaXRpb246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHNsaWRlci5tYXhUb3AsIHNsaWRlci50b3AgKyAoKGV2ZW50LnBhZ2VZIHx8IHBvaW50ZXIudG9wKSAtIHBvaW50ZXIudG9wKSkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTbGlkZXI6IGZ1bmN0aW9uIChldmVudCwgZml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgdGFyZ2V0ID0gSGVscGVyLmNsb3Nlc3RTbGlkZXIoZXZlbnQudGFyZ2V0KSxcbiAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IEhlbHBlci5nZXRPZmZzZXQodGFyZ2V0LCBmaXhlZFBvc2l0aW9uKSxcbiAgICAgICAgICAgIHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICBvZmZzZXRYID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCxcbiAgICAgICAgICAgIG9mZnNldFkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XG5cbiAgICAgICAgICBzbGlkZXIua25vYiA9IHRhcmdldC5jaGlsZHJlblswXS5zdHlsZTtcbiAgICAgICAgICBzbGlkZXIubGVmdCA9IGV2ZW50LnBhZ2VYIC0gdGFyZ2V0T2Zmc2V0LmxlZnQgLSB3aW5kb3cucGFnZVhPZmZzZXQgKyB0YXJnZXRPZmZzZXQuc2Nyb2xsWDtcbiAgICAgICAgICBzbGlkZXIudG9wID0gZXZlbnQucGFnZVkgLSB0YXJnZXRPZmZzZXQudG9wIC0gd2luZG93LnBhZ2VZT2Zmc2V0ICsgdGFyZ2V0T2Zmc2V0LnNjcm9sbFk7XG5cbiAgICAgICAgICBwb2ludGVyID0ge1xuICAgICAgICAgICAgbGVmdDogZXZlbnQucGFnZVggLSAob2Zmc2V0WCAtIHNsaWRlci5sZWZ0KSxcbiAgICAgICAgICAgIHRvcDogZXZlbnQucGFnZVkgLSAob2Zmc2V0WSAtIHNsaWRlci50b3ApXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U2F0dXJhdGlvbjogZnVuY3Rpb24oZXZlbnQsIGZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICBzbGlkZXIgPSB7XG4gICAgICAgICAgICBtYXhMZWZ0OiAxMDAsXG4gICAgICAgICAgICBtYXhUb3A6IDEwMCxcbiAgICAgICAgICAgIGNhbGxMZWZ0OiAnc2V0U2F0dXJhdGlvbicsXG4gICAgICAgICAgICBjYWxsVG9wOiAnc2V0TGlnaHRuZXNzJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5zZXRTbGlkZXIoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRIdWU6IGZ1bmN0aW9uKGV2ZW50LCBmaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgc2xpZGVyID0ge1xuICAgICAgICAgICAgbWF4TGVmdDogMCxcbiAgICAgICAgICAgIG1heFRvcDogMTAwLFxuICAgICAgICAgICAgY2FsbExlZnQ6IGZhbHNlLFxuICAgICAgICAgICAgY2FsbFRvcDogJ3NldEh1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuc2V0U2xpZGVyKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0QWxwaGE6IGZ1bmN0aW9uKGV2ZW50LCBmaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgc2xpZGVyID0ge1xuICAgICAgICAgICAgbWF4TGVmdDogMCxcbiAgICAgICAgICAgIG1heFRvcDogMTAwLFxuICAgICAgICAgICAgY2FsbExlZnQ6IGZhbHNlLFxuICAgICAgICAgICAgY2FsbFRvcDogJ3NldEFscGhhJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5zZXRTbGlkZXIoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRLbm9iOiBmdW5jdGlvbih0b3AsIGxlZnQpIHtcbiAgICAgICAgICBzbGlkZXIua25vYi50b3AgPSB0b3AgKyAncHgnO1xuICAgICAgICAgIHNsaWRlci5rbm9iLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSlcbiAgICAuZGlyZWN0aXZlKCdjb2xvcnBpY2tlcicsIFsnJGRvY3VtZW50JywgJyRjb21waWxlJywgJ0NvbG9yJywgJ1NsaWRlcicsICdIZWxwZXInLCBmdW5jdGlvbiAoJGRvY3VtZW50LCAkY29tcGlsZSwgQ29sb3IsIFNsaWRlciwgSGVscGVyKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoJHNjb3BlLCBlbGVtLCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgICB0aGlzRm9ybWF0ID0gYXR0cnMuY29sb3JwaWNrZXIgPyBhdHRycy5jb2xvcnBpY2tlciA6ICdoZXgnLFxuICAgICAgICAgICAgICBpc0JhY2tncm91bmRTZXR0aW5nID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYmFja2dyb3VuZFNldHRpbmcpID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICBwb3NpdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNvbG9ycGlja2VyUG9zaXRpb24pID8gYXR0cnMuY29sb3JwaWNrZXJQb3NpdGlvbiA6ICdib3R0b20nLFxuICAgICAgICAgICAgICBpbmxpbmUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlcklubGluZSkgPyBhdHRycy5jb2xvcnBpY2tlcklubGluZSA6IGZhbHNlLFxuICAgICAgICAgICAgICBmaXhlZFBvc2l0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY29sb3JwaWNrZXJGaXhlZFBvc2l0aW9uKSA/IGF0dHJzLmNvbG9ycGlja2VyRml4ZWRQb3NpdGlvbiA6IGZhbHNlLFxuICAgICAgICAgICAgICB0YXJnZXQgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlclBhcmVudCkgPyBlbGVtLnBhcmVudCgpIDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuICAgICAgICAgICAgICB3aXRoSW5wdXQgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlcldpdGhJbnB1dCkgPyBhdHRycy5jb2xvcnBpY2tlcldpdGhJbnB1dCA6IGZhbHNlLFxuICAgICAgICAgICAgICBpbnB1dFRlbXBsYXRlID0gd2l0aElucHV0ID8gJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJjb2xvcnBpY2tlci1pbnB1dFwiIHNwZWxsY2hlY2s9XCJmYWxzZVwiPicgOiAnJyxcbiAgICAgICAgICAgICAgY2xvc2VCdXR0b24gPSAhaW5saW5lID8gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2UgY2xvc2UtY29sb3JwaWNrZXJcIj4mdGltZXM7PC9idXR0b24+JyA6ICcnLFxuICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IGlzQmFja2dyb3VuZFNldHRpbmcgP1xuICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2xvcnBpY2tlciBkcm9wZG93blwiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1zYXR1cmF0aW9uPjxpPjwvaT48L2NvbG9ycGlja2VyLXNhdHVyYXRpb24+JyArXG4gICAgICAgICAgICAgICAgICAgICc8Y29sb3JwaWNrZXItaHVlPjxpPjwvaT48L2NvbG9ycGlja2VyLWh1ZT4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1hbHBoYT48aT48L2k+PC9jb2xvcnBpY2tlci1hbHBoYT4nICtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUZW1wbGF0ZSArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbG9ycGlja2VyIGRyb3Bkb3duXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1zYXR1cmF0aW9uPjxpPjwvaT48L2NvbG9ycGlja2VyLXNhdHVyYXRpb24+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1odWU+PGk+PC9pPjwvY29sb3JwaWNrZXItaHVlPicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8Y29sb3JwaWNrZXItYWxwaGE+PGk+PC9pPjwvY29sb3JwaWNrZXItYWxwaGE+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1wcmV2aWV3PjwvY29sb3JwaWNrZXItcHJldmlldz4nICtcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRlbXBsYXRlICtcbiAgICAgICAgICAgICAgICAgICAgICBjbG9zZUJ1dHRvbiArXG4gICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlID0gYW5ndWxhci5lbGVtZW50KHRlbXBsYXRlKSxcbiAgICAgICAgICAgICAgcGlja2VyQ29sb3IgPSBDb2xvcixcbiAgICAgICAgICAgICAgc2xpZGVyQWxwaGEsXG4gICAgICAgICAgICAgIHNsaWRlckh1ZSA9IGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnY29sb3JwaWNrZXItaHVlJyksXG4gICAgICAgICAgICAgIHNsaWRlclNhdHVyYXRpb24gPSBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2NvbG9ycGlja2VyLXNhdHVyYXRpb24nKSxcbiAgICAgICAgICAgICAgY29sb3JwaWNrZXJQcmV2aWV3ID0gY29sb3JwaWNrZXJUZW1wbGF0ZS5maW5kKCdjb2xvcnBpY2tlci1wcmV2aWV3JyksXG4gICAgICAgICAgICAgIHBpY2tlckNvbG9yUG9pbnRlcnMgPSBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2knKTtcblxuICAgICAgICAgICRjb21waWxlKGNvbG9ycGlja2VyVGVtcGxhdGUpKCRzY29wZSk7XG5cbiAgICAgICAgICBpZiAod2l0aElucHV0KSB7XG4gICAgICAgICAgICB2YXIgcGlja2VyQ29sb3JJbnB1dCA9IGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnaW5wdXQnKTtcbiAgICAgICAgICAgIHBpY2tlckNvbG9ySW5wdXRcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub24oJ2tleXVwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0NvbG9yID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICAgICBlbGVtLnZhbChuZXdDb2xvcik7XG4gICAgICAgICAgICAgICAgaWYgKG5nTW9kZWwgJiYgbmdNb2RlbC4kbW9kZWxWYWx1ZSAhPT0gbmV3Q29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkobmdNb2RlbC4kc2V0Vmlld1ZhbHVlKG5ld0NvbG9yKSk7XG4gICAgICAgICAgICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBiaW5kTW91c2VFdmVudHMoKSB7XG4gICAgICAgICAgICAkZG9jdW1lbnQub24oJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XG4gICAgICAgICAgICAkZG9jdW1lbnQub24oJ21vdXNldXAnLCBtb3VzZXVwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpc0Zvcm1hdCA9PT0gJ3JnYmEnKSB7XG4gICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLmFkZENsYXNzKCdhbHBoYScpO1xuICAgICAgICAgICAgc2xpZGVyQWxwaGEgPSBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2NvbG9ycGlja2VyLWFscGhhJyk7XG4gICAgICAgICAgICBzbGlkZXJBbHBoYVxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgU2xpZGVyLnNldEFscGhhKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgIG1vdXNlbW92ZShldmVudCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICBTbGlkZXIuc2V0QWxwaGEoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgYmluZE1vdXNlRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oJ21vdXNldXAnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgICBlbWl0RXZlbnQoJ2NvbG9ycGlja2VyLXNlbGVjdGVkLWFscGhhJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2xpZGVySHVlXG4gICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIFNsaWRlci5zZXRIdWUoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIG1vdXNlbW92ZShldmVudCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBTbGlkZXIuc2V0SHVlKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBiaW5kTW91c2VFdmVudHMoKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGVtaXRFdmVudCgnY29sb3JwaWNrZXItc2VsZWN0ZWQtaHVlJyk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2xpZGVyU2F0dXJhdGlvblxuICAgICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBTbGlkZXIuc2V0U2F0dXJhdGlvbihldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgbW91c2Vtb3ZlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY29sb3JwaWNrZXJDbG9zZU9uU2VsZWN0KSkge1xuICAgICAgICAgICAgICAgICAgaGlkZUNvbG9ycGlja2VyVGVtcGxhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBTbGlkZXIuc2V0U2F0dXJhdGlvbihldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgYmluZE1vdXNlRXZlbnRzKCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbignbW91c2V1cCcsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBlbWl0RXZlbnQoJ2NvbG9ycGlja2VyLXNlbGVjdGVkLXNhdHVyYXRpb24nKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoZml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5hZGRDbGFzcygnY29sb3JwaWNrZXItZml4ZWQtcG9zaXRpb24nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLmFkZENsYXNzKCdjb2xvcnBpY2tlci1wb3NpdGlvbi0nICsgcG9zaXRpb24pO1xuICAgICAgICAgIGlmIChpbmxpbmUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5hZGRDbGFzcygnY29sb3JwaWNrZXItaW5saW5lJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGFyZ2V0LmFwcGVuZChjb2xvcnBpY2tlclRlbXBsYXRlKTtcblxuICAgICAgICAgIGlmIChuZ01vZGVsKSB7XG4gICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGVsZW0udmFsKG5nTW9kZWwuJHZpZXdWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW0ub24oJ2JsdXIga2V5dXAgY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGVsZW0ub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLnJlbW92ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZnVuY3Rpb24gcHJldmlld0NvbG9yKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29sb3JwaWNrZXJQcmV2aWV3LmNzcygnYmFja2dyb3VuZENvbG9yJywgcGlja2VyQ29sb3JbdGhpc0Zvcm1hdF0oKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbG9ycGlja2VyUHJldmlldy5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHBpY2tlckNvbG9yLnRvSGV4KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2xpZGVyU2F0dXJhdGlvbi5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHBpY2tlckNvbG9yLnRvSGV4KHBpY2tlckNvbG9yLnZhbHVlLmgsIDEsIDEsIDEpKTtcbiAgICAgICAgICAgIGlmICh0aGlzRm9ybWF0ID09PSAncmdiYScpIHtcbiAgICAgICAgICAgICAgc2xpZGVyQWxwaGEuY3NzLmJhY2tncm91bmRDb2xvciA9IHBpY2tlckNvbG9yLnRvSGV4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gbW91c2Vtb3ZlKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgbGVmdCA9IFNsaWRlci5nZXRMZWZ0UG9zaXRpb24oZXZlbnQpLFxuICAgICAgICAgICAgICAgIHRvcCA9IFNsaWRlci5nZXRUb3BQb3NpdGlvbihldmVudCksXG4gICAgICAgICAgICAgICAgc2xpZGVyID0gU2xpZGVyLmdldFNsaWRlcigpO1xuXG4gICAgICAgICAgICBTbGlkZXIuc2V0S25vYih0b3AsIGxlZnQpO1xuXG4gICAgICAgICAgICBpZiAoc2xpZGVyLmNhbGxMZWZ0KSB7XG4gICAgICAgICAgICAgIHBpY2tlckNvbG9yW3NsaWRlci5jYWxsTGVmdF0uY2FsbChwaWNrZXJDb2xvciwgbGVmdCAvIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2xpZGVyLmNhbGxUb3ApIHtcbiAgICAgICAgICAgICAgcGlja2VyQ29sb3Jbc2xpZGVyLmNhbGxUb3BdLmNhbGwocGlja2VyQ29sb3IsIHRvcCAvIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aWV3Q29sb3IoKTtcbiAgICAgICAgICAgIHZhciBuZXdDb2xvciA9IHBpY2tlckNvbG9yW3RoaXNGb3JtYXRdKCk7XG4gICAgICAgICAgICBlbGVtLnZhbChuZXdDb2xvcik7XG4gICAgICAgICAgICBpZiAobmdNb2RlbCkge1xuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KG5nTW9kZWwuJHNldFZpZXdWYWx1ZShuZXdDb2xvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdpdGhJbnB1dCkge1xuICAgICAgICAgICAgICBwaWNrZXJDb2xvcklucHV0LnZhbChuZXdDb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gbW91c2V1cCgpIHtcbiAgICAgICAgICAgIGVtaXRFdmVudCgnY29sb3JwaWNrZXItc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICRkb2N1bWVudC5vZmYoJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XG4gICAgICAgICAgICAkZG9jdW1lbnQub2ZmKCdtb3VzZXVwJywgbW91c2V1cCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdXBkYXRlKG9taXRJbm5lcklucHV0KSB7XG4gICAgICAgICAgICBwaWNrZXJDb2xvci5zZXRDb2xvcihlbGVtLnZhbCgpKTtcbiAgICAgICAgICAgIGlmICh3aXRoSW5wdXQgJiYgIW9taXRJbm5lcklucHV0KSB7XG4gICAgICAgICAgICAgIHBpY2tlckNvbG9ySW5wdXQudmFsKGVsZW0udmFsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGlja2VyQ29sb3JQb2ludGVycy5lcSgwKS5jc3Moe1xuICAgICAgICAgICAgICBsZWZ0OiBwaWNrZXJDb2xvci52YWx1ZS5zICogMTAwICsgJ3B4JyxcbiAgICAgICAgICAgICAgdG9wOiAxMDAgLSBwaWNrZXJDb2xvci52YWx1ZS5iICogMTAwICsgJ3B4J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwaWNrZXJDb2xvclBvaW50ZXJzLmVxKDEpLmNzcygndG9wJywgMTAwICogKDEgLSBwaWNrZXJDb2xvci52YWx1ZS5oKSArICdweCcpO1xuICAgICAgICAgICAgcGlja2VyQ29sb3JQb2ludGVycy5lcSgyKS5jc3MoJ3RvcCcsIDEwMCAqICgxIC0gcGlja2VyQ29sb3IudmFsdWUuYSkgKyAncHgnKTtcbiAgICAgICAgICAgIHByZXZpZXdDb2xvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGdldENvbG9ycGlja2VyVGVtcGxhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uVmFsdWUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb25PZmZzZXQgPSBIZWxwZXIuZ2V0T2Zmc2V0KGVsZW1bMF0pO1xuXG4gICAgICAgICAgICBpZihhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlclBhcmVudCkpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25PZmZzZXQubGVmdCA9IDA7XG4gICAgICAgICAgICAgIHBvc2l0aW9uT2Zmc2V0LnRvcCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25WYWx1ZSA9ICB7XG4gICAgICAgICAgICAgICAgJ3RvcCc6IHBvc2l0aW9uT2Zmc2V0LnRvcCAtIDE0NyxcbiAgICAgICAgICAgICAgICAnbGVmdCc6IHBvc2l0aW9uT2Zmc2V0LmxlZnRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25WYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAndG9wJzogcG9zaXRpb25PZmZzZXQudG9wLFxuICAgICAgICAgICAgICAgICdsZWZ0JzogcG9zaXRpb25PZmZzZXQubGVmdCArIDEyNlxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25WYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAndG9wJzogcG9zaXRpb25PZmZzZXQudG9wICsgZWxlbVswXS5vZmZzZXRIZWlnaHQgKyAyLFxuICAgICAgICAgICAgICAgICdsZWZ0JzogcG9zaXRpb25PZmZzZXQubGVmdFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgJ3RvcCc6IHBvc2l0aW9uT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgICAgICAnbGVmdCc6IHBvc2l0aW9uT2Zmc2V0LmxlZnQgLSAxNTBcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICd0b3AnOiBwb3NpdGlvblZhbHVlLnRvcCArICdweCcsXG4gICAgICAgICAgICAgICdsZWZ0JzogcG9zaXRpb25WYWx1ZS5sZWZ0ICsgJ3B4J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBkb2N1bWVudE1vdXNlZG93bkhhbmRsZXIoKSB7XG4gICAgICAgICAgICBoaWRlQ29sb3JwaWNrZXJUZW1wbGF0ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHNob3dDb2xvcnBpY2tlclRlbXBsYXRlKCkge1xuXG4gICAgICAgICAgICBpZiAoIWNvbG9ycGlja2VyVGVtcGxhdGUuaGFzQ2xhc3MoJ2NvbG9ycGlja2VyLXZpc2libGUnKSkge1xuICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnY29sb3JwaWNrZXItdmlzaWJsZScpXG4gICAgICAgICAgICAgICAgLmNzcyhnZXRDb2xvcnBpY2tlclRlbXBsYXRlUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgIGVtaXRFdmVudCgnY29sb3JwaWNrZXItc2hvd24nKTtcblxuICAgICAgICAgICAgICBpZiAoaW5saW5lID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGdsb2JhbCBtb3VzZWRvd24gZXZlbnQgdG8gaGlkZSB0aGUgY29sb3JwaWNrZXJcbiAgICAgICAgICAgICAgICAkZG9jdW1lbnQub24oJ21vdXNlZG93bicsIGRvY3VtZW50TW91c2Vkb3duSGFuZGxlcik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoYXR0cnMuY29sb3JwaWNrZXJJc09wZW4pIHtcbiAgICAgICAgICAgICAgICAkc2NvcGVbYXR0cnMuY29sb3JwaWNrZXJJc09wZW5dID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpOyAvL3RyaWdnZXIgdGhlIHdhdGNoZXIgdG8gZmlyZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbmxpbmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlbGVtLm9uKCdjbGljaycsIHNob3dDb2xvcnBpY2tlclRlbXBsYXRlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hvd0NvbG9ycGlja2VyVGVtcGxhdGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGVtaXRFdmVudChuYW1lKSB7XG4gICAgICAgICAgICBpZiAobmdNb2RlbCkge1xuICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQobmFtZSwge1xuICAgICAgICAgICAgICAgIG5hbWU6IGF0dHJzLm5nTW9kZWwsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5nTW9kZWwuJG1vZGVsVmFsdWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gaGlkZUNvbG9ycGlja2VyVGVtcGxhdGUoKSB7XG4gICAgICAgICAgICBpZiAoY29sb3JwaWNrZXJUZW1wbGF0ZS5oYXNDbGFzcygnY29sb3JwaWNrZXItdmlzaWJsZScpKSB7XG4gICAgICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUucmVtb3ZlQ2xhc3MoJ2NvbG9ycGlja2VyLXZpc2libGUnKTtcbiAgICAgICAgICAgICAgZW1pdEV2ZW50KCdjb2xvcnBpY2tlci1jbG9zZWQnKTtcbiAgICAgICAgICAgICAgLy8gdW5yZWdpc3RlciB0aGUgZ2xvYmFsIG1vdXNlZG93biBldmVudFxuICAgICAgICAgICAgICAkZG9jdW1lbnQub2ZmKCdtb3VzZWRvd24nLCBkb2N1bWVudE1vdXNlZG93bkhhbmRsZXIpO1xuXG4gICAgICAgICAgICAgIGlmIChhdHRycy5jb2xvcnBpY2tlcklzT3Blbikge1xuICAgICAgICAgICAgICAgICRzY29wZVthdHRycy5jb2xvcnBpY2tlcklzT3Blbl0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpOyAvL3RyaWdnZXIgdGhlIHdhdGNoZXIgdG8gZmlyZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaGlkZUNvbG9ycGlja2VyVGVtcGxhdGUoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChhdHRycy5jb2xvcnBpY2tlcklzT3Blbikge1xuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChhdHRycy5jb2xvcnBpY2tlcklzT3BlbiwgZnVuY3Rpb24oc2hvdWxkQmVPcGVuKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHNob3VsZEJlT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNob3dDb2xvcnBpY2tlclRlbXBsYXRlKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkQmVPcGVuID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGhpZGVDb2xvcnBpY2tlclRlbXBsYXRlKCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcblxuaWYodHlwZW9mIFRFTVBMQVRFUyA9PT0gJ3VuZGVmaW5lZCcpIHt2YXIgVEVNUExBVEVTID0ge307fVxuVEVNUExBVEVTWydhbGlnbm1lbnQuaHRtbCddID0gXCI8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgYWxpZ25tZW50XFxcIj5cXG5cIiArXG4gICAgXCIgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYWxpZ25tZW50IGRyb3Bkb3duLXRvZ2dsZVxcXCJcXG5cIiArXG4gICAgXCIgICAgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJsZWZ0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLWxlZnRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIHJvbGU9XFxcIm1lbnVcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwibGVmdFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1sZWZ0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJjZW50ZXJcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tY2VudGVyXFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJyaWdodFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwianVzdGlmeVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1qdXN0aWZ5XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCI7IFxuLyogIENvcHlyaWdodCDCqSAyMDE0IFJpc2UgVmlzaW9uIEluY29ycG9yYXRlZC5cbiAqICBVc2Ugb2YgdGhpcyBzb2Z0d2FyZSBpcyBnb3Zlcm5lZCBieSB0aGUgR1BMdjMgbGljZW5zZVxuICogIChyZXByb2R1Y2VkIGluIHRoZSBMSUNFTlNFIGZpbGUpLlxuICovXG5cbi8qIGdsb2JhbCBURU1QTEFURVMgKi9cbjsoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIFRFTVBMQVRFUywgdW5kZWZpbmVkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfcGx1Z2luTmFtZSA9IFwiYWxpZ25tZW50XCI7XG5cbiAgZnVuY3Rpb24gUGx1Z2luKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgIHZhciAkYnRuQWxpZ25tZW50ID0gbnVsbDtcbiAgICB2YXIgZGVmYXVsdEFsaWdubWVudCA9IFwibGVmdFwiO1xuXG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB7IFwiYWxpZ25cIjogZGVmYXVsdEFsaWdubWVudCB9LCBvcHRpb25zKTtcblxuICAgIC8qXG4gICAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgICAgLy8gR2V0IHRoZSBIVE1MIG1hcmt1cCBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICRlbGVtZW50LmFwcGVuZChURU1QTEFURVNbXCJhbGlnbm1lbnQuaHRtbFwiXSk7XG4gICAgICAkYnRuQWxpZ25tZW50ID0gJGVsZW1lbnQuZmluZChcIi5idG4tYWxpZ25tZW50XCIpO1xuXG4gICAgICBzZXRBbGlnbm1lbnQob3B0aW9ucy5hbGlnbik7XG5cbiAgICAgICRlbGVtZW50LmZpbmQoXCIuZHJvcGRvd24tbWVudSBidXR0b25cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFsaWdubWVudCA9ICQodGhpcykuZGF0YShcInd5c2lodG1sNS1jb21tYW5kLXZhbHVlXCIpO1xuXG4gICAgICAgIHNldEFsaWdubWVudChhbGlnbm1lbnQpO1xuICAgICAgICAkZWxlbWVudC50cmlnZ2VyKFwiYWxpZ25tZW50Q2hhbmdlZFwiLCBhbGlnbm1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGlnbm1lbnQoKSB7XG4gICAgIHJldHVybiAkYnRuQWxpZ25tZW50LmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRBbGlnbm1lbnQoYWxpZ25tZW50KSB7XG4gICAgICB2YXIgJHByaW1hcnlJY29uID0gJGVsZW1lbnQuZmluZChcIi5idG4tYWxpZ25tZW50IC5mYVwiKTtcbiAgICAgIHZhciBjdXJyZW50Q2xhc3MgPSAkcHJpbWFyeUljb24uYXR0cihcImNsYXNzXCIpLm1hdGNoKC9mYS1hbGlnbi1bYS16XSsvZyk7XG4gICAgICB2YXIgbmV3Q2xhc3MgPSBcImZhLWFsaWduLVwiICsgYWxpZ25tZW50O1xuXG4gICAgICAvLyBSZW1vdmUgY3VycmVudCBhbGlnbm1lbnQgaWNvbi5cbiAgICAgIGlmIChjdXJyZW50Q2xhc3MgJiYgY3VycmVudENsYXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJHByaW1hcnlJY29uLnJlbW92ZUNsYXNzKGN1cnJlbnRDbGFzc1swXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBuZXcgYWxpZ25tZW50IGljb24uXG4gICAgICAkcHJpbWFyeUljb24uYWRkQ2xhc3MobmV3Q2xhc3MpO1xuICAgICAgJGJ0bkFsaWdubWVudC5kYXRhKFwid3lzaWh0bWw1LWNvbW1hbmQtdmFsdWVcIiwgYWxpZ25tZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHNldEFsaWdubWVudChkZWZhdWx0QWxpZ25tZW50KTtcbiAgICB9XG5cbiAgICBfaW5pdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldEFsaWdubWVudDogZ2V0QWxpZ25tZW50LFxuICAgICAgc2V0QWxpZ25tZW50OiBzZXRBbGlnbm1lbnQsXG4gICAgICByZXNldDogICAgICAgIHJlc2V0XG4gICAgfTtcbiAgfVxuXG4gIC8qXG4gICAqICBBIGxpZ2h0d2VpZ2h0IHBsdWdpbiB3cmFwcGVyIGFyb3VuZCB0aGUgY29uc3RydWN0b3IgdGhhdCBwcmV2ZW50c1xuICAgKiAgbXVsdGlwbGUgaW5zdGFudGlhdGlvbnMuXG4gICAqL1xuICAkLmZuLmFsaWdubWVudCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCEkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBfcGx1Z2luTmFtZSkpIHtcbiAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50LCBURU1QTEFURVMpO1xuXG4vKiBleHBvcnRlZCBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHICovXG52YXIgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyA9IHtcbiAgXCJmYW1pbGllc1wiOiBcIkFuZGFsZSBNb25vPWFuZGFsZSBtb25vLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIkFyaWFsPWFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiQXJpYWwgQmxhY2s9YXJpYWwgYmxhY2ssc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkJvb2sgQW50aXF1YT1ib29rIGFudGlxdWEscGFsYXRpbm8sc2VyaWY7XCIgK1xuICAgICAgXCJDb21pYyBTYW5zIE1TPWNvbWljIHNhbnMgbXMsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkNvdXJpZXIgTmV3PWNvdXJpZXIgbmV3LGNvdXJpZXIsbW9ub3NwYWNlO1wiICtcbiAgICAgIFwiR2VvcmdpYT1nZW9yZ2lhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICAgIFwiSGVsdmV0aWNhPWhlbHZldGljYSxhcmlhbCxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiSW1wYWN0PWltcGFjdCxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiU3ltYm9sPXN5bWJvbDtcIiArXG4gICAgICBcIlRhaG9tYT10YWhvbWEsYXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJUZXJtaW5hbD10ZXJtaW5hbCxtb25hY28sbW9ub3NwYWNlO1wiICtcbiAgICAgIFwiVGltZXMgTmV3IFJvbWFuPXRpbWVzIG5ldyByb21hbix0aW1lcyxzZXJpZjtcIiArXG4gICAgICBcIlRyZWJ1Y2hldCBNUz10cmVidWNoZXQgbXMsZ2VuZXZhLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJWZXJkYW5hPXZlcmRhbmEsZ2VuZXZhLHNhbnMtc2VyaWY7XCIsXG4gIFwic2l6ZXNcIjogXCI4cHggOXB4IDEwcHggMTFweCAxMnB4IDE0cHggMThweCAyNHB4IDMwcHggMzZweCA0OHB4IDYwcHggNzJweCA5NnB4XCJcbn07XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiLCBbXG4gICAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gICAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiXG4gIF0pXG4gICAgLmRpcmVjdGl2ZShcInVybEZpZWxkXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiJGxvZ1wiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUsICRsb2cpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgcmVxdWlyZTogXCI/bmdNb2RlbFwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHVybDogXCI9XCIsXG4gICAgICAgICAgaGlkZUxhYmVsOiBcIkBcIixcbiAgICAgICAgICBmaWxlVHlwZTogXCJAXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL3VybC1maWVsZC91cmwtZmllbGQuaHRtbFwiKSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuXG4gICAgICAgICAgZnVuY3Rpb24gaGFzVmFsaWRFeHRlbnNpb24odXJsLCBmaWxlVHlwZSkge1xuICAgICAgICAgICAgdmFyIHRlc3RVcmwgPSB1cmwudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgZXh0ZW5zaW9ucztcblxuICAgICAgICAgICAgc3dpdGNoKGZpbGVUeXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXCIuanBnXCIsIFwiLmpwZWdcIiwgXCIucG5nXCIsIFwiLmJtcFwiLCBcIi5zdmdcIiwgXCIuZ2lmXCJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidmlkZW9cIjpcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gW1wiLndlYm1cIiwgXCIubXA0XCIsIFwiLm9ndlwiLCBcIi5vZ2dcIl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXh0ZW5zaW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICBpZiAodGVzdFVybC5pbmRleE9mKGV4dGVuc2lvbnNbaV0pICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBVUkwgcG9pbnRzIHRvIGEgdmFsaWQgaW1hZ2UgZmlsZS5cbiAgICAgICAgICBmdW5jdGlvbiB0ZXN0SW1hZ2UoKSB7XG4gICAgICAgICAgICBpZiAoKHNjb3BlLmZpbGVUeXBlICE9PSBcInVuZGVmaW5lZFwiKSAmJiAoc2NvcGUudXJsICE9PSBcInVuZGVmaW5lZFwiKSkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuZmlsZVR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gc2NvcGUuZmlsZVR5cGU7XG4gICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gc2NvcGUudXJsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdGVzdFVybCh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHVybFJlZ0V4cCxcbiAgICAgICAgICAgICAgaXNWYWxpZDtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICBEaXNjdXNzaW9uXG4gICAgICAgICAgICAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNzY4NC9ob3ctdG8tcmVwbGFjZS1wbGFpbi11cmxzLXdpdGgtbGlua3MjMjE5MjU0OTFcblxuICAgICAgICAgICAgIFVzaW5nXG4gICAgICAgICAgICAgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZHBlcmluaS83MjkyOTRcbiAgICAgICAgICAgICBSZWFzb25pbmdcbiAgICAgICAgICAgICBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleCAqL1xuXG4gICAgICAgICAgICB1cmxSZWdFeHAgPSAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1teXFxzXSopPyQvaTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAgICAgICAgIC8vIEFkZCBodHRwOi8vIGlmIG5vIHByb3RvY29sIHBhcmFtZXRlciBleGlzdHNcbiAgICAgICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiOi8vXCIpID09PSAtMSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IFwiaHR0cDovL1wiICsgdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlzVmFsaWQgPSB1cmxSZWdFeHAudGVzdCh2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkICYmIHR5cGVvZiBzY29wZS5maWxlVHlwZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICBpc1ZhbGlkID0gaGFzVmFsaWRFeHRlbnNpb24odmFsdWUsIHNjb3BlLmZpbGVUeXBlKTtcbiAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBzY29wZS5maWxlVHlwZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgICB0ZXN0SW1hZ2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQnkgZGVmYXVsdCBlbmZvcmNlIHZhbGlkYXRpb25cbiAgICAgICAgICBzY29wZS5kb1ZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICAgIC8vIEEgZmxhZyB0byBzZXQgaWYgdGhlIHVzZXIgdHVybmVkIG9mZiB2YWxpZGF0aW9uXG4gICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAvLyBWYWxpZGF0aW9uIHN0YXRlXG4gICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuXG4gICAgICAgICAgc2NvcGUuYWxsb3dJbml0RW1wdHkgPSAodHlwZW9mIGF0dHJzLmluaXRFbXB0eSAhPT0gXCJ1bmRlZmluZWRcIik7XG5cbiAgICAgICAgICBzY29wZS5ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS4kZW1pdChcInVybEZpZWxkQmx1clwiKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwidXJsXCIsIGZ1bmN0aW9uICh1cmwpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09IFwidW5kZWZpbmVkXCIgJiYgdXJsICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHVybCAhPT0gXCJcIiAmJiBzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBhbiBlbXB0eSBcIlwiIHZhbHVlIG5vdyBnZXRzIHZhbGlkYXRlZFxuICAgICAgICAgICAgICAgIHNjb3BlLmFsbG93SW5pdEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoc2NvcGUuZG9WYWxpZGF0aW9uICYmICFzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdGVzdFVybChzY29wZS51cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJ2YWxpZFwiLCBmdW5jdGlvbiAodmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChjdHJsKSB7XG4gICAgICAgICAgICAgICRsb2cuaW5mbyhcIkNhbGxpbmcgJHNldFZhbGlkaXR5KCkgb24gcGFyZW50IGNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KFwidmFsaWRcIiwgdmFsaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwiZG9WYWxpZGF0aW9uXCIsIGZ1bmN0aW9uIChkb1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBzY29wZS51cmwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgaWYgKGRvVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcmNlZFZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRlc3RVcmwoc2NvcGUudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvdXJsLWZpZWxkL3VybC1maWVsZC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiA+XFxuXCIgK1xuICAgIFwiICA8bGFiZWwgbmctaWY9XFxcIiFoaWRlTGFiZWxcXFwiPnt7IFxcXCJ1cmwubGFiZWxcXFwiIHwgdHJhbnNsYXRlIH19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgIDxkaXY+XFxuXCIgK1xuICAgIFwiICAgIDxpbnB1dCBuYW1lPVxcXCJ1cmxcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJ1cmxcXFwiIG5nLWJsdXI9XFxcImJsdXIoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcImh0dHA6Ly9cXFwiPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndXJsJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy51cmxcXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ2ltYWdlJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy5pbWFnZVxcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndmlkZW8nXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7IFxcXCJ1cmwuZXJyb3JzLnZpZGVvXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIiBuZy1zaG93PVxcXCJmb3JjZWRWYWxpZCB8fCAhdmFsaWRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPGlucHV0IG5hbWU9XFxcInZhbGlkYXRlLXVybFxcXCIgbmctY2xpY2s9XFxcImRvVmFsaWRhdGlvbiA9ICFkb1ZhbGlkYXRpb25cXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICB2YWx1ZT1cXFwidmFsaWRhdGUtdXJsXFxcIj4ge3tcXFwidXJsLnZhbGlkYXRlLmxhYmVsXFxcIiB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4vKiBnbG9iYWwgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIsIFtcbiAgICAgIFwiYW5ndWxhckxvYWRcIixcbiAgICAgIFwidWkudGlueW1jZVwiLFxuICAgICAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gICAgICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIlxuICAgIF0pXG4gICAgLmRpcmVjdGl2ZShcImZvbnRTZXR0aW5nXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiJGxvZ1wiLCBcIiR3aW5kb3dcIiwgXCJnb29nbGVGb250TG9hZGVyXCIsXG4gICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCAkbG9nLCAkd2luZG93LCBnb29nbGVGb250TG9hZGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIGZvbnREYXRhOiBcIj1cIixcbiAgICAgICAgICBwcmV2aWV3VGV4dDogXCJAXCIsXG4gICAgICAgICAgdmVydGljYWxBbGlnbjogXCJAXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL2ZvbnQtc2V0dGluZy9mb250LXNldHRpbmcuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpLFxuICAgICAgICAgICAgJGN1c3RvbUZvbnQgPSAkZWxlbWVudC5maW5kKFwiLmN1c3RvbS1mb250XCIpLFxuICAgICAgICAgICAgJGN1c3RvbUZvbnRTaXplID0gJGVsZW1lbnQuZmluZChcIi5jdXN0b20tZm9udC1zaXplXCIpLFxuICAgICAgICAgICAgX2lzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAkc2NvcGUuZ29vZ2xlRm9udExpc3QgPSBcIlwiO1xuXG4gICAgICAgICAgJHNjb3BlLmRlZmF1bHRGb250ID0ge1xuICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICBmYW1pbHk6IFwidmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICB0eXBlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgIHVybDogXCJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IFwiMjRweFwiLFxuICAgICAgICAgICAgY3VzdG9tU2l6ZTogXCJcIixcbiAgICAgICAgICAgIGFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgICAgICBib2xkOiBmYWxzZSxcbiAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgZm9yZWNvbG9yOiBcImJsYWNrXCIsXG4gICAgICAgICAgICBiYWNrY29sb3I6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBMb2FkIEdvb2dsZSBmb250cy5cbiAgICAgICAgICBnb29nbGVGb250TG9hZGVyLmdldEZvbnRzKCkudGhlbihmdW5jdGlvbihmb250cykge1xuICAgICAgICAgICAgJHNjb3BlLmdvb2dsZUZvbnRMaXN0ID0gZm9udHM7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkc2NvcGUuY3VzdG9tRm9udFNpemUgPSBudWxsO1xuXG4gICAgICAgICAgLy8gQXBwbHkgY3VzdG9tIGZvbnQgdG8gcHJldmlldyB0ZXh0LlxuICAgICAgICAgICRzY29wZS5hcHBseUN1c3RvbUZvbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBmYW1pbHkgPSBnZXRDdXN0b21Gb250RmFtaWx5KCk7XG5cbiAgICAgICAgICAgIGlmIChmYW1pbHkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgbG9hZEN1c3RvbUZvbnQoZmFtaWx5KTtcblxuICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9udC5mYW1pbHkgPSBmYW1pbHk7XG4gICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPSBcImN1c3RvbVwiO1xuXG4gICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoJHNjb3BlLmZvbnREYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGN1c3RvbUZvbnQubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuYXBwbHlDdXN0b21Gb250U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGN1c3RvbUZvbnRTaXplLm1vZGFsKFwiaGlkZVwiKTtcblxuICAgICAgICAgICAgaWYgKCRzY29wZS5jdXN0b21Gb250U2l6ZSAhPT0gbnVsbCAmJiAkc2NvcGUuY3VzdG9tRm9udFNpemUgPj0gOCkge1xuXG4gICAgICAgICAgICAgIGlmICgoJHNjb3BlLmN1c3RvbUZvbnRTaXplICsgXCJweFwiKSAhPT0gJHNjb3BlLmZvbnREYXRhLnNpemUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuc2l6ZSA9ICRzY29wZS5jdXN0b21Gb250U2l6ZSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgIGlmIChXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHLnNpemVzLmluZGV4T2YoJHNjb3BlLmZvbnREYXRhLnNpemUpICE9PSAtMSB8fFxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgPT09ICRzY29wZS5mb250RGF0YS5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAvLyB0ZWxsIGVkaXRvciB0byBzZWxlY3QgdGhpcyBzaXplXG4gICAgICAgICAgICAgICAgICAkd2luZG93LnRpbnltY2UuYWN0aXZlRWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udFNpemVcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS5zaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBuZXcgY3VzdG9tIGZvbnQgc2l6ZSB0byBhZGRcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5jdXN0b21TaXplID0gJHNjb3BlLmN1c3RvbUZvbnRTaXplICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdmFsdWUgb2YgZm9udF9mb3JtYXRzXG4gICAgICAgICAgICAgICAgICAkc2NvcGUudGlueW1jZU9wdGlvbnMuZm9udHNpemVfZm9ybWF0cyA9IFwiQ3VzdG9tIFwiICtcbiAgICAgICAgICAgICAgICAgICAgKCgkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSAhPT0gXCJcIikgPyAkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSArIFwiIFwiIDogXCJcIikgICtcbiAgICAgICAgICAgICAgICAgICAgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5zaXplcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZXNldCBtb2RhbCBpbnB1dCBzaXplIHZhbHVlXG4gICAgICAgICAgICAkc2NvcGUuY3VzdG9tRm9udFNpemUgPSBudWxsO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuZGVmYXVsdHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKG9ialtwcm9wXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciB3YXRjaCA9ICRzY29wZS4kd2F0Y2hHcm91cChbXCJmb250RGF0YVwiLFwiZ29vZ2xlRm9udExpc3RcIl0sIGZ1bmN0aW9uKG5ld1ZhbHVlcykge1xuICAgICAgICAgICAgdmFyIGZhbWlseSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgZm9udERhdGEgPSBuZXdWYWx1ZXNbMF07XG4gICAgICAgICAgICB2YXIgZ29vZ2xlRm9udExpc3QgPSBuZXdWYWx1ZXNbMV07XG4gICAgICAgICAgICBpZiAoZm9udERhdGEgJiYgZ29vZ2xlRm9udExpc3QpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRlZmF1bHRzKGZvbnREYXRhLCAkc2NvcGUuZGVmYXVsdEZvbnQpO1xuXG4gICAgICAgICAgICAgIC8vIExvYWQgY3VzdG9tIGZvbnQuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcbiAgICAgICAgICAgICAgICBmYW1pbHkgPSBnZXRDdXN0b21Gb250RmFtaWx5KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmFtaWx5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBsb2FkQ3VzdG9tRm9udChmYW1pbHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoZm9udERhdGEpO1xuICAgICAgICAgICAgICBpbml0VGlueU1DRSgpO1xuICAgICAgICAgICAgICB3YXRjaCgpO1xuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUucHJldmlld1RleHQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKFwiZm9udERhdGFcIiwgdXBkYXRlUHJldmlldywgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJ0aW55bWNlT3B0aW9ucy5mb250c2l6ZV9mb3JtYXRzXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhX2lzTG9hZGluZykge1xuICAgICAgICAgICAgICAvLyBsZXZlcmFnZSB1aS10aW55bWNlIHdvcmthcm91bmQgb2YgcmVmcmVzaGluZyBlZGl0b3JcbiAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoXCIkdGlueW1jZTpyZWZyZXNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSBUaW55TUNFLlxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRUaW55TUNFKCkge1xuICAgICAgICAgICAgJHNjb3BlLnRpbnltY2VPcHRpb25zID0ge1xuICAgICAgICAgICAgICBmb250X2Zvcm1hdHM6IFwiVXNlIEN1c3RvbSBGb250PWN1c3RvbTtcIiArIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuZmFtaWxpZXMgKyAkc2NvcGUuZ29vZ2xlRm9udExpc3QsXG4gICAgICAgICAgICAgIGZvbnRzaXplX2Zvcm1hdHM6IFwiQ3VzdG9tIFwiICtcbiAgICAgICAgICAgICAgICAoKCRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICE9PSBcIlwiKSA/ICRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICsgXCIgXCIgOiBcIlwiKSAgK1xuICAgICAgICAgICAgICAgIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuc2l6ZXMsXG4gICAgICAgICAgICAgIG1lbnViYXI6IGZhbHNlLFxuICAgICAgICAgICAgICBwbHVnaW5zOiBcInRleHRjb2xvciBjb2xvcnBpY2tlclwiLFxuICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgV2hlbiB0ZXN0aW5nIHRoaXMgdmlhIGxvY2FsIHNlcnZlciwgQ09SUyB3aWxsIGJlIHJlcXVpcmVkLiBIYW5keSBDT1JTIENocm9tZSBleHRlbnNpb24gY2FuIGJlIGZvdW5kIGhlcmVcbiAgICAgICAgICAgICAgIGh0dHBzOi8vY2hyb21lLmdvb2dsZS5jb20vd2Vic3RvcmUvZGV0YWlsL2FsbG93LWNvbnRyb2wtYWxsb3ctb3JpZ2kvbmxmYm1ib2pwZWFjZmdoa3BiamhkZGlobGtraWxqYmk/aGw9ZW5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIHNraW5fdXJsOiBcIi8vczMuYW1hem9uYXdzLmNvbS9yaXNlLWNvbW1vbi9zdHlsZXMvdGlueW1jZS9yaXNlXCIsXG4gICAgICAgICAgICAgIHN0YXR1c2JhcjogZmFsc2UsXG4gICAgICAgICAgICAgIHRvb2xiYXI6IFwiZm9udHNlbGVjdCBmb250c2l6ZXNlbGVjdCB8IGFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0IGFsaWduanVzdGlmeVwiICtcbiAgICAgICAgICAgICAgKCRzY29wZS52ZXJ0aWNhbEFsaWduID8gXCIgYWxpZ250b3AgYWxpZ25taWRkbGUgYWxpZ25ib3R0b21cIiA6IFwiXCIpICtcbiAgICAgICAgICAgICAgXCIgfCBmb3JlY29sb3IgYmFja2NvbG9yIHwgYm9sZCBpdGFsaWMgdW5kZXJsaW5lXCIsXG4gICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnZlcnRpY2FsQWxpZ24pIHtcbiAgICAgICAgICAgICAgICAgIGFkZFZlcnRpY2FsQWxpZ25CdXR0b25zKGVkaXRvcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKFwiaW5pdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGluaXRUb29sYmFyKGVkaXRvcik7XG4gICAgICAgICAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBlZGl0b3Iub24oXCJFeGVjQ29tbWFuZFwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICAgICAgICBpbml0Q29tbWFuZHMoZWRpdG9yLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaW5pdF9pbnN0YW5jZV9jYWxsYmFjazogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZEFwcGx5ID0gZWRpdG9yLmZvcm1hdHRlci5hcHBseSxcbiAgICAgICAgICAgICAgICAgIG9sZFJlbW92ZSA9IGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlIC0gaHR0cDovL2dvby5nbC81NUloV0lcbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9ybWF0dGVyLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkobmFtZSwgdmFycywgbm9kZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YXJzLnZhbHVlXG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICBvbGRBcHBseShuYW1lLCB2YXJzLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKFwiRXhlY0NvbW1hbmRcIiwgYXJncyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKHZhcnMgJiYgdmFycy52YWx1ZSkgPyB2YXJzLnZhbHVlIDogbnVsbFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgb2xkUmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoXCJFeGVjQ29tbWFuZFwiLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEluaXRpYWxpemUgVGlueU1DRSB0b29sYmFyLlxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRUb29sYmFyKGVkaXRvcikge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YSkge1xuICAgICAgICAgICAgICAvLyBGb250IEZhbWlseVxuICAgICAgICAgICAgICBpZiAoKCRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIpICYmICRzY29wZS5mb250RGF0YS5mb250LnVybCkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIkZvbnROYW1lXCIsIGZhbHNlLCBcImN1c3RvbVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250TmFtZVwiLCBmYWxzZSwgJHNjb3BlLmZvbnREYXRhLmZvbnQuZmFtaWx5KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEZvbnQgU2l6ZXNcbiAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udFNpemVcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS5zaXplKTtcblxuICAgICAgICAgICAgICAvLyBBbGlnbm1lbnRcbiAgICAgICAgICAgICAgc3dpdGNoKCRzY29wZS5mb250RGF0YS5hbGlnbikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5TGVmdFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5Q2VudGVyXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiSnVzdGlmeVJpZ2h0XCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJqdXN0aWZ5XCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5RnVsbFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBBbGlnbm1lbnRcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS52ZXJ0aWNhbEFsaWduKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS52ZXJ0aWNhbEFsaWduKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENvbG9yc1xuICAgICAgICAgICAgICAkZWxlbWVudC5maW5kKFwiLm1jZS1jb2xvcmJ1dHRvblthcmlhLWxhYmVsPSdUZXh0IGNvbG9yJ10gc3BhblwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsICRzY29wZS5mb250RGF0YS5mb3JlY29sb3IpO1xuICAgICAgICAgICAgICAkZWxlbWVudC5maW5kKFwiLm1jZS1jb2xvcmJ1dHRvblthcmlhLWxhYmVsPSdCYWNrZ3JvdW5kIGNvbG9yJ10gc3BhblwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsICRzY29wZS5mb250RGF0YS5iYWNrY29sb3IpO1xuXG4gICAgICAgICAgICAgIC8vIEZvbnQgU3R5bGVcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YS5ib2xkKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdCb2xkJ11cIikpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YS5pdGFsaWMpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0l0YWxpYyddXCIpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEudW5kZXJsaW5lKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdVbmRlcmxpbmUnXVwiKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBIYW5kbGUgdG9vbGJhciBpbnRlcmFjdGlvbnMuXG4gICAgICAgICAgZnVuY3Rpb24gaW5pdENvbW1hbmRzKGVkaXRvciwgYXJncykge1xuICAgICAgICAgICAgc3dpdGNoKGFyZ3MuY29tbWFuZCkge1xuICAgICAgICAgICAgICBjYXNlIFwiRm9udE5hbWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcImN1c3RvbVwiKSB7XG4gICAgICAgICAgICAgICAgICAkY3VzdG9tRm9udC5tb2RhbChcInNob3dcIik7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9udC5mYW1pbHkgPSBhcmdzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmZvbnQudHlwZSA9IGdldEZvbnRUeXBlKGFyZ3MudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJGb250U2l6ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MudmFsdWUgPT09IFwiQ3VzdG9tXCIpIHtcbiAgICAgICAgICAgICAgICAgICRjdXN0b21Gb250U2l6ZS5tb2RhbChcInNob3dcIik7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuc2l6ZSA9IGFyZ3MudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkp1c3RpZnlMZWZ0XCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkp1c3RpZnlDZW50ZXJcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5UmlnaHRcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYWxpZ24gPSBcInJpZ2h0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkp1c3RpZnlGdWxsXCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJqdXN0aWZ5XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIm1jZVRvZ2dsZVZlcnRpY2FsXCI6XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZVZlcnRpY2FsQnV0dG9ucyhhcmdzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEudmVydGljYWxBbGlnbiAhPT0gYXJncy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMoJHNjb3BlLmZvbnREYXRhLnZlcnRpY2FsQWxpZ24pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMoJHNjb3BlLmRlZmF1bHRGb250LnZlcnRpY2FsQWxpZ24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS52ZXJ0aWNhbEFsaWduID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC52ZXJ0aWNhbEFsaWduO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImZvcmVjb2xvclwiOlxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb3JlY29sb3IgPSAoYXJncy52YWx1ZSkgPyBhcmdzLnZhbHVlIDogJHNjb3BlLmRlZmF1bHRGb250LmZvcmVjb2xvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwiaGlsaXRlY29sb3JcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYmFja2NvbG9yID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC5iYWNrY29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIm1jZVRvZ2dsZUZvcm1hdFwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnZhbHVlID09PSBcImJvbGRcIikge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmJvbGQgPSAhJHNjb3BlLmZvbnREYXRhLmJvbGQ7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0JvbGQnXVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MudmFsdWUgPT09IFwiaXRhbGljXCIpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5pdGFsaWMgPSAhJHNjb3BlLmZvbnREYXRhLml0YWxpYztcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nSXRhbGljJ11cIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcInVuZGVybGluZVwiKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEudW5kZXJsaW5lID0gISRzY29wZS5mb250RGF0YS51bmRlcmxpbmU7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J1VuZGVybGluZSddXCIpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXBkYXRlUHJldmlldygkc2NvcGUuZm9udERhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUJ1dHRvbigkYnRuKSB7XG4gICAgICAgICAgICAkYnRuLnRvZ2dsZUNsYXNzKFwibWNlLWFjdGl2ZVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdHlsZSB0aGUgcHJldmlldyB0ZXh0LlxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByZXZpZXcoZm9udERhdGEpIHtcbiAgICAgICAgICAgIHZhciAkdGV4dENvbnRhaW5lciA9ICRlbGVtZW50LmZpbmQoXCIudGV4dC1jb250YWluZXJcIiksXG4gICAgICAgICAgICAgICR0ZXh0ID0gJGVsZW1lbnQuZmluZChcIi50ZXh0XCIpO1xuXG4gICAgICAgICAgICBpZiAoJHNjb3BlLnByZXZpZXdUZXh0ICYmIGZvbnREYXRhKSB7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImZvbnRGYW1pbHlcIiwgZm9udERhdGEuZm9udC5mYW1pbHkpO1xuICAgICAgICAgICAgICAkdGV4dC5jc3MoXCJmb250U2l6ZVwiLCBmb250RGF0YS5zaXplKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiZm9udFdlaWdodFwiLCBmb250RGF0YS5ib2xkID8gXCJib2xkXCIgOiBcIm5vcm1hbFwiKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiZm9udFN0eWxlXCIsIGZvbnREYXRhLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwidGV4dERlY29yYXRpb25cIiwgZm9udERhdGEudW5kZXJsaW5lID8gXCJ1bmRlcmxpbmVcIiA6IFwibm9uZVwiKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiY29sb3JcIiwgZm9udERhdGEuZm9yZWNvbG9yKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiYmFja2dyb3VuZENvbG9yXCIsIGZvbnREYXRhLmJhY2tjb2xvcik7XG4gICAgICAgICAgICAgICR0ZXh0Q29udGFpbmVyLmNzcyhcInRleHRBbGlnblwiLCBmb250RGF0YS5hbGlnbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoYXQgdHlwZSBvZiBmb250IHRoaXMgaXMgKHN0YW5kYXJkIG9yIGdvb2dsZSkuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0Rm9udFR5cGUoZmFtaWx5KSB7XG4gICAgICAgICAgICBpZiAoV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5mYW1pbGllcy5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgIHJldHVybiBcInN0YW5kYXJkXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkc2NvcGUuZ29vZ2xlRm9udExpc3QuaW5kZXhPZihmYW1pbHkpICE9PSAtMSkge1xuICAgICAgICAgICAgICByZXR1cm4gXCJnb29nbGVcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFwiY3VzdG9tXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCBmb250IG5hbWUgZnJvbSBmb250IFVSTC5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRDdXN0b21Gb250RmFtaWx5KCkge1xuICAgICAgICAgICAgdmFyIGZhbWlseSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcbiAgICAgICAgICAgICAgLy8gZGVjb2RlIGVzY2FwZSBzZXF1ZW5jZXMgdG8gYWNjb3VudCBmb3Igc3BhY2VzIGluIGZvbnQgbmFtZVxuICAgICAgICAgICAgICBmYW1pbHkgPSBkZWNvZGVVUkkoJHNjb3BlLmZvbnREYXRhLmZvbnQudXJsLnRyaW0oKSk7XG4gICAgICAgICAgICAgIHJldHVybiBmYW1pbHkuc3BsaXQoXCIvXCIpLnBvcCgpLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTG9hZCBhIGN1c3RvbSBmb250LlxuICAgICAgICAgIGZ1bmN0aW9uIGxvYWRDdXN0b21Gb250KGZhbWlseSkge1xuICAgICAgICAgICAgdmFyIHNoZWV0ID0gbnVsbCxcbiAgICAgICAgICAgICAgdXJsID0gJC50cmltKCRzY29wZS5mb250RGF0YS5mb250LnVybCksXG4gICAgICAgICAgICAgIHJ1bGUgPSBcImZvbnQtZmFtaWx5OiBcIiArIGZhbWlseSArIFwiOyBcIiArIFwic3JjOiB1cmwoJ1wiICsgdXJsICsgXCInKTtcIjtcblxuICAgICAgICAgICAgc2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTtcblxuICAgICAgICAgICAgaWYgKHNoZWV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHNoZWV0LmFkZFJ1bGUoXCJAZm9udC1mYWNlXCIsIHJ1bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGFkZFZlcnRpY2FsQWxpZ25CdXR0b25zKGVkaXRvcikge1xuICAgICAgICAgICAgZWRpdG9yLmFkZEJ1dHRvbihcImFsaWdudG9wXCIsIHtcbiAgICAgICAgICAgICAgaW1hZ2U6IFwiLy9zMy5hbWF6b25hd3MuY29tL1Jpc2UtSW1hZ2VzL0ljb25zL2FsaWduLXRvcC5zdmdcIixcbiAgICAgICAgICAgICAgdG9vbHRpcDogXCJBbGlnbiBUb3BcIixcbiAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIm1jZVRvZ2dsZVZlcnRpY2FsXCIsIGZhbHNlLCBcInRvcFwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkaXRvci5hZGRCdXR0b24oXCJhbGlnbm1pZGRsZVwiLCB7XG4gICAgICAgICAgICAgIGltYWdlOiBcIi8vczMuYW1hem9uYXdzLmNvbS9SaXNlLUltYWdlcy9JY29ucy9hbGlnbi12ZXJ0aWNhbC1taWRkbGUuc3ZnXCIsXG4gICAgICAgICAgICAgIHRvb2x0aXA6IFwiQWxpZ24gTWlkZGxlXCIsXG4gICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJtY2VUb2dnbGVWZXJ0aWNhbFwiLCBmYWxzZSwgXCJtaWRkbGVcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZGl0b3IuYWRkQnV0dG9uKFwiYWxpZ25ib3R0b21cIiwge1xuICAgICAgICAgICAgICBpbWFnZTogXCIvL3MzLmFtYXpvbmF3cy5jb20vUmlzZS1JbWFnZXMvSWNvbnMvYWxpZ24tYm90dG9tLnN2Z1wiLFxuICAgICAgICAgICAgICB0b29sdGlwOiBcIkFsaWduIEJvdHRvbVwiLFxuICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZmFsc2UsIFwiYm90dG9tXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWRpdG9yLmFkZENvbW1hbmQoXCJtY2VUb2dnbGVWZXJ0aWNhbFwiLCBmdW5jdGlvbiAoKSB7fSk7XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnModmFsdWUpIHtcbiAgICAgICAgICAgIHN3aXRjaCh2YWx1ZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdBbGlnbiBUb3AnXVwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJtaWRkbGVcIjpcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0FsaWduIE1pZGRsZSddXCIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nQWxpZ24gQm90dG9tJ11cIikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5mb250LXNldHRpbmdcIilcbiAgICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbigkaHR0cCwgYW5ndWxhckxvYWQpIHtcblxuICAgIHZhciBmb250c0FwaSA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vd2ViZm9udHMvdjEvd2ViZm9udHM/a2V5PUFJemFTeUJYeFZLX0lPVjdMTlFNdVZWb19sN1p2TjUzZWpOODZ6WVwiLFxuICAgICAgZm9udEJhc2VVcmwgPSBcIi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1cIixcbiAgICAgIGV4Y2x1ZGUgPSBbXCJCdWRhXCIsIFwiQ29kYSBDYXB0aW9uXCIsIFwiT3BlbiBTYW5zIENvbmRlbnNlZFwiLCBcIlVuaWZyYWt0dXJDb29rXCIsIFwiTW9sbGVcIl0sXG4gICAgICBmYWxsYmFjayA9IFwiLHNhbnMtc2VyaWY7XCIsXG4gICAgICBmYWN0b3J5ID0ge307XG5cbiAgICBmYWN0b3J5LmdldEZvbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGZvbnRzQXBpLCB7IGNhY2hlOiB0cnVlIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgdmFyIGZhbWlseSA9IFwiXCIsIGZvbnRzID0gXCJcIiwgc3BhY2VzID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLml0ZW1zKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgZmFtaWx5ID0gcmVzcG9uc2UuZGF0YS5pdGVtc1tpXS5mYW1pbHk7XG5cbiAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihmYW1pbHkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXJMb2FkLmxvYWRDU1MoZm9udEJhc2VVcmwgKyBmYW1pbHkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAvLyBGb250IGxvYWRlZC5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciBzcGFjZXMgaW4gZmFtaWx5IG5hbWVcbiAgICAgICAgICAgICAgICBpZiAoL1xccy8udGVzdChmYW1pbHkpKSB7XG4gICAgICAgICAgICAgICAgICBzcGFjZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHdyYXAgZmFtaWx5IG5hbWUgaW4gc2luZ2xlIHF1b3Rlc1xuICAgICAgICAgICAgICAgICAgZm9udHMgKz0gZmFtaWx5ICsgXCI9J1wiICsgZmFtaWx5ICsgXCInXCIgKyBmYWxsYmFjaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj1cIiArIGZhbWlseSArIGZhbGxiYWNrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZvbnRzO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZhY3Rvcnk7XG4gIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL2ZvbnQtc2V0dGluZy9mb250LXNldHRpbmcuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwiZm9udC1zZXR0aW5nXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBuZy1jbGFzcz1cXFwieydmb3JtLWdyb3VwJzogIXByZXZpZXdUZXh0fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dGV4dGFyZWEgdWktdGlueW1jZT1cXFwidGlueW1jZU9wdGlvbnNcXFwiIG5nLW1vZGVsPVxcXCJ0aW55bWNlTW9kZWxcXFwiIG5nLWlmPVxcXCJ0aW55bWNlT3B0aW9uc1xcXCI+PC90ZXh0YXJlYT5cXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCIgbmctaWY9XFxcInByZXZpZXdUZXh0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJ0ZXh0LWNvbnRhaW5lciBmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0XFxcIj57e3ByZXZpZXdUZXh0fX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8IS0tIEN1c3RvbSBGb250IC0tPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLWZvbnQgbW9kYWxcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgZGF0YS1iYWNrZHJvcD1cXFwiZmFsc2VcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXRpbWVzIGhhbGYtdG9wXFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8aDIgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj57e1xcXCJmb250LXNldHRpbmcuY3VzdG9tLWZvbnRcXFwiIHwgdHJhbnNsYXRlfX08L2gyPlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8Zm9ybSByb2xlPVxcXCJmb3JtXFxcIiBuYW1lPVxcXCJjdXN0b21Gb250Rm9ybVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx1cmwtZmllbGQgdXJsPVxcXCJmb250RGF0YS5mb250LnVybFxcXCIgbmctbW9kZWw9XFxcImN1c3RvbUZvbnRcXFwiIGluaXQtZW1wdHk+PC91cmwtZmllbGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwic2VsZWN0IGJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIG5nLWNsaWNrPVxcXCJhcHBseUN1c3RvbUZvbnQoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImN1c3RvbUZvbnRGb3JtLiRpbnZhbGlkXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zZWxlY3RcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtY2hlY2sgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2FuY2VsIGJ0biBidG4tZGVmYXVsdCBidG4tZml4ZWQtd2lkdGhcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPHNwYW4+e3tcXFwiY29tbW9uLmNhbmNlbFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS10aW1lcyBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPC9mb3JtPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPCEtLSBDdXN0b20gRm9udCBTaXplIC0tPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLWZvbnQtc2l6ZSBtb2RhbFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBkYXRhLWJhY2tkcm9wPVxcXCJmYWxzZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdGltZXMgaGFsZi10b3BcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxoMiBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPnt7XFxcImZvbnQtc2V0dGluZy5jdXN0b20tZm9udC1zaXplXFxcIiB8IHRyYW5zbGF0ZX19PC9oMj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPGZvcm0gcm9sZT1cXFwiZm9ybVxcXCIgbmFtZT1cXFwiY3VzdG9tRm9udFNpemVGb3JtXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0zXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJudW1iZXJcXFwiIG5nLW1vZGVsPVxcXCJjdXN0b21Gb250U2l6ZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgLz5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5waXhlbHMnIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwic2VsZWN0IGJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIG5nLWNsaWNrPVxcXCJhcHBseUN1c3RvbUZvbnRTaXplKClcXFwiIG5nLWRpc2FibGVkPVxcXCJjdXN0b21Gb250U2l6ZUZvcm0uJGludmFsaWRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPHNwYW4+e3tcXFwiY29tbW9uLnNlbGVjdFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS1jaGVjayBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjYW5jZWwgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1maXhlZC13aWR0aFxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8c3Bhbj57e1xcXCJjb21tb24uY2FuY2VsXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLXRpbWVzIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Zvcm0+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuLyoqXG4gKiBCaW5kcyBhIFRpbnlNQ0Ugd2lkZ2V0IHRvIDx0ZXh0YXJlYT4gZWxlbWVudHMuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS50aW55bWNlJywgW10pXG4gIC52YWx1ZSgndWlUaW55bWNlQ29uZmlnJywge30pXG4gIC5kaXJlY3RpdmUoJ3VpVGlueW1jZScsIFsnJHJvb3RTY29wZScsICckY29tcGlsZScsICckdGltZW91dCcsICckd2luZG93JywgJyRzY2UnLCAndWlUaW55bWNlQ29uZmlnJywgJ3VpVGlueW1jZVNlcnZpY2UnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkY29tcGlsZSwgJHRpbWVvdXQsICR3aW5kb3csICRzY2UsIHVpVGlueW1jZUNvbmZpZywgdWlUaW55bWNlU2VydmljZSkge1xuICAgIHVpVGlueW1jZUNvbmZpZyA9IHVpVGlueW1jZUNvbmZpZyB8fCB7fTtcblxuICAgIGlmICh1aVRpbnltY2VDb25maWcuYmFzZVVybCkge1xuICAgICAgdGlueW1jZS5iYXNlVVJMID0gdWlUaW55bWNlQ29uZmlnLmJhc2VVcmw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdeP2Zvcm0nXSxcbiAgICAgIHByaW9yaXR5OiA1OTksXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAgIGlmICghJHdpbmRvdy50aW55bWNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5nTW9kZWwgPSBjdHJsc1swXSxcbiAgICAgICAgICBmb3JtID0gY3RybHNbMV0gfHwgbnVsbDtcblxuICAgICAgICB2YXIgZXhwcmVzc2lvbiwgb3B0aW9ucyA9IHtcbiAgICAgICAgICBkZWJvdW5jZTogdHJ1ZVxuICAgICAgICB9LCB0aW55SW5zdGFuY2UsXG4gICAgICAgICAgdXBkYXRlVmlldyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBlZGl0b3IuZ2V0Q29udGVudCh7Zm9ybWF0OiBvcHRpb25zLmZvcm1hdH0pLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnRlbnQgPSAkc2NlLnRydXN0QXNIdG1sKGNvbnRlbnQpO1xuXG4gICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoY29udGVudCk7XG4gICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVEaXNhYmxlKGRpc2FibGVkKSB7XG4gICAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBpZiAodGlueUluc3RhbmNlKSB7XG4gICAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXRCb2R5KCkuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UgJiYgIXRpbnlJbnN0YW5jZS5zZXR0aW5ncy5yZWFkb25seSAmJiB0aW55SW5zdGFuY2UuZ2V0RG9jKCkpIHtcbiAgICAgICAgICAgICAgdGlueUluc3RhbmNlLmdldEJvZHkoKS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZldGNoIGEgdW5pcXVlIElEIGZyb20gdGhlIHNlcnZpY2VcbiAgICAgICAgdmFyIHVuaXF1ZUlkID0gdWlUaW55bWNlU2VydmljZS5nZXRVbmlxdWVJZCgpO1xuICAgICAgICBhdHRycy4kc2V0KCdpZCcsIHVuaXF1ZUlkKTtcblxuICAgICAgICBleHByZXNzaW9uID0ge307XG5cbiAgICAgICAgYW5ndWxhci5leHRlbmQoZXhwcmVzc2lvbiwgc2NvcGUuJGV2YWwoYXR0cnMudWlUaW55bWNlKSk7XG5cbiAgICAgICAgLy9EZWJvdW5jZSB1cGRhdGUgYW5kIHNhdmUgYWN0aW9uXG4gICAgICAgIHZhciBkZWJvdW5jZWRVcGRhdGUgPSAoZnVuY3Rpb24oZGVib3VuY2VkVXBkYXRlRGVsYXkpIHtcbiAgICAgICAgICB2YXIgZGVib3VuY2VkVXBkYXRlVGltZXI7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGVkKSB7XG5cdCAgICAgICAgJHRpbWVvdXQuY2FuY2VsKGRlYm91bmNlZFVwZGF0ZVRpbWVyKTtcblx0ICAgICAgICAgZGVib3VuY2VkVXBkYXRlVGltZXIgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChmdW5jdGlvbihlZCkge1xuICAgICAgICAgICAgICAgIGlmIChlZC5pc0RpcnR5KCkpIHtcbiAgICAgICAgICAgICAgICAgIGVkLnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkoZWQpO1xuICAgICAgICAgICAgfSwgZGVib3VuY2VkVXBkYXRlRGVsYXkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pKDQwMCk7XG5cbiAgICAgICAgdmFyIHNldHVwT3B0aW9ucyA9IHtcbiAgICAgICAgICAvLyBVcGRhdGUgbW9kZWwgd2hlbiBjYWxsaW5nIHNldENvbnRlbnRcbiAgICAgICAgICAvLyAoc3VjaCBhcyBmcm9tIHRoZSBzb3VyY2UgZWRpdG9yIHBvcHVwKVxuICAgICAgICAgIHNldHVwOiBmdW5jdGlvbihlZCkge1xuICAgICAgICAgICAgZWQub24oJ2luaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICAgICAgICAgIG5nTW9kZWwuJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0VW50b3VjaGVkKCk7XG4gICAgICAgICAgICAgIGlmIChmb3JtKSB7XG4gICAgICAgICAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCB3aGVuOlxuICAgICAgICAgICAgLy8gLSBhIGJ1dHRvbiBoYXMgYmVlbiBjbGlja2VkIFtFeGVjQ29tbWFuZF1cbiAgICAgICAgICAgIC8vIC0gdGhlIGVkaXRvciBjb250ZW50IGhhcyBiZWVuIG1vZGlmaWVkIFtjaGFuZ2VdXG4gICAgICAgICAgICAvLyAtIHRoZSBub2RlIGhhcyBjaGFuZ2VkIFtOb2RlQ2hhbmdlXVxuICAgICAgICAgICAgLy8gLSBhbiBvYmplY3QgaGFzIGJlZW4gcmVzaXplZCAodGFibGUsIGltYWdlKSBbT2JqZWN0UmVzaXplZF1cbiAgICAgICAgICAgIGVkLm9uKCdFeGVjQ29tbWFuZCBjaGFuZ2UgTm9kZUNoYW5nZSBPYmplY3RSZXNpemVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghb3B0aW9ucy5kZWJvdW5jZSkge1xuICAgICAgICAgICAgICAgIGVkLnNhdmUoKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3KGVkKTtcbiAgICAgICAgICAgICAgXHRyZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVib3VuY2VkVXBkYXRlKGVkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZC5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbGVtZW50WzBdLmJsdXIoKTtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0VG91Y2hlZCgpO1xuICAgICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkLm9uKCdyZW1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodWlUaW55bWNlQ29uZmlnLnNldHVwKSB7XG4gICAgICAgICAgICAgIHVpVGlueW1jZUNvbmZpZy5zZXR1cChlZCwge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXc6IHVwZGF0ZVZpZXdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChleHByZXNzaW9uLnNldHVwKSB7XG4gICAgICAgICAgICAgIGV4cHJlc3Npb24uc2V0dXAoZWQsIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3OiB1cGRhdGVWaWV3XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9ybWF0OiBleHByZXNzaW9uLmZvcm1hdCB8fCAnaHRtbCcsXG4gICAgICAgICAgc2VsZWN0b3I6ICcjJyArIGF0dHJzLmlkXG4gICAgICAgIH07XG4gICAgICAgIC8vIGV4dGVuZCBvcHRpb25zIHdpdGggaW5pdGlhbCB1aVRpbnltY2VDb25maWcgYW5kXG4gICAgICAgIC8vIG9wdGlvbnMgZnJvbSBkaXJlY3RpdmUgYXR0cmlidXRlIHZhbHVlXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG9wdGlvbnMsIHVpVGlueW1jZUNvbmZpZywgZXhwcmVzc2lvbiwgc2V0dXBPcHRpb25zKTtcbiAgICAgICAgLy8gV3JhcHBlZCBpbiAkdGltZW91dCBkdWUgdG8gJHRpbnltY2U6cmVmcmVzaCBpbXBsZW1lbnRhdGlvbiwgcmVxdWlyZXNcbiAgICAgICAgLy8gZWxlbWVudCB0byBiZSBwcmVzZW50IGluIERPTSBiZWZvcmUgaW5zdGFudGlhdGluZyBlZGl0b3Igd2hlblxuICAgICAgICAvLyByZS1yZW5kZXJpbmcgZGlyZWN0aXZlXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChvcHRpb25zLmJhc2VVUkwpe1xuICAgICAgICAgICAgdGlueW1jZS5iYXNlVVJMID0gb3B0aW9ucy5iYXNlVVJMO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbWF5YmVJbml0UHJvbWlzZSA9IHRpbnltY2UuaW5pdChvcHRpb25zKTtcbiAgICAgICAgICBpZihtYXliZUluaXRQcm9taXNlICYmIHR5cGVvZiBtYXliZUluaXRQcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlSW5pdFByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdG9nZ2xlRGlzYWJsZShzY29wZS4kZXZhbChhdHRycy5uZ0Rpc2FibGVkKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9nZ2xlRGlzYWJsZShzY29wZS4kZXZhbChhdHRycy5uZ0Rpc2FibGVkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBtb2RlbFZhbHVlID8gJHNjZS50cnVzdEFzSHRtbChtb2RlbFZhbHVlKSA6ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24odmlld1ZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZSA/ICRzY2UuZ2V0VHJ1c3RlZEh0bWwodmlld1ZhbHVlKSA6ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/XG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWRIdG1sKG5nTW9kZWwuJHZpZXdWYWx1ZSkgOiAnJztcblxuICAgICAgICAgIC8vIGluc3RhbmNlLmdldERvYygpIGNoZWNrIGlzIGEgZ3VhcmQgYWdhaW5zdCBudWxsIHZhbHVlXG4gICAgICAgICAgLy8gd2hlbiBkZXN0cnVjdGlvbiAmIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzIGhhcHBlblxuICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UgJiZcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXREb2MoKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGlueUluc3RhbmNlLnNldENvbnRlbnQodmlld1ZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRyaWdnZXJpbmcgY2hhbmdlIGV2ZW50IGR1ZSB0byBUaW55TUNFIG5vdCBmaXJpbmcgZXZlbnQgJlxuICAgICAgICAgICAgLy8gYmVjb21pbmcgb3V0IG9mIHN5bmMgZm9yIGNoYW5nZSBjYWxsYmFja3NcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5maXJlKCdjaGFuZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgdG9nZ2xlRGlzYWJsZSk7XG5cbiAgICAgICAgLy8gVGhpcyBibG9jayBpcyBiZWNhdXNlIG9mIFRpbnlNQ0Ugbm90IHBsYXlpbmcgd2VsbCB3aXRoIHJlbW92YWwgYW5kXG4gICAgICAgIC8vIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzLCByZXF1aXJpbmcgaW5zdGFuY2VzIHRvIGhhdmUgZGlmZmVyZW50XG4gICAgICAgIC8vIHNlbGVjdG9ycyBpbiBvcmRlciB0byByZW5kZXIgbmV3IGluc3RhbmNlcyBwcm9wZXJseVxuICAgICAgICBzY29wZS4kb24oJyR0aW55bWNlOnJlZnJlc2gnLCBmdW5jdGlvbihlLCBpZCkge1xuICAgICAgICAgIHZhciBlaWQgPSBhdHRycy5pZDtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChpZCkgfHwgaWQgPT09IGVpZCkge1xuICAgICAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSBlbGVtZW50LmNsb25lKCk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2lkJyk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuJyk7XG4gICAgICAgICAgICB0aW55bWNlLmV4ZWNDb21tYW5kKCdtY2VSZW1vdmVFZGl0b3InLCBmYWxzZSwgZWlkKTtcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kKCRjb21waWxlKGNsb25lZEVsZW1lbnQpKHNjb3BlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcblxuICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBlbnN1cmVJbnN0YW5jZSgpIHtcbiAgICAgICAgICBpZiAoIXRpbnlJbnN0YW5jZSkge1xuICAgICAgICAgICAgdGlueUluc3RhbmNlID0gdGlueW1jZS5nZXQoYXR0cnMuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1dKVxuICAuc2VydmljZSgndWlUaW55bWNlU2VydmljZScsIFtcbiAgICAvKipcbiAgICAgKiBBIHNlcnZpY2UgaXMgdXNlZCB0byBjcmVhdGUgdW5pcXVlIElEJ3MsIHRoaXMgcHJldmVudHMgZHVwbGljYXRlIElEJ3MgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGVkaXRvcnMgb24gc2NyZWVuLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIFVJVGlueW1jZVNlcnZpY2UgPSBmdW5jdGlvbigpIHtcbiAgIFx0ICAgIHZhciBJRF9BVFRSID0gJ3VpLXRpbnltY2UnO1xuICAgIFx0Ly8gdW5pcXVlSWQga2VlcHMgdHJhY2sgb2YgdGhlIGxhdGVzdCBhc3NpZ25lZCBJRFxuICAgIFx0dmFyIHVuaXF1ZUlkID0gMDtcbiAgICAgICAgLy8gZ2V0VW5pcXVlSWQgcmV0dXJucyBhIHVuaXF1ZSBJRFxuICAgIFx0dmFyIGdldFVuaXF1ZUlkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdW5pcXVlSWQgKys7XG4gICAgICAgICAgcmV0dXJuIElEX0FUVFIgKyAnLScgKyB1bmlxdWVJZDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBmdW5jdGlvbiBhcyBhIHB1YmxpYyBtZXRob2Qgb2YgdGhlIHNlcnZpY2VcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgXHRnZXRVbmlxdWVJZDogZ2V0VW5pcXVlSWRcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICAvLyByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2VcbiAgICAgIHJldHVybiBuZXcgVUlUaW55bWNlU2VydmljZSgpO1xuICAgIH1cbiAgXSk7XG5cbmlmKHR5cGVvZiBURU1QTEFURVMgPT09ICd1bmRlZmluZWQnKSB7dmFyIFRFTVBMQVRFUyA9IHt9O31cblRFTVBMQVRFU1snYWxpZ25tZW50Lmh0bWwnXSA9IFwiPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwIGFsaWdubWVudFxcXCI+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWFsaWdubWVudCBkcm9wZG93bi10b2dnbGVcXFwiXFxuXCIgK1xuICAgIFwiICAgIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwibGVmdFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1sZWZ0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuIGNsYXNzPVxcXCJjYXJldFxcXCI+PC9zcGFuPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiByb2xlPVxcXCJtZW51XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImxlZnRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tbGVmdFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwiY2VudGVyXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLWNlbnRlclxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwicmlnaHRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImp1c3RpZnlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tanVzdGlmeVxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiOyBcbi8qICBDb3B5cmlnaHQgwqkgMjAxNCBSaXNlIFZpc2lvbiBJbmNvcnBvcmF0ZWQuXG4gKiAgVXNlIG9mIHRoaXMgc29mdHdhcmUgaXMgZ292ZXJuZWQgYnkgdGhlIEdQTHYzIGxpY2Vuc2VcbiAqICAocmVwcm9kdWNlZCBpbiB0aGUgTElDRU5TRSBmaWxlKS5cbiAqL1xuXG4vKiBnbG9iYWwgVEVNUExBVEVTICovXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCBURU1QTEFURVMsIHVuZGVmaW5lZCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX3BsdWdpbk5hbWUgPSBcImFsaWdubWVudFwiO1xuXG4gIGZ1bmN0aW9uIFBsdWdpbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB2YXIgJGJ0bkFsaWdubWVudCA9IG51bGw7XG4gICAgdmFyIGRlZmF1bHRBbGlnbm1lbnQgPSBcImxlZnRcIjtcblxuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgeyBcImFsaWduXCI6IGRlZmF1bHRBbGlnbm1lbnQgfSwgb3B0aW9ucyk7XG5cbiAgICAvKlxuICAgICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICAgIC8vIEdldCB0aGUgSFRNTCBtYXJrdXAgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAkZWxlbWVudC5hcHBlbmQoVEVNUExBVEVTW1wiYWxpZ25tZW50Lmh0bWxcIl0pO1xuICAgICAgJGJ0bkFsaWdubWVudCA9ICRlbGVtZW50LmZpbmQoXCIuYnRuLWFsaWdubWVudFwiKTtcblxuICAgICAgc2V0QWxpZ25tZW50KG9wdGlvbnMuYWxpZ24pO1xuXG4gICAgICAkZWxlbWVudC5maW5kKFwiLmRyb3Bkb3duLW1lbnUgYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbGlnbm1lbnQgPSAkKHRoaXMpLmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiKTtcblxuICAgICAgICBzZXRBbGlnbm1lbnQoYWxpZ25tZW50KTtcbiAgICAgICAgJGVsZW1lbnQudHJpZ2dlcihcImFsaWdubWVudENoYW5nZWRcIiwgYWxpZ25tZW50KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFB1YmxpYyBNZXRob2RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxpZ25tZW50KCkge1xuICAgICByZXR1cm4gJGJ0bkFsaWdubWVudC5kYXRhKFwid3lzaWh0bWw1LWNvbW1hbmQtdmFsdWVcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0QWxpZ25tZW50KGFsaWdubWVudCkge1xuICAgICAgdmFyICRwcmltYXJ5SWNvbiA9ICRlbGVtZW50LmZpbmQoXCIuYnRuLWFsaWdubWVudCAuZmFcIik7XG4gICAgICB2YXIgY3VycmVudENsYXNzID0gJHByaW1hcnlJY29uLmF0dHIoXCJjbGFzc1wiKS5tYXRjaCgvZmEtYWxpZ24tW2Etel0rL2cpO1xuICAgICAgdmFyIG5ld0NsYXNzID0gXCJmYS1hbGlnbi1cIiArIGFsaWdubWVudDtcblxuICAgICAgLy8gUmVtb3ZlIGN1cnJlbnQgYWxpZ25tZW50IGljb24uXG4gICAgICBpZiAoY3VycmVudENsYXNzICYmIGN1cnJlbnRDbGFzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICRwcmltYXJ5SWNvbi5yZW1vdmVDbGFzcyhjdXJyZW50Q2xhc3NbMF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgbmV3IGFsaWdubWVudCBpY29uLlxuICAgICAgJHByaW1hcnlJY29uLmFkZENsYXNzKG5ld0NsYXNzKTtcbiAgICAgICRidG5BbGlnbm1lbnQuZGF0YShcInd5c2lodG1sNS1jb21tYW5kLXZhbHVlXCIsIGFsaWdubWVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICBzZXRBbGlnbm1lbnQoZGVmYXVsdEFsaWdubWVudCk7XG4gICAgfVxuXG4gICAgX2luaXQoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRBbGlnbm1lbnQ6IGdldEFsaWdubWVudCxcbiAgICAgIHNldEFsaWdubWVudDogc2V0QWxpZ25tZW50LFxuICAgICAgcmVzZXQ6ICAgICAgICByZXNldFxuICAgIH07XG4gIH1cblxuICAvKlxuICAgKiAgQSBsaWdodHdlaWdodCBwbHVnaW4gd3JhcHBlciBhcm91bmQgdGhlIGNvbnN0cnVjdG9yIHRoYXQgcHJldmVudHNcbiAgICogIG11bHRpcGxlIGluc3RhbnRpYXRpb25zLlxuICAgKi9cbiAgJC5mbi5hbGlnbm1lbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUpKSB7XG4gICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIF9wbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCwgVEVNUExBVEVTKTtcblxuLyogZXhwb3J0ZWQgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xudmFyIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcgPSB7XG4gIFwiZmFtaWxpZXNcIjogXCJBbmRhbGUgTW9ubz1hbmRhbGUgbW9ubyxtb25vc3BhY2U7XCIgK1xuICAgICAgXCJBcmlhbD1hcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkFyaWFsIEJsYWNrPWFyaWFsIGJsYWNrLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJCb29rIEFudGlxdWE9Ym9vayBhbnRpcXVhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICAgIFwiQ29taWMgU2FucyBNUz1jb21pYyBzYW5zIG1zLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJDb3VyaWVyIE5ldz1jb3VyaWVyIG5ldyxjb3VyaWVyLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIkdlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubyxzZXJpZjtcIiArXG4gICAgICBcIkhlbHZldGljYT1oZWx2ZXRpY2EsYXJpYWwsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkltcGFjdD1pbXBhY3Qsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIlN5bWJvbD1zeW1ib2w7XCIgK1xuICAgICAgXCJUYWhvbWE9dGFob21hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVGVybWluYWw9dGVybWluYWwsbW9uYWNvLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIlRpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXMsc2VyaWY7XCIgK1xuICAgICAgXCJUcmVidWNoZXQgTVM9dHJlYnVjaGV0IG1zLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVmVyZGFuYT12ZXJkYW5hLGdlbmV2YSxzYW5zLXNlcmlmO1wiLFxuICBcInNpemVzXCI6IFwiOHB4IDlweCAxMHB4IDExcHggMTJweCAxNHB4IDE4cHggMjRweCAzMHB4IDM2cHggNDhweCA2MHB4IDcycHggOTZweFwiXG59O1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5hbGlnbm1lbnRcIiwgW10pXG4gICAgLmRpcmVjdGl2ZShcImFsaWdubWVudFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgYWxpZ246IFwiPVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zY2x1ZGU6IGZhbHNlLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwiYWxpZ25cIiwgZnVuY3Rpb24oYWxpZ24pIHtcbiAgICAgICAgICAgIGlmIChhbGlnbikge1xuICAgICAgICAgICAgICBpZiAoJGVsZW1lbnQuZGF0YShcInBsdWdpbl9hbGlnbm1lbnRcIikpIHtcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5kYXRhKFwicGx1Z2luX2FsaWdubWVudFwiKS5zZXRBbGlnbm1lbnQoYWxpZ24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRlbGVtZW50LmFsaWdubWVudCh7IGFsaWduOiBhbGlnbiB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgJGVsZW1lbnQub24oXCJhbGlnbm1lbnRDaGFuZ2VkXCIsIGZ1bmN0aW9uKGV2ZW50LCBhbGlnbm1lbnQpIHtcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2NvcGUuYWxpZ24gPSBhbGlnbm1lbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbn0oKSk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmNvbHVtbi1zZXR0aW5nXCIsIFtcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIiwgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCJdKVxuICAgIC5kaXJlY3RpdmUoXCJjb2x1bW5TZXR0aW5nXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIGNvbHVtbjogXCI9XCIsXG4gICAgICAgICAgZXhwYW5kOiBcIj1cIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvY29sdW1uLXNldHRpbmcvY29sdW1uLXNldHRpbmcuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgIHZhciBkZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBmb250U3R5bGU6IHtcbiAgICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICAgIFwiZmFtaWx5XCI6XCJ2ZXJkYW5hLGdlbmV2YSxzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6XCJzdGFuZGFyZFwiLFxuICAgICAgICAgICAgICAgIFwidXJsXCI6XCJcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzaXplOiBcIjE4cHhcIixcbiAgICAgICAgICAgICAgY3VzdG9tU2l6ZTogXCJcIixcbiAgICAgICAgICAgICAgYWxpZ246IFwibGVmdFwiLFxuICAgICAgICAgICAgICBib2xkOiBmYWxzZSxcbiAgICAgICAgICAgICAgaXRhbGljOiBmYWxzZSxcbiAgICAgICAgICAgICAgdW5kZXJsaW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgZm9yZWNvbG9yOiBcImJsYWNrXCIsXG4gICAgICAgICAgICAgIGJhY2tjb2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVhZGVyVGV4dDogXCJcIixcbiAgICAgICAgICAgIHdpZHRoOiAxMDAsXG4gICAgICAgICAgICBjb2xvckNvbmRpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICBudW1lcmljOiBmYWxzZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuZGVmYXVsdHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcblxuICAgICAgICAgICAgICAgICAgaWYgKG9ialtwcm9wXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJjb2x1bW5cIiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICRzY29wZS5kZWZhdWx0cyh2YWx1ZSwgZGVmYXVsdFNldHRpbmdzKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICRzY29wZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS4kcGFyZW50LnJlbW92ZSgkc2NvcGUuY29sdW1uKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmNvbHVtbi1zZXR0aW5nXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNldHRpbmdcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci9jb2x1bW4tc2V0dGluZy9jb2x1bW4tc2V0dGluZy5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbGxhcHNlLXBhbmVsIHBhbmVsLWhlYWRpbmdcXFwiPlxcblwiICtcbiAgICBcIiAgICA8YSBocmVmPVxcXCJcXFwiIG9uZHJhZ3N0YXJ0PVxcXCJyZXR1cm4gZmFsc2U7XFxcIlxcblwiICtcbiAgICBcIiAgICBuZy1jbGFzcz1cXFwieydwYW5lbC1oZWFkaW5nJzp0cnVlLCBjb2xsYXBzZWQ6IWNvbGxhcHNlfVxcXCIgbmctY2xpY2s9XFxcImNvbGxhcHNlPSFjb2xsYXBzZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgIHt7Y29sdW1uLm5hbWUgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICA8L2E+XFxuXCIgK1xuICAgIFwiICAgIDxhIGhyZWY9XFxcIlxcXCIgb25kcmFnc3RhcnQ9XFxcInJldHVybiBmYWxzZTtcXFwiIGNsYXNzPVxcXCJmYSBmYS1taW51cy1jaXJjbGUgZmEtbGcgcmVtb3ZlLWNvbHVtbi1idXR0b25cXFwiIG5nLWNsaWNrPVxcXCJyZW1vdmUoKVxcXCI+PC9hPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IG5nLWNsYXNzPVxcXCJ7J3BhbmVsLWNvbGxhcHNlJzp0cnVlLCBjb2xsYXBzZTp0cnVlLCBpbjpjb2xsYXBzZX1cXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8IS0tIE51bWVyaWMgZGF0YSBjb2x1bW4gLS0+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwiY2hlY2tib3hcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGxhYmVsPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5nLW1vZGVsPVxcXCJjb2x1bW4ubnVtZXJpY1xcXCI+e3snY29sdW1uLm51bWVyaWMnIHwgdHJhbnNsYXRlfX1cXG5cIiArXG4gICAgXCIgICAgICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiIHN0eWxlPVxcXCJmbG9hdDpyaWdodFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIHt7J2NvbHVtbi5ub3RlJyB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPGZvbnQtc2V0dGluZyBmb250LWRhdGE9XFxcImNvbHVtbi5mb250U3R5bGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDwvZm9udC1zZXR0aW5nPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8IS0tIEhlYWRlciBUZXh0IC0tPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTYgY29sLXhzLTEyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiY29sdW1uLWhlYWRlci10ZXh0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIHt7J2NvbHVtbi5oZWFkZXItdGV4dC5sYWJlbCcgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJjb2x1bW4uaGVhZGVyVGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8IS0tIFdpZHRoIC0tPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTMgY29sLXhzLTEyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiY29sdW1uLXdpZHRoXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIHt7J2NvbHVtbi53aWR0aCcgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgbmctbW9kZWw9XFxcImNvbHVtbi53aWR0aFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5waXhlbHMnIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8IS0tIENvbG9yIENvbmRpdGlvbnMgLS0+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMyBjb2wteHMtMTJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb2x1bW4tY29sb3ItY29uZGl0aW9uXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAge3snY29sdW1uLmNvbG9yLWNvbmRpdGlvbi5sYWJlbCcgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJjb2x1bW4uY29sb3JDb25kaXRpb25cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICBuZy1kaXNhYmxlZD1cXFwiIWNvbHVtbi5udW1lcmljXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIm5vbmVcXFwiPnt7J2NvbHVtbi5jb2xvci1jb25kaXRpb24ubm9uZScgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiY2hhbmdlLXVwXFxcIj57eydjb2x1bW4uY29sb3ItY29uZGl0aW9uLmNoYW5nZS11cCcgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiY2hhbmdlLWRvd25cXFwiPnt7J2NvbHVtbi5jb2xvci1jb25kaXRpb24uY2hhbmdlLWRvd24nIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInZhbHVlLXBvc2l0aXZlXFxcIj57eydjb2x1bW4uY29sb3ItY29uZGl0aW9uLnZhbHVlLXBvc2l0aXZlJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ2YWx1ZS1uZWdhdGl2ZVxcXCI+e3snY29sdW1uLmNvbG9yLWNvbmRpdGlvbi52YWx1ZS1uZWdhdGl2ZScgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvc2VsZWN0PlxcblwiICtcbiAgICBcIiAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmNvbHVtbi1zZWxlY3RvclwiLCBbXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNldHRpbmdcIixcbiAgICAgICAgICBcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIl0pXG4gICAgLmRpcmVjdGl2ZShcImNvbHVtblNlbGVjdG9yXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICByZXF1aXJlOiBcIj9uZ01vZGVsXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgY29sdW1uczogXCI9XCIsXG4gICAgICAgICAgY29sdW1uTmFtZXM6IFwiPVwiLFxuICAgICAgICAgIGRpc2FibGVkOiBcIj1uZ0Rpc2FibGVkXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL2NvbHVtbi1zZWxlY3Rvci9jb2x1bW4tc2VsZWN0b3IuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxtLCBhdHRycywgY3RybCkge1xuICAgICAgICAgIHZhciBjb2x1bW5zV2F0Y2hlciA9ICRzY29wZS4kd2F0Y2goXCJjb2x1bW5zXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5jb2x1bW5zICYmICRzY29wZS5jb2x1bW5OYW1lcykge1xuICAgICAgICAgICAgICB1cGRhdGVDb2x1bW5zKCk7XG4gICAgICAgICAgICAgIHNldFZhbGlkaXR5KCk7XG5cbiAgICAgICAgICAgICAgLy8gRGVzdHJveSB3YXRjaFxuICAgICAgICAgICAgICBjb2x1bW5zV2F0Y2hlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIGNvbHVtbk5hbWVzV2F0Y2hlciA9ICRzY29wZS4kd2F0Y2goXCJjb2x1bW5OYW1lc1wiLCBmdW5jdGlvbihjb2x1bW5OYW1lcykge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5jb2x1bW5zICYmIGNvbHVtbk5hbWVzICYmIGNvbHVtbk5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdXBkYXRlQ29sdW1ucygpO1xuXG4gICAgICAgICAgICAgIC8vIERlc3Ryb3kgd2F0Y2hcbiAgICAgICAgICAgICAgY29sdW1uTmFtZXNXYXRjaGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkc2NvcGUuc2hvdyA9IGZ1bmN0aW9uKHYpe3JldHVybiAhdi5zaG93O307XG5cbiAgICAgICAgICAkc2NvcGUuYWRkQ29sdW1uID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICRzY29wZS5hZGQoJHNjb3BlLnNlbGVjdGVkQ29sdW1uKTtcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZENvbHVtbiA9IG51bGw7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5hZGQgPSBmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmNvbHVtbk5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChjb2x1bW4uaWQgPT09ICRzY29wZS5jb2x1bW5OYW1lc1tpXS5pZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5OYW1lc1tpXS5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmNvbHVtbnMucHVzaChjb2x1bW4pO1xuXG4gICAgICAgICAgICBzZXRWYWxpZGl0eSgpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICAgICAgaWYgKGNvbHVtbikge1xuICAgICAgICAgICAgICByZW1vdmVDb2x1bW4oJHNjb3BlLmNvbHVtbnMsIGNvbHVtbi5pZCk7XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuY29sdW1uTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmlkID09PSAkc2NvcGUuY29sdW1uTmFtZXNbaV0uaWQpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5OYW1lc1tpXS5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZXRWYWxpZGl0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBmdW5jdGlvbiByZW1vdmVDb2x1bW4oY29sdW1uc0xpc3QsIGlkKSB7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY29sdW1uc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGNvbHVtbnNMaXN0W2ldLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIGNvbHVtbnNMaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHNldFZhbGlkaXR5KCkge1xuICAgICAgICAgICAgaWYgKGN0cmwpIHtcbiAgICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoXCJyZXF1aXJlZFwiLCAkc2NvcGUuY29sdW1ucy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbHVtbnMoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgJHNjb3BlLmNvbHVtbk5hbWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jb2x1bW5zW2ldLmlkID09PSAkc2NvcGUuY29sdW1uTmFtZXNbal0uaWQpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5zW2ldLm5hbWUgPSAkc2NvcGUuY29sdW1uTmFtZXNbal0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5OYW1lc1tqXS5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNlbGVjdG9yXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNlbGVjdG9yXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvY29sdW1uLXNlbGVjdG9yL2NvbHVtbi1zZWxlY3Rvci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJzZWN0aW9uXFxcIj5cXG5cIiArXG4gICAgXCJcdDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiXHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCJjb2x1bW5zXFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3snY29sdW1uLnNlbGVjdC10aXRsZScgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiXHRcdFx0XHQ8c2VsZWN0IGNsYXNzPVxcXCJjb2x1bW4tc2VsZWN0b3IgZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwic2VsZWN0ZWRDb2x1bW5cXFwiXFxuXCIgK1xuICAgIFwiXHRcdFx0XHRuZy1vcHRpb25zPVxcXCJjb2x1bW4ubmFtZSB8IHRyYW5zbGF0ZSBmb3IgY29sdW1uIGluIGNvbHVtbk5hbWVzIHwgZmlsdGVyOnNob3cgdHJhY2sgYnkgY29sdW1uLmlkXFxcIlxcblwiICtcbiAgICBcIlx0XHRcdFx0bmctY2hhbmdlPVxcXCJhZGRDb2x1bW4oKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRpc2FibGVkXFxcIj48L3NlbGVjdD5cXG5cIiArXG4gICAgXCJcdFx0XHQ8L2Rpdj5cXG5cIiArXG4gICAgXCJcdFx0PC9kaXY+XFxuXCIgK1xuICAgIFwiXHQ8L2Rpdj5cXG5cIiArXG4gICAgXCJcdDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiXHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIlx0XHRcdFx0PGNvbHVtbi1zZXR0aW5nIGNvbHVtbj1cXFwiY29sdW1uXFxcIiBuZy1yZXBlYXQ9XFxcImNvbHVtbiBpbiBjb2x1bW5zXFxcIj48L2NvbHVtbi1zZXR0aW5nPlxcblwiICtcbiAgICBcIlx0XHRcdDwvZGl2PlxcblwiICtcbiAgICBcIlx0PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc2Nyb2xsLXNldHRpbmdcIixcbiAgICBbXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIl0pXG4gICAgLmRpcmVjdGl2ZShcInNjcm9sbFNldHRpbmdcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgc2Nyb2xsOiBcIj1cIixcbiAgICAgICAgICBoaWRlRGlyZWN0aW9uOiBcIkBcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvc2Nyb2xsLXNldHRpbmcvc2Nyb2xsLXNldHRpbmcuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5kZWZhdWx0U2V0dGluZyA9IHtcbiAgICAgICAgICAgIGJ5OiBcIm5vbmVcIixcbiAgICAgICAgICAgIGRpcmVjdGlvbjogXCJ1cFwiLFxuICAgICAgICAgICAgc3BlZWQ6IFwibWVkaXVtXCIsXG4gICAgICAgICAgICBwYXVzZTogNSxcbiAgICAgICAgICAgIHB1ZDogMTBcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLmRlZmF1bHRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChvYmpbcHJvcF0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuJHdhdGNoKFwic2Nyb2xsXCIsIGZ1bmN0aW9uKHNjcm9sbCkge1xuICAgICAgICAgICAgJHNjb3BlLmRlZmF1bHRzKHNjcm9sbCwgJHNjb3BlLmRlZmF1bHRTZXR0aW5nKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5zY3JvbGwtc2V0dGluZ1wiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnNjcm9sbC1zZXR0aW5nXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvc2Nyb2xsLXNldHRpbmcvc2Nyb2xsLXNldHRpbmcuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0yXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e1xcXCJzY3JvbGwuaGVhZGluZ1xcXCIgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNlbGVjdCBpZD1cXFwic2Nyb2xsLWJ5XFxcIiBuZy1tb2RlbD1cXFwic2Nyb2xsLmJ5XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIm5vbmVcXFwiPnt7J3Njcm9sbC5ieS5ub25lJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJjb250aW51b3VzXFxcIj57eydzY3JvbGwuYnkuY29udGludW91cycgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwicGFnZVxcXCI+e3snc2Nyb2xsLmJ5LnBhZ2UnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3NlbGVjdD5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0yXFxcIiBuZy1zaG93PVxcXCIhaGlkZURpcmVjdGlvbiAmJiBzY3JvbGwuYnkgPT0gJ2NvbnRpbnVvdXMnXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e1xcXCJ0cmFuc2l0aW9uLmRpcmVjdGlvbi5sYWJlbFxcXCIgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNlbGVjdCBpZD1cXFwic2Nyb2xsLWRpcmVjdGlvblxcXCIgbmFtZT1cXFwic2Nyb2xsLWRpcmVjdGlvblxcXCIgbmctbW9kZWw9XFxcInNjcm9sbC5kaXJlY3Rpb25cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwidXBcXFwiPnt7XFxcInRyYW5zaXRpb24uZGlyZWN0aW9uLnVwXFxcIiB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJsZWZ0XFxcIj57e1xcXCJ0cmFuc2l0aW9uLmRpcmVjdGlvbi5sZWZ0XFxcIiB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgPC9zZWxlY3Q+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMlxcXCIgbmctc2hvdz1cXFwic2Nyb2xsLmJ5ICE9ICdub25lJ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3snc2Nyb2xsLnNwZWVkLmxhYmVsJyB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8c2VsZWN0IGlkPVxcXCJzY3JvbGwtc3BlZWRcXFwiIG5nLW1vZGVsPVxcXCJzY3JvbGwuc3BlZWRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwic2xvd1xcXCI+e3snc2Nyb2xsLnNwZWVkLnNsb3cnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIm1lZGl1bVxcXCI+e3snc2Nyb2xsLnNwZWVkLm1lZGl1bScgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiZmFzdFxcXCI+e3snc2Nyb2xsLnNwZWVkLmZhc3QnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3NlbGVjdD5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0yXFxcIiBuZy1zaG93PVxcXCJzY3JvbGwuYnkgIT0gJ25vbmUnICYmIHNjcm9sbC5kaXJlY3Rpb24gIT0gJ2xlZnQnXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57eydzY3JvbGwucGF1c2UubGFiZWwnIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBpZD1cXFwic2Nyb2xsLXBhdXNlXFxcIiB0eXBlPVxcXCJudW1iZXJcXFwiIG5nLW1vZGVsPVxcXCJzY3JvbGwucGF1c2VcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIC8+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5zZWNvbmRzJyB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTJcXFwiIG5nLXNob3c9XFxcInNjcm9sbC5ieSAhPSAnbm9uZScgJiYgc2Nyb2xsLmRpcmVjdGlvbiAhPSAnbGVmdCdcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7J3Njcm9sbC5wdWQubGFiZWwnIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxcblwiICtcbiAgICBcIiAgICAgIDxzcGFuIHBvcG92ZXI9XFxcInt7J3Njcm9sbC5wdWQudG9vbHRpcCcgfCB0cmFuc2xhdGV9fVxcXCIgcG9wb3Zlci10cmlnZ2VyPVxcXCJjbGlja1xcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIHBvcG92ZXItcGxhY2VtZW50PVxcXCJyaWdodFxcXCIgcnYtdG9vbHRpcD48L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IGlkPVxcXCJzY3JvbGwtcHVkXFxcIiB0eXBlPVxcXCJudW1iZXJcXFwiIG5nLW1vZGVsPVxcXCJzY3JvbGwucHVkXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiAvPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj57eydjb21tb24udW5pdHMuc2Vjb25kcycgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4vKiBleHBvcnRlZCBjb25maWcgKi9cblxudmFyIGNvbmZpZyA9IHtcbiAgYXBpS2V5OiBcIkFJemFTeUFkWDV5UnpTY1BXYlJtMEZuTmNvWXhiaUxlUW84b3d3Y1wiXG59O1xuXG5pZiAodHlwZW9mIGFuZ3VsYXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5nb29nbGVTcHJlYWRzaGVldC5jb25maWdcIiwgW10pXG4gICAgLnZhbHVlKFwiQVBJX0tFWVwiLCBcIkFJemFTeUFkWDV5UnpTY1BXYlJtMEZuTmNvWXhiaUxlUW84b3d3Y1wiKTtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfUFJFRklYXCIsIFwibG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG59XG5cbmFuZ3VsYXIubW9kdWxlKCBcInJpc2V2aXNpb24ud2lkZ2V0Lmdvb2dsZVNwcmVhZHNoZWV0LnNldHRpbmdzXCIsIFtcbiAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmNvbHVtbi1zZWxlY3RvclwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5mb250LXNldHRpbmdcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc2Nyb2xsLXNldHRpbmdcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZ29vZ2xlLWRyaXZlLXBpY2tlclwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0Lmdvb2dsZVNwcmVhZHNoZWV0LmNvbmZpZ1wiLFxuICBcImNvbG9ycGlja2VyLm1vZHVsZVwiXG5dICk7XG5cblxuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiLCBbXSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5jb250cm9sbGVyKFwic2V0dGluZ3NDb250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcInNldHRpbmdzU2F2ZXJcIiwgXCJzZXR0aW5nc0dldHRlclwiLCBcInNldHRpbmdzQ2xvc2VyXCIsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgc2V0dGluZ3NTYXZlciwgc2V0dGluZ3NHZXR0ZXIsIHNldHRpbmdzQ2xvc2VyKSB7XG5cbiAgICAkc2NvcGUuc2V0dGluZ3MgPSB7IHBhcmFtczoge30sIGFkZGl0aW9uYWxQYXJhbXM6IHt9fTtcbiAgICAkc2NvcGUuYWxlcnRzID0gW107XG5cbiAgICAkc2NvcGUuZ2V0QWRkaXRpb25hbFBhcmFtID0gZnVuY3Rpb24gKG5hbWUsIGRlZmF1bHRWYWwpIHtcbiAgICAgIHZhciB2YWwgPSAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtc1tuYW1lXTtcbiAgICAgIGlmKGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsKSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuc2V0QWRkaXRpb25hbFBhcmFtID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xuICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV0gPSB2YWw7XG4gICAgfTtcblxuICAgICRzY29wZS5sb2FkQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldHRpbmdzR2V0dGVyLmdldEFkZGl0aW9uYWxQYXJhbXMoKS50aGVuKGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zKSB7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zID0gYWRkaXRpb25hbFBhcmFtcztcbiAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoXCJsb2FkQWRkaXRpb25hbFBhcmFtc1wiLCBhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbiAoZXJyKSB7YWxlcnQgKGVycik7IH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2V0QWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uIChuYW1lLCB2YWwpIHtcbiAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdID0gdmFsO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2F2ZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy9jbGVhciBvdXQgcHJldmlvdXMgYWxlcnRzLCBpZiBhbnlcbiAgICAgICRzY29wZS5hbGVydHMgPSBbXTtcblxuICAgICAgJHNjb3BlLiRicm9hZGNhc3QoXCJjb2xsZWN0QWRkaXRpb25hbFBhcmFtc1wiKTtcblxuICAgICAgc2V0dGluZ3NTYXZlci5zYXZlU2V0dGluZ3MoJHNjb3BlLnNldHRpbmdzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9UT0RPOiBwZXJoYXBzIHNob3cgc29tZSBpbmRpY2F0b3IgaW4gVUk/XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICRzY29wZS5hbGVydHMgPSBlcnIuYWxlcnRzO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLmNsb3NlU2V0dGluZ3MgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNldHRpbmdzQ2xvc2VyLmNsb3NlU2V0dGluZ3MoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9UT0RPOlxuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAkc2NvcGUuYWxlcnRzID0gZXJyLmFsZXJ0cztcbiAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgICRzY29wZS5zZXR0aW5ncy5wYXJhbXMgPSBzZXR0aW5nc0dldHRlci5nZXRQYXJhbXMoKTtcbiAgICAkc2NvcGUubG9hZEFkZGl0aW9uYWxQYXJhbXMoKTtcbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZShcInNjcm9sbE9uQWxlcnRzXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogXCJBXCIsIC8vcmVzdHJpY3RzIHRvIGF0dHJpYnV0ZXNcbiAgICAgIHNjb3BlOiBmYWxzZSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsbSkge1xuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihcImFsZXJ0c1wiLCBmdW5jdGlvbiAobmV3QWxlcnRzLCBvbGRBbGVydHMpIHtcbiAgICAgICAgICBpZihuZXdBbGVydHMubGVuZ3RoID4gMCAmJiBvbGRBbGVydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAkKFwiYm9keVwiKS5hbmltYXRlKHtzY3JvbGxUb3A6ICRlbG0ub2Zmc2V0KCkudG9wfSwgXCJmYXN0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuY29uc3RhbnQoXCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0VcIiwgXCJzdG9yYWdlLmdvb2dsZWFwaXMuY29tL3Jpc2VtZWRpYWxpYnJhcnktXCIpXG4gIC5jb25zdGFudChcIlNUT1JBR0VfRk9MREVSX1VSTF9CQVNFXCIsIFwiZ29vZ2xlYXBpcy5jb20vc3RvcmFnZS9cIilcbiAgLmZhY3RvcnkoXCJjb21tb25TZXR0aW5nc1wiLCBbXCIkbG9nXCIsIFwiU1RPUkFHRV9GSUxFX1VSTF9CQVNFXCIsIFwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0VcIixcbiAgICBmdW5jdGlvbiAoJGxvZywgU1RPUkFHRV9GSUxFX1VSTF9CQVNFLCBTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRSkge1xuXG4gICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICBnZXRTdG9yYWdlVXJsRGF0YTogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgc3RvcmFnZSA9IHt9LFxuICAgICAgICAgIHN0ciwgYXJyLCBwYXJhbXMsIHBhaXI7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0U3RvcmFnZVR5cGUoc3RvcmFnZVVybCkge1xuICAgICAgICAgIGlmIChzdG9yYWdlVXJsLmluZGV4T2YoU1RPUkFHRV9GSUxFX1VSTF9CQVNFKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBcImZpbGVcIjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RvcmFnZVVybC5pbmRleE9mKFNUT1JBR0VfRk9MREVSX1VSTF9CQVNFKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBcImZvbGRlclwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29tcGFueUlkKHN0b3JhZ2VVcmwpIHtcbiAgICAgICAgICB2YXIgcCA9IHN0b3JhZ2VVcmwuc3BsaXQoXCJyaXNlbWVkaWFsaWJyYXJ5LVwiKTtcblxuICAgICAgICAgIHJldHVybiBwWzFdLnNsaWNlKDAsIHBbMV0uaW5kZXhPZihcIi9cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdldFN0b3JhZ2VUeXBlKHVybCkgPT09IFwiZmlsZVwiKSB7XG4gICAgICAgICAgc3RyID0gdXJsLnNwbGl0KFNUT1JBR0VfRklMRV9VUkxfQkFTRSlbMV07XG4gICAgICAgICAgc3RyID0gZGVjb2RlVVJJQ29tcG9uZW50KHN0ci5zbGljZShzdHIuaW5kZXhPZihcIi9cIikgKyAxKSk7XG4gICAgICAgICAgYXJyID0gc3RyLnNwbGl0KFwiL1wiKTtcblxuICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XG4gICAgICAgICAgc3RvcmFnZS5maWxlTmFtZSA9IGFyci5wb3AoKTtcbiAgICAgICAgICBzdG9yYWdlLmZvbGRlciA9IGFyci5sZW5ndGggPiAwID8gYXJyLmpvaW4oXCIvXCIpIDogXCJcIjtcblxuICAgICAgICAgIGlmIChzdG9yYWdlLmZvbGRlciAhPT0gXCJcIikge1xuICAgICAgICAgICAgLy8gYWRkIGVuZGluZyBcIi9cIiB0byB0aGUgZm9sZGVyIHBhdGhcbiAgICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyICs9IFwiL1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZXRTdG9yYWdlVHlwZSh1cmwpID09PSBcImZvbGRlclwiKSB7XG4gICAgICAgICAgcGFyYW1zID0gdXJsLnNwbGl0KFwiP1wiKTtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWlyID0gcGFyYW1zW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgICAgICAgaWYgKHBhaXJbMF0gPT09IFwicHJlZml4XCIgJiYgdHlwZW9mIHBhaXJbMV0gIT09IFwidW5kZWZpbmVkXCIgJiYgcGFpclsxXSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICBzdG9yYWdlLmNvbXBhbnlJZCA9IGdldENvbXBhbnlJZCh1cmwpO1xuICAgICAgICAgICAgICBzdG9yYWdlLmZvbGRlciA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgICAgICAgc3RvcmFnZS5maWxlTmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdG9yYWdlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImdhZGdldHNBcGlcIiwgW1wiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuICAgIHJldHVybiAkd2luZG93LmdhZGdldHM7XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmZhY3RvcnkoXCJnb29nbGVGb250TG9hZGVyXCIsIFtcIiRodHRwXCIsIFwiYW5ndWxhckxvYWRcIiwgZnVuY3Rpb24gKCRodHRwLCBhbmd1bGFyTG9hZCkge1xuXG4gICAgdmFyIGZhY3RvcnkgPSB7fSxcbiAgICAgIGFsbEZvbnRzID0gW107XG5cbiAgICBmYWN0b3J5LmdldEdvb2dsZUZvbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoYWxsRm9udHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIEdldCBsaXN0IG9mIEdvb2dsZSBmb250cyBzb3J0ZWQgYWxwaGFiZXRpY2FsbHkuXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS93ZWJmb250cy92MS93ZWJmb250cz9rZXk9QUl6YVN5Qlh4VktfSU9WN0xOUU11VlZvX2w3WnZONTNlak44NnpZJnNvcnQ9YWxwaGFcIiwgeyBjYWNoZTogdHJ1ZSB9KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHJlc3AuZGF0YSAmJiByZXNwLmRhdGEuaXRlbXMpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJlc3AuZGF0YS5pdGVtcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSByZXNwLmRhdGEuaXRlbXNbaV07XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCByZXR1cm4gdGhvc2UgZm9udHMgdGhhdCBoYXZlIGEgc3Vic2V0IG9mIFwia2htZXJcIi5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5zdWJzZXRzICYmIChpdGVtLnN1YnNldHMubGVuZ3RoID09PSAxKSAmJlxuICAgICAgICAgICAgICAgICAgKGl0ZW0uc3Vic2V0c1swXS50b0xvd2VyQ2FzZSgpID09PSBcImtobWVyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFsbEZvbnRzLnB1c2goaXRlbS5mYW1pbHkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGxvYWRGb250cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBsb2FkRm9udHMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyogRmlsdGVyIGxpc3Qgb2YgZm9udHMgdG8gb25seSByZXR1cm4gdGhvc2UgdGhhdCBhcmUgR29vZ2xlIGZvbnRzLiAqL1xuICAgIGZhY3RvcnkuZ2V0Rm9udHNVc2VkID0gZnVuY3Rpb24oZmFtaWx5TGlzdCkge1xuICAgICAgdmFyIGZvbnRzVXNlZCA9IFtdO1xuXG4gICAgICBhbmd1bGFyLmZvckVhY2goYWxsRm9udHMsIGZ1bmN0aW9uIChmYW1pbHkpIHtcbiAgICAgICAgaWYgKGZhbWlseUxpc3QuaW5kZXhPZihmYW1pbHkpICE9PSAtMSkge1xuICAgICAgICAgIGZvbnRzVXNlZC5wdXNoKGZhbWlseSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZm9udHNVc2VkO1xuICAgIH07XG5cbiAgICAvKiBMb2FkIHRoZSBHb29nbGUgZm9udHMuICovXG4gICAgZnVuY3Rpb24gbG9hZEZvbnRzKCkge1xuICAgICAgdmFyIGZhbWlseSA9IFwiXCIsXG4gICAgICAgIGZvbnRzID0gXCJcIixcbiAgICAgICAgdXJsID0gXCJcIixcbiAgICAgICAgdXJscyA9IFtdLFxuICAgICAgICBzcGFjZXMgPSBmYWxzZSxcbiAgICAgICAgZmFsbGJhY2sgPSBcIixzYW5zLXNlcmlmO1wiLFxuICAgICAgICBmb250QmFzZVVybCA9IFwiLy9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVwiLFxuICAgICAgICBleGNsdWRlID0gW1wiQnVkYVwiLCBcIkNvZGEgQ2FwdGlvblwiLCBcIk9wZW4gU2FucyBDb25kZW5zZWRcIiwgXCJVbmlmcmFrdHVyQ29va1wiLCBcIk1vbGxlXCJdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEZvbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZhbWlseSA9IGFsbEZvbnRzW2ldO1xuXG4gICAgICAgIGlmIChleGNsdWRlLmluZGV4T2YoZmFtaWx5KSA9PT0gLTEpIHtcbiAgICAgICAgICB1cmwgPSBmb250QmFzZVVybCArIGZhbWlseTtcblxuICAgICAgICAgIGFuZ3VsYXJMb2FkLmxvYWRDU1ModXJsKTtcbiAgICAgICAgICB1cmxzLnB1c2godXJsKTtcblxuICAgICAgICAgIC8vIGNoZWNrIGZvciBzcGFjZXMgaW4gZmFtaWx5IG5hbWVcbiAgICAgICAgICBpZiAoL1xccy8udGVzdChmYW1pbHkpKSB7XG4gICAgICAgICAgICBzcGFjZXMgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzcGFjZXMpIHtcbiAgICAgICAgICAgIC8vIHdyYXAgZmFtaWx5IG5hbWUgaW4gc2luZ2xlIHF1b3Rlc1xuICAgICAgICAgICAgZm9udHMgKz0gZmFtaWx5ICsgXCI9J1wiICsgZmFtaWx5ICsgXCInXCIgKyBmYWxsYmFjaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj1cIiArIGZhbWlseSArIGZhbGxiYWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBmb250czogZm9udHMsIHVybHM6IHVybHMgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuc2VydmljZShcImkxOG5Mb2FkZXJcIiwgW1wiJHdpbmRvd1wiLCBcIiRxXCIsIGZ1bmN0aW9uICgkd2luZG93LCAkcSkge1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAkd2luZG93LmkxOG4uaW5pdCh7IFxuICAgICAgZmFsbGJhY2tMbmc6IFwiZW5cIixcbiAgICAgIHJlc0dldFBhdGg6IFwibG9jYWxlcy9fX25zX19fX19sbmdfXy5qc29uXCJcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCR3aW5kb3cuaTE4bik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmZhY3RvcnkoXCJpbWFnZVZhbGlkYXRvclwiLCBbXCIkcVwiLCBmdW5jdGlvbiAoJHEpIHtcbiAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgIC8vIFZlcmlmeSB0aGF0IFVSTCBpcyBhIHZhbGlkIGltYWdlIGZpbGUuXG4gICAgICBpc0ltYWdlOiBmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKSxcbiAgICAgICAgICBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGltYWdlLnNyYyA9IHNyYztcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZhY3Rvcnk7XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLnNlcnZpY2UoXCJzZXR0aW5nc1NhdmVyXCIsIFtcIiRxXCIsIFwiJGxvZ1wiLCBcImdhZGdldHNBcGlcIiwgXCJzZXR0aW5nc1BhcnNlclwiLFxuICBmdW5jdGlvbiAoJHEsICRsb2csIGdhZGdldHNBcGksIHNldHRpbmdzUGFyc2VyKSB7XG5cbiAgICB0aGlzLnNhdmVTZXR0aW5ncyA9IGZ1bmN0aW9uIChzZXR0aW5ncywgdmFsaWRhdG9yKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgdmFyIGFsZXJ0cyA9IFtdLCBzdHIgPSBcIlwiO1xuXG4gICAgICBzZXR0aW5ncyA9IHByb2Nlc3NTZXR0aW5ncyhzZXR0aW5ncyk7XG5cbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgYWxlcnRzID0gdmFsaWRhdG9yKHNldHRpbmdzKTtcbiAgICAgIH1cblxuICAgICAgaWYoYWxlcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJGxvZy5kZWJ1ZyhcIlZhbGlkYXRpb24gZmFpbGVkLlwiLCBhbGVydHMpO1xuICAgICAgICBkZWZlcnJlZC5yZWplY3Qoe2FsZXJ0czogYWxlcnRzfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZXR0aW5ncy5wYXJhbXMuaGFzT3duUHJvcGVydHkoXCJsYXlvdXRVUkxcIikpIHtcbiAgICAgICAgLy8gZW5zdXJlIHRoZSB1cmwgaXMgdGhlIHN0YXJ0IG9mIHRoZSBzdHJpbmdcbiAgICAgICAgc3RyICs9IHNldHRpbmdzLnBhcmFtcy5sYXlvdXRVUkwgKyBcIj9cIjtcbiAgICAgICAgLy8gZGVsZXRlIHRoaXMgcHJvcGVydHkgc28gaXRzIG5vdCBpbmNsdWRlZCBiZWxvdyBpbiBlbmNvZGVQYXJhbXMgY2FsbFxuICAgICAgICBkZWxldGUgc2V0dGluZ3MucGFyYW1zLmxheW91dFVSTDtcbiAgICAgIH1cblxuICAgICAgc3RyICs9IHNldHRpbmdzUGFyc2VyLmVuY29kZVBhcmFtcyhzZXR0aW5ncy5wYXJhbXMpO1xuXG4gICAgICB2YXIgYWRkaXRpb25hbFBhcmFtc1N0ciA9XG4gICAgICAgIHNldHRpbmdzUGFyc2VyLmVuY29kZUFkZGl0aW9uYWxQYXJhbXMoc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcyk7XG5cbiAgICAgIGdhZGdldHNBcGkucnBjLmNhbGwoXCJcIiwgXCJyc2NtZF9zYXZlU2V0dGluZ3NcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAkbG9nLmRlYnVnKFwiZW5jb2RlZCBzZXR0aW5nc1wiLCBKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcbiAgICAgICAgJGxvZy5kZWJ1ZyhcIlNldHRpbmdzIHNhdmVkLiBcIiwgc2V0dGluZ3MpO1xuXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0sIHtcbiAgICAgICAgcGFyYW1zOiBzdHIsXG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbXM6IGFkZGl0aW9uYWxQYXJhbXNTdHJcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1NldHRpbmdzKHNldHRpbmdzKSB7XG4gICAgICB2YXIgbmV3U2V0dGluZ3MgPSBhbmd1bGFyLmNvcHkoc2V0dGluZ3MpO1xuXG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLmlkO1xuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5jb21wYW55SWQ7XG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLnJzVztcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMucnNIO1xuXG4gICAgICByZXR1cm4gbmV3U2V0dGluZ3M7XG4gICAgfVxuXG4gIH1dKVxuXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NHZXR0ZXJcIiwgW1wiJHFcIiwgXCJnYWRnZXRzQXBpXCIsIFwiJGxvZ1wiLCBcInNldHRpbmdzUGFyc2VyXCIsIFwiJHdpbmRvd1wiLCBcImRlZmF1bHRTZXR0aW5nc1wiLFxuICAgIGZ1bmN0aW9uICgkcSwgZ2FkZ2V0c0FwaSwgJGxvZywgc2V0dGluZ3NQYXJzZXIsICR3aW5kb3csIGRlZmF1bHRTZXR0aW5ncykge1xuXG4gICAgICB0aGlzLmdldEFkZGl0aW9uYWxQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIHZhciBkZWZhdWx0QWRkaXRpb25hbFBhcmFtcyA9IGRlZmF1bHRTZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zIHx8IHt9O1xuXG4gICAgICAgIGdhZGdldHNBcGkucnBjLmNhbGwoXCJcIiwgXCJyc2NtZF9nZXRBZGRpdGlvbmFsUGFyYW1zXCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzZXR0aW5nc1BhcnNlci5wYXJzZUFkZGl0aW9uYWxQYXJhbXMocmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSB7fTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkbG9nLmRlYnVnKFwiZ2V0QWRkaXRpb25hbFBhcmFtcyByZXR1cm5zIFwiLCByZXN1bHQpO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJC5leHRlbmQodHJ1ZSwgZGVmYXVsdEFkZGl0aW9uYWxQYXJhbXMsIHJlc3VsdCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZ2V0UGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVmYXVsdFBhcmFtcyA9IGRlZmF1bHRTZXR0aW5ncy5wYXJhbXMgfHwge307XG4gICAgICAgIHJldHVybiBhbmd1bGFyLmV4dGVuZChkZWZhdWx0UGFyYW1zLFxuICAgICAgICAgIHNldHRpbmdzUGFyc2VyLnBhcnNlUGFyYW1zKCR3aW5kb3cubG9jYXRpb24uc2VhcmNoKSk7XG4gICAgICB9O1xuICB9XSlcblxuICAuc2VydmljZShcInNldHRpbmdzUGFyc2VyXCIsIFtmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5wYXJzZUFkZGl0aW9uYWxQYXJhbXMgPSBmdW5jdGlvbiAoYWRkaXRpb25hbFBhcmFtc1N0cikge1xuICAgICAgaWYoYWRkaXRpb25hbFBhcmFtc1N0cikge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShhZGRpdGlvbmFsUGFyYW1zU3RyKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZW5jb2RlQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zKSB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgfTtcblxuICAgIHRoaXMuZW5jb2RlUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgdmFyIHN0ciA9IFtdO1xuICAgICAgZm9yKHZhciBwIGluIHBhcmFtcykge1xuICAgICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1zW3BdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtc1twXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJhbXNbcF07XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0ci5wdXNoKFwidXBfXCIgKyBlbmNvZGVVUklDb21wb25lbnQocCkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHIuam9pbihcIiZcIik7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHN0cmlwUHJlZml4KG5hbWUpIHtcbiAgICAgIGlmKG5hbWUuaW5kZXhPZihcInVwX1wiKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmFtZS5zbGljZSgzKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnBhcnNlUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtc1N0cikge1xuICAgICAgLy9nZXQgcmlkIG9mIHByZWNlZWRpbmcgXCI/XCJcbiAgICAgIGlmKHBhcmFtc1N0clswXSA9PT0gXCI/XCIpIHtcbiAgICAgICAgcGFyYW1zU3RyID0gcGFyYW1zU3RyLnNsaWNlKDEpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgdmFyIHZhcnMgPSBwYXJhbXNTdHIuc3BsaXQoXCImXCIpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwYWlyID0gdmFyc1tpXS5zcGxpdChcIj1cIik7XG4gICAgICAgIHZhciBuYW1lID0gc3RyaXBQcmVmaXgoZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pKTtcbiAgICAgICAgLy9zYXZlIHNldHRpbmdzIG9ubHkgaWYgaXQgaGFzIHVwXyBwcmVmaXguIElnbm9yZSBvdGhlcndpc2VcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gIH1dKVxuXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NDbG9zZXJcIiwgW1wiJHFcIiwgXCIkbG9nXCIsIFwiZ2FkZ2V0c0FwaVwiLFxuICBmdW5jdGlvbiAoJHEsICRsb2csIGdhZGdldHNBcGkpIHtcblxuICAgIHRoaXMuY2xvc2VTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIGdhZGdldHNBcGkucnBjLmNhbGwoXCJcIiwgXCJyc2NtZF9jbG9zZVNldHRpbmdzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gIH1dKVxuXG4gIC52YWx1ZShcImRlZmF1bHRTZXR0aW5nc1wiLCB7fSk7XG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi52aXN1YWxpemF0aW9uXCIsIFtdKVxuICAgIC5mYWN0b3J5KFwidmlzdWFsaXphdGlvbkFwaVwiLCBbXCIkcVwiLCBcIiR3aW5kb3dcIiwgZnVuY3Rpb24gKCRxLCAkd2luZG93KSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgdmFyIHByb21pc2U7XG5cbiAgICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgaWYgKCEkd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uKSB7XG4gICAgICAgICAgICAgICR3aW5kb3cuZ29vZ2xlLnNldE9uTG9hZENhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCR3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCR3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBmYWN0b3J5O1xuXG4gICAgfV0pO1xuXG59KShhbmd1bGFyKTtcblxuYW5ndWxhci5tb2R1bGUoIFwicmlzZXZpc2lvbi53aWRnZXQuZ29vZ2xlU3ByZWFkc2hlZXQuc2V0dGluZ3NcIiApXG4gIC5jb250cm9sbGVyKCBcInNwcmVhZHNoZWV0U2V0dGluZ3NDb250cm9sbGVyXCIsIFsgXCIkc2NvcGVcIiwgXCJnb29nbGVTaGVldFwiLCBcIiR3aW5kb3dcIixcbiAgICBmdW5jdGlvbiggJHNjb3BlLCBnb29nbGVTaGVldCwgJHdpbmRvdyApIHtcblxuICAgICAgJHNjb3BlLnNob3dQcmV2aWV3ID0gZmFsc2U7XG4gICAgICAkc2NvcGUuc2hlZXRzID0gW107XG4gICAgICAkc2NvcGUuY3VycmVudFNoZWV0ID0gbnVsbDtcbiAgICAgICRzY29wZS5jb2x1bW5zID0gW107XG4gICAgICAkc2NvcGUudmFsaWRBcGlLZXkgPSB0cnVlO1xuICAgICAgJHNjb3BlLnB1YmxpYyA9IHRydWU7XG4gICAgICAkc2NvcGUudmFsaWREYXRhID0gdHJ1ZTtcblxuICAgICAgZnVuY3Rpb24gcmVzZXRXb3JrU2hlZXRzKCkge1xuICAgICAgICAkc2NvcGUuc2hlZXRzID0gW107XG4gICAgICAgICRzY29wZS5jdXJyZW50U2hlZXQgPSBudWxsO1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5zaGVldE5hbWUgPSBcIlwiO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXNldENvbHVtbnMoIHJlc2V0U2VydmljZSApIHtcbiAgICAgICAgJHNjb3BlLmNvbHVtbnMgPSBbXTtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuZm9ybWF0LmNvbHVtbnMgPSBbXTtcblxuICAgICAgICBpZiAoIHJlc2V0U2VydmljZSApIHtcbiAgICAgICAgICBnb29nbGVTaGVldC5yZXNldENvbHVtbnMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRXb3JrU2hlZXRzKCBmaWxlSWQgKSB7XG4gICAgICAgIGdvb2dsZVNoZWV0LmdldFdvcmtTaGVldHMoIGZpbGVJZCApXG4gICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uKCBzaGVldHMgKSB7XG4gICAgICAgICAgICAkc2NvcGUucHVibGljID0gdHJ1ZTtcbiAgICAgICAgICAgICRzY29wZS5zaGVldHMgPSBzaGVldHMubWFwKCBmdW5jdGlvbiggc2hlZXQgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHNoZWV0LnByb3BlcnRpZXMudGl0bGUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHNoZWV0LnByb3BlcnRpZXMudGl0bGVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgaWYgKCAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5zaGVldE5hbWUgKSB7XG4gICAgICAgICAgICAgICRzY29wZS5jdXJyZW50U2hlZXQgPSAkc2NvcGUuc2hlZXRzLmZpbHRlciggZnVuY3Rpb24oIG9iaiApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnZhbHVlID09PSAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5zaGVldE5hbWU7XG4gICAgICAgICAgICAgIH0gKVsgMCBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRTaGVldCA9ICRzY29wZS5zaGVldHNbIDAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IClcbiAgICAgICAgICAudGhlbiggbnVsbCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucHVibGljID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJlc2V0V29ya1NoZWV0cygpO1xuICAgICAgICAgICAgcmVzZXRDb2x1bW5zKCB0cnVlICk7XG4gICAgICAgICAgfSApO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDb2x1bW5zRGF0YSggcHJlc2VydmVGb3JtYXRzICkge1xuICAgICAgICB2YXIgcmFuZ2UgPSBcIlwiO1xuXG4gICAgICAgIGlmICggISRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnNoZWV0TmFtZSB8fCAhJHNjb3BlLnZhbGlkQXBpS2V5ICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuY2VsbHMgPT09IFwicmFuZ2VcIiApIHtcbiAgICAgICAgICBpZiAoICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnJhbmdlLnN0YXJ0Q2VsbCAmJlxuICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQucmFuZ2UuZW5kQ2VsbCApIHtcblxuICAgICAgICAgICAgcmFuZ2UgPSAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5yYW5nZS5zdGFydENlbGwgKyBcIjpcIiArXG4gICAgICAgICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnJhbmdlLmVuZENlbGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ29vZ2xlU2hlZXQuZ2V0Q29sdW1uc0RhdGEoICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmZpbGVJZCxcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5hcGlLZXksXG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuc2hlZXROYW1lLFxuICAgICAgICAgIHJhbmdlIClcbiAgICAgICAgICAudGhlbiggZnVuY3Rpb24oIGNvbHVtbnMgKSB7XG4gICAgICAgICAgICAkc2NvcGUudmFsaWREYXRhID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKCBjb2x1bW5zICkge1xuICAgICAgICAgICAgICBpZiAoICFwcmVzZXJ2ZUZvcm1hdHMgKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuZm9ybWF0LmNvbHVtbnMgPSBbXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAkc2NvcGUuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IClcbiAgICAgICAgICAudGhlbiggbnVsbCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUudmFsaWREYXRhID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJlc2V0Q29sdW1ucygpO1xuICAgICAgICAgIH0gKTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJjdXJyZW50U2hlZXRcIiwgZnVuY3Rpb24oIGN1cnJlbnRTaGVldCApIHtcbiAgICAgICAgaWYgKCBjdXJyZW50U2hlZXQgKSB7XG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuc2hlZXROYW1lID0gY3VycmVudFNoZWV0LnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9ICk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goIFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5zaGVldE5hbWVcIiwgZnVuY3Rpb24oIG5ld1ZhbCwgb2xkVmFsICkge1xuICAgICAgICBpZiAoIHR5cGVvZiBvbGRWYWwgPT09IFwidW5kZWZpbmVkXCIgJiYgbmV3VmFsICYmIG5ld1ZhbCAhPT0gXCJcIiApIHtcbiAgICAgICAgICAvLyBwcmV2aW91c2x5IHNhdmVkIHNldHRpbmdzIGFyZSBiZWluZyBzaG93biwgcG9wdWxhdGUgY29sdW1ucyBidXQgcHJlc2VydmUgc2F2ZWQgZm9ybWF0c1xuICAgICAgICAgIGdldENvbHVtbnNEYXRhKCB0cnVlICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCB0eXBlb2YgbmV3VmFsICE9PSBcInVuZGVmaW5lZFwiICYmIG5ld1ZhbCAhPT0gXCJcIiApIHtcbiAgICAgICAgICAgIC8vIG5ldyBzaGVldCBjaG9zZW4sIHBvcHVsYXRlIGNvbHVtbnNcbiAgICAgICAgICAgIGdldENvbHVtbnNEYXRhKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmNlbGxzXCIsIGZ1bmN0aW9uKCBuZXdWYWwsIG9sZFZhbCApIHtcbiAgICAgICAgaWYgKCB0eXBlb2YgbmV3VmFsICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBvbGRWYWwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICAgICAgLy8gdXNlciBoYXMgbWFudWFsbHkgY2hhbmdlZCB2YWx1ZVxuICAgICAgICAgIGdldENvbHVtbnNEYXRhKCk7XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLnN0YXJ0Q2VsbEJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZ2V0Q29sdW1uc0RhdGEoKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5lbmRDZWxsQmx1ciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBnZXRDb2x1bW5zRGF0YSgpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmZpbGVJZFwiLCBmdW5jdGlvbiggZmlsZUlkICkge1xuICAgICAgICBpZiAoIHR5cGVvZiBmaWxlSWQgPT09IFwidW5kZWZpbmVkXCIgfHwgIWZpbGVJZCApIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NGb3JtLiRzZXRWYWxpZGl0eSggXCJmaWxlSWRcIiwgZmFsc2UgKTtcbiAgICAgICAgfVxuICAgICAgfSApO1xuXG4gICAgICAkc2NvcGUuZmlsZUlkQmx1ciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICggJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuZmlsZUlkICkge1xuICAgICAgICAgIGlmICggJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuc2VsZWN0aW9uID09PSBcImtleVwiICkge1xuICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQudXJsID1cbiAgICAgICAgICAgICAgXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9cIiArICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmZpbGVJZCArIFwiL2VkaXQjZ2lkPTBcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS4kd2F0Y2goIFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC51cmxcIiwgZnVuY3Rpb24oIG5ld1VybCwgb2xkVXJsICkge1xuICAgICAgICBpZiAoIHR5cGVvZiBuZXdVcmwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICAgICAgaWYgKCBuZXdVcmwgIT09IG9sZFVybCApIHtcbiAgICAgICAgICAgIGlmICggbmV3VXJsICE9PSBcIlwiICkge1xuICAgICAgICAgICAgICAkc2NvcGUuc2hvd1ByZXZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NGb3JtLiRzZXRWYWxpZGl0eSggXCJmaWxlSWRcIiwgdHJ1ZSApO1xuICAgICAgICAgICAgICBnZXRXb3JrU2hlZXRzKCAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJwdWJsaWNcIiwgZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldCAmJlxuICAgICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmZpbGVJZCAmJlxuICAgICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmZpbGVJZCAhPT0gXCJcIiApIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NGb3JtLiRzZXRWYWxpZGl0eSggXCJmaWxlSWRcIiwgdmFsdWUgKTtcbiAgICAgICAgfVxuICAgICAgfSApO1xuXG4gICAgICAkc2NvcGUuJG9uKCBcInBpY2tlZFwiLCBmdW5jdGlvbiggZXZlbnQsIGRhdGEgKSB7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnNlbGVjdGlvbiA9IFwiZHJpdmVcIjtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuZG9jTmFtZSA9IGRhdGFbIDAgXS5uYW1lO1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgPSBkYXRhWyAwIF0uaWQ7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnVybCA9IGVuY29kZVVSSSggZGF0YVsgMCBdLnVybCApO1xuICAgICAgfSApO1xuXG4gICAgICAkc2NvcGUuc2V0U2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5zaG93UHJldmlldyA9IHRydWU7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnNlbGVjdGlvbiA9IFwia2V5XCI7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucHJldmlld0ZpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHdpbmRvdy5vcGVuKCAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC51cmwsIFwiX2JsYW5rXCIgKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXRyeUZpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgJiZcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgIT09IFwiXCIgKSB7XG4gICAgICAgICAgJHNjb3BlLnB1YmxpYyA9IHRydWU7XG4gICAgICAgICAgZ2V0V29ya1NoZWV0cyggJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuZmlsZUlkICk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUucHVibGljID0gdHJ1ZTtcblxuICAgICAgICBpZiAoICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnNlbGVjdGlvbiA9PT0gXCJkcml2ZVwiICkge1xuICAgICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmRvY05hbWUgPSBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQudXJsID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuZmlsZUlkID0gXCJcIjtcblxuICAgICAgICByZXNldFdvcmtTaGVldHMoKTtcbiAgICAgICAgcmVzZXRDb2x1bW5zKCB0cnVlICk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKCBcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuYXBpS2V5XCIsIGZ1bmN0aW9uKCBhcGlLZXkgKSB7XG4gICAgICAgIGlmICggdHlwZW9mIGFwaUtleSA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhYXBpS2V5ICkge1xuICAgICAgICAgICRzY29wZS5zZXR0aW5nc0Zvcm0uJHNldFZhbGlkaXR5KCBcImFwaUtleVwiLCB0cnVlICk7XG4gICAgICAgICAgJHNjb3BlLnZhbGlkQXBpS2V5ID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0ICkge1xuICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQucmVmcmVzaCA9IDYwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSApO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKCBcInZhbGlkQXBpS2V5XCIsIGZ1bmN0aW9uKCBuZXdWYWwsIG9sZFZhbCApIHtcbiAgICAgICAgaWYgKCBuZXdWYWwgIT09IG9sZFZhbCAmJiBuZXdWYWwgKSB7XG4gICAgICAgICAgLy8gYSBwcmV2aW91c2x5IGludmFsaWQgQVBJIGtleSBoYXMgYmVlbiBjb3JyZWN0ZWQsIGVuc3VyZSBjb3JyZWN0IGNvbHVtbnMgYXJlIHBvcHVsYXRlZFxuICAgICAgICAgIGdldENvbHVtbnNEYXRhKCk7XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLmFwaUtleUJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5hcGlLZXkgKSB7XG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzRm9ybS4kc2V0VmFsaWRpdHkoIFwiYXBpS2V5XCIsIHRydWUgKTtcbiAgICAgICAgICBnb29nbGVTaGVldC5nZXRXb3JrU2hlZXRzKCAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQsICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmFwaUtleSApXG4gICAgICAgICAgICAudGhlbiggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICRzY29wZS52YWxpZEFwaUtleSA9IHRydWU7XG4gICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0Zvcm0uJHNldFZhbGlkaXR5KCBcImFwaUtleVwiLCB0cnVlICk7XG4gICAgICAgICAgICB9IClcbiAgICAgICAgICAgIC50aGVuKCBudWxsLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkQXBpS2V5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0Zvcm0uJHNldFZhbGlkaXR5KCBcImFwaUtleVwiLCBmYWxzZSApO1xuICAgICAgICAgICAgfSApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gXSApXG4gIC52YWx1ZSggXCJkZWZhdWx0U2V0dGluZ3NcIiwge1xuICAgIHBhcmFtczoge30sXG4gICAgYWRkaXRpb25hbFBhcmFtczoge1xuICAgICAgZm9ybWF0OiB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBmb250U3R5bGU6IHtcbiAgICAgICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgICAgZmFtaWx5OiBcInRhaG9tYSxhcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICB0eXBlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgIHVybDogXCJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IFwiMThweFwiLFxuICAgICAgICAgICAgY3VzdG9tU2l6ZTogXCJcIixcbiAgICAgICAgICAgIGFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgICAgICBib2xkOiBmYWxzZSxcbiAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgZm9yZWNvbG9yOiBcImJsYWNrXCIsXG4gICAgICAgICAgICBiYWNrY29sb3I6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29sdW1uczogW10sXG4gICAgICAgIGV2ZW5Sb3dDb2xvcjogXCJyZ2JhKDAsMCwwLDApXCIsXG4gICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgIGZvbnRTdHlsZToge1xuICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICBmYW1pbHk6IFwidGFob21hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgICAgIHR5cGU6IFwic3RhbmRhcmRcIixcbiAgICAgICAgICAgICAgdXJsOiBcIlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2l6ZTogXCIxOHB4XCIsXG4gICAgICAgICAgICBjdXN0b21TaXplOiBcIlwiLFxuICAgICAgICAgICAgYWxpZ246IFwibGVmdFwiLFxuICAgICAgICAgICAgdmVydGljYWxBbGlnbjogXCJtaWRkbGVcIixcbiAgICAgICAgICAgIGJvbGQ6IGZhbHNlLFxuICAgICAgICAgICAgaXRhbGljOiBmYWxzZSxcbiAgICAgICAgICAgIHVuZGVybGluZTogZmFsc2UsXG4gICAgICAgICAgICBmb3JlY29sb3I6IFwiYmxhY2tcIixcbiAgICAgICAgICAgIGJhY2tjb2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvZGRSb3dDb2xvcjogXCJyZ2JhKDAsMCwwLDApXCIsXG4gICAgICAgIHJvd0hlaWdodDogNTAsXG4gICAgICAgIHNlcGFyYXRvcjoge1xuICAgICAgICAgIGNvbG9yOiBcInJnYmEoMjM4LDIzOCwyMzgsIDEpXCIsXG4gICAgICAgICAgc2hvd0NvbHVtbjogdHJ1ZSxcbiAgICAgICAgICBzaG93Um93OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzY3JvbGw6IHt9LFxuICAgICAgc3ByZWFkc2hlZXQ6IHtcbiAgICAgICAgc2VsZWN0aW9uOiBcImRyaXZlXCIsXG4gICAgICAgIGRvY05hbWU6IFwiXCIsXG4gICAgICAgIHVybDogXCJcIixcbiAgICAgICAgZmlsZUlkOiBcIlwiLFxuICAgICAgICBjZWxsczogXCJzaGVldFwiLFxuICAgICAgICByYW5nZToge1xuICAgICAgICAgIHN0YXJ0Q2VsbDogXCJcIixcbiAgICAgICAgICBlbmRDZWxsOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIHNoZWV0TmFtZTogXCJcIixcbiAgICAgICAgaGFzSGVhZGVyOiBmYWxzZSxcbiAgICAgICAgcmVmcmVzaDogNjAsXG4gICAgICAgIGFwaUtleTogXCJcIlxuICAgICAgfVxuICAgIH1cbiAgfSApO1xuXG5hbmd1bGFyLm1vZHVsZSggXCJyaXNldmlzaW9uLndpZGdldC5nb29nbGVTcHJlYWRzaGVldC5zZXR0aW5nc1wiIClcbiAgLmNvbnN0YW50KCBcIlNIRUVUU19BUElcIiwgXCJodHRwczovL3NoZWV0cy5nb29nbGVhcGlzLmNvbS92NC9zcHJlYWRzaGVldHMvXCIgKVxuXG4gIC5mYWN0b3J5KCBcImdvb2dsZVNoZWV0XCIsIFsgXCIkaHR0cFwiLCBcIiRxXCIsIFwiJGxvZ1wiLCBcIlNIRUVUU19BUElcIiwgXCJBUElfS0VZXCIsXG4gICAgZnVuY3Rpb24oICRodHRwLCAkcSwgJGxvZywgU0hFRVRTX0FQSSwgQVBJX0tFWSApIHtcblxuICAgICAgdmFyIGZhY3RvcnkgPSB7fSxcbiAgICAgICAgY29sdW1uc1JlcXVlc3QgPSBudWxsLFxuICAgICAgICBjb2x1bW5zUmVxdWVzdFN1Y2Nlc3MgPSB0cnVlLFxuICAgICAgICBnZXRDb2x1bW5OYW1lID0gZnVuY3Rpb24oIGluZGV4ICkge1xuICAgICAgICAgIHZhciBvcmRBID0gXCJhXCIuY2hhckNvZGVBdCggMCApLFxuICAgICAgICAgICAgb3JkWiA9IFwielwiLmNoYXJDb2RlQXQoIDAgKSxcbiAgICAgICAgICAgIGxlbiA9IG9yZFogLSBvcmRBICsgMSxcbiAgICAgICAgICAgIHMgPSBcIlwiO1xuXG4gICAgICAgICAgd2hpbGUgKCBpbmRleCA+PSAwICkge1xuICAgICAgICAgICAgcyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoIGluZGV4ICUgbGVuICsgb3JkQSApICsgcztcbiAgICAgICAgICAgIGluZGV4ID0gTWF0aC5mbG9vciggaW5kZXggLyBsZW4gKSAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmVDb2x1bW5zID0gZnVuY3Rpb24oIHZhbHVlcywgcmFuZ2UgKSB7XG4gICAgICAgICAgdmFyIG5hbWVJbmRleCA9IDAsXG4gICAgICAgICAgICBjb2x1bW47XG5cbiAgICAgICAgICBpZiAoIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgIGlmICggcmFuZ2UgKSB7XG4gICAgICAgICAgICAgIG5hbWVJbmRleCA9IHJhbmdlLnNsaWNlKCAwLCByYW5nZS5pbmRleE9mKCBcIjpcIiApICkudG9Mb3dlckNhc2UoKS5jaGFyQ29kZUF0KCAwICkgLSA5NztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAoIGZ1bmN0aW9uKCB2YWwsIGluZGV4ICkge1xuICAgICAgICAgICAgICBjb2x1bW4gPSB7fTtcblxuICAgICAgICAgICAgICBjb2x1bW4uaWQgPSBpbmRleDtcbiAgICAgICAgICAgICAgY29sdW1uLm5hbWUgPSBnZXRDb2x1bW5OYW1lKCBuYW1lSW5kZXggKS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgIG5hbWVJbmRleCArPSAxO1xuXG4gICAgICAgICAgICAgIHJldHVybiBjb2x1bW47XG4gICAgICAgICAgICB9ICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgZmFjdG9yeS5nZXRXb3JrU2hlZXRzID0gZnVuY3Rpb24oIGZpbGVJZCwgYXBpS2V5ICkge1xuICAgICAgICB2YXIgYXBpID0gU0hFRVRTX0FQSSArIGZpbGVJZCArIFwiP2tleT1cIiArICggKCBhcGlLZXkgKSA/IGFwaUtleSA6IEFQSV9LRVkgKTtcblxuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCBhcGkgKVxuICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5zaGVldHM7XG4gICAgICAgICAgfSApO1xuICAgICAgfTtcblxuICAgICAgZmFjdG9yeS5nZXRDb2x1bW5zRGF0YSA9IGZ1bmN0aW9uKCBmaWxlSWQsIGFwaUtleSwgc2hlZXQsIHJhbmdlICkge1xuICAgICAgICB2YXIgYXBpID0gU0hFRVRTX0FQSSArIGZpbGVJZCArIFwiL3ZhbHVlcy9cIiArIGVuY29kZVVSSUNvbXBvbmVudCggc2hlZXQgKSArICggKCByYW5nZSApID8gXCIhXCIgKyByYW5nZSA6IFwiXCIgKSArXG4gICAgICAgICAgXCI/a2V5PVwiICsgKCAoIGFwaUtleSApID8gYXBpS2V5IDogQVBJX0tFWSApICsgXCImbWFqb3JEaW1lbnNpb249Q09MVU1OU1wiLFxuICAgICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICBpZiAoIGNvbHVtbnNSZXF1ZXN0ID09PSBhcGkgJiYgY29sdW1uc1JlcXVlc3RTdWNjZXNzICkge1xuICAgICAgICAgIC8vIHJlc29sdmUgYnV0IHBhc3MgbnVsbCB0byBpbmRpY2F0ZSBubyBuZXcgZGF0YSB0byBwcm92aWRlXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSggbnVsbCApO1xuICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbHVtbnNSZXF1ZXN0ID0gYXBpO1xuXG4gICAgICAgICAgcmV0dXJuICRodHRwLmdldCggYXBpIClcbiAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnNSZXF1ZXN0U3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLnZhbHVlcztcbiAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uKCB2YWx1ZXMgKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb25maWd1cmVDb2x1bW5zKCB2YWx1ZXMsIHJhbmdlICk7XG4gICAgICAgICAgICB9IClcbiAgICAgICAgICAgIC50aGVuKCBudWxsLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnNSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgY29sdW1uc1JlcXVlc3RTdWNjZXNzID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCByZXNwb25zZS5kYXRhLmVycm9yICk7XG4gICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgfSApO1xuICAgICAgICB9XG5cbiAgICAgIH07XG5cbiAgICAgIGZhY3RvcnkucmVzZXRDb2x1bW5zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbHVtbnNSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgY29sdW1uc1JlcXVlc3RTdWNjZXNzID0gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmYWN0b3J5O1xuXG4gICAgfSBdICk7XG4iXX0=
